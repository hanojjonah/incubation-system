(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14865,33312,23019,65733,30439,4344,56974,16142,97687,45489,1342,15071],{16143:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null,hash:"1c6b4e45a045976cb346fc1824fa2578"};e.exports=t},165103:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null,hash:"bc3408725d4de6a75e59ac3d2aefd4b2"};e.exports=t},902856:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"474x")'},{alias:"coverImage136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"136x136")'},{alias:"coverImage170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"170x")'},{alias:"coverImage222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"222x")'},{alias:"coverImage90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"90x90")'}],type:"ExploreArticle",abstractKey:null};n.hash="bc8b8afb394eb9f724930319c776249a",e.exports=n},957872:e=>{var t,n,i,r,o,a,s,l,c,d,u,p,h,m,g,f,_,v,y,x,b,w,S,I={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FlashlightPagePinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},l={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},u={alias:"imageOrig",args:c=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},h={alias:"image736x",args:p=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},g={alias:"image564x",args:m=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"564x")'},_={alias:"image474x",args:f=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"474x")'},y={alias:"image236x",args:v=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},w={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:b=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageOrig",args:c,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x=[o,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:d,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:f,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:v,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},S={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:b,storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FlashlightPagePinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[r,o,a,s,l,u,h,g,_,y,w,S,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"2fbe7c612e0b9e55147a27059ea1cb52fb3420abce761a50d75549302dd620bd",metadata:{},name:"FlashlightPagePinQuery",operationKind:"query",text:null}};I.hash="3e072d3a492316c79a629968e8cd0a07",e.exports=I},190706:e=>{var t,n,i,r,o,a,s,l,c,d,u,p,h,m,g,f,_,v,y,x,b,w,S,I,P={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},s={alias:"imageOrig",args:o=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},c={alias:"image736x",args:l=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},u={alias:"image564x",args:d=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"564x")'},h={alias:"image474x",args:p=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"474x")'},g={alias:"image236x",args:m=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[f={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},v={alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[_={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageOrig",args:o,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"orig")'},{alias:"image736x",args:l,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},{alias:"image564x",args:d,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"564x")'},{alias:"image474x",args:p,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"474x")'},{alias:"image236x",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"236x")'}],storageKey:null}],storageKey:null},b={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:x=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:"additionalImageOrig",args:o,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:y=[_,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:a,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:y,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:l,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:y,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:y,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:y,storageKey:'additionalImagesPerSpec(spec:"236x")'}],storageKey:null}],storageKey:null},w={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:x,storageKey:null},S={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,r,s,c,u,h,g,{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[f,v,I={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},b,w,S,I],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c849c16890001791719605eee00998b40fff9507756fec792bdb95a1a6c3feeb",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};P.hash="724f360ccc5e62a89e40f566310c2ff9",e.exports=P},133132:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=t},964820:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=t},669988:e=>{var t,n,i,r,o,a,s,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],kind:"Fragment",metadata:null,name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r,o,a,s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},s],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"4610a8b7fe41310eb2db231b8c1171930d91f797fbc7fd321ec6682cb48a3711",metadata:{},name:"UnauthCloseupInviteUpsellQuery",operationKind:"query",text:null}};l.hash="6932152931fe069ad54b218e36e66908",e.exports=l},535994:e=>{var t,n,i,r,o,a,s,l,c,d,u,p,h,m,g,f,_,v,y,x,b,w,S,I,P,T,k,C,j,E,A,F,D,R,O,L,M,z,Z,N,B,U,H,$,K,W,G,V,q,Y,X,J,Q,ee,te={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},_={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[v={alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:S=[y={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:I=[i,y,x,b,w],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:I,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:I,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,P={alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},g,T={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},f],storageKey:null},F={alias:"imageOrig",args:k=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A=[C={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},f,j={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'images(spec:"orig")'},R={alias:"image564x",args:D=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A,storageKey:'images(spec:"564x")'},L={alias:"image736x",args:O=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A,storageKey:'images(spec:"736x")'},z={alias:"image474x",args:M=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A,storageKey:'images(spec:"474x")'},N={alias:"image236x",args:Z=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A,storageKey:'images(spec:"236x")'},B={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},Y={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[o,l,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[g,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[g,j],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[g,U={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null},$={alias:"additionalImageOrig",args:k,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H=[r,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[E,f,C],storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},K={alias:"additionalImage564x",args:D,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H,storageKey:'additionalImagesPerSpec(spec:"564x")'},W={alias:"additionalImage736x",args:O,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H,storageKey:'additionalImagesPerSpec(spec:"736x")'},G={alias:"additionalImage474x",args:M,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H,storageKey:'additionalImagesPerSpec(spec:"474x")'},V={alias:"additionalImage236x",args:Z,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[r,q={alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},X={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[g,U,$,K,W,G,V,{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[q,r],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,r,o,a,s,l,c,d,u,p,h,m,_,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[v,J={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:Q=[y,x,b,w,J],storageKey:null},J],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ee=[i,y,x,b,w,J],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,P,g,T,f,J],storageKey:null},F,R,L,z,N,B,Y,X,J],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"5f09d38fcc19ea4defe9a2ced0ea73c23f12ec0bc0e6d4bd4f24974e35d6e8ea",metadata:{},name:"UnauthDesktopFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};te.hash="41066749b18be6f77425904cd44e3d69",e.exports=te},433549:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"getActionButtonText_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[t],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="7bcb0fc5325dacb6a2d34dd58eecb4e3",e.exports=n},299899:(e,t,n)=>{n.d(t,{AG:()=>E,CP:()=>R,E9:()=>l,F6:()=>h,Lj:()=>D,M8:()=>j,MM:()=>S,MS:()=>i,On:()=>p,SI:()=>b,TJ:()=>c,TO:()=>u,W3:()=>s,WM:()=>x,X:()=>O,XC:()=>v,XS:()=>I,Y9:()=>f,Yp:()=>m,_b:()=>r,_e:()=>C,_l:()=>_,bY:()=>d,co:()=>T,e9:()=>o,iT:()=>k,iu:()=>y,kl:()=>w,mv:()=>F,om:()=>a,ou:()=>P,qo:()=>g,sb:()=>A,z$:()=>L});const i="visitedPagesBeforeLogin",r="_lastVisitedPages",o="visitedPinLandingPagesBeforeLogin",a="visitedBoardLandingPagesBeforeLogin",s="lastVisitedPage",l="unauthTopicsFollowed",c="unauthPins",d="unauthHybridLoginModalView",u="unauthHybridClickthroughCount",p="unauthHybridClickthroughTS",h="signupTime",m="signupInterestsPickerScrollDown",g="signupTriedSkipInputName",f="signupTriedSkipGender",_="signupInterestsPickerStartTime",v="signupUserLocale",y="signupUserCountry",x="uoiou",b="unauthRevisitation",w="urh",S="lineOAuthOneTimeCode",I="unlinkNetwork",P="mfapc",T="logoutPending",k="GroupBoardContentViewSwitcher_Settings",C="_video_autoplay_state",j="unauthDesktopSavePinId",E="unauthDesktopFollowId",A="adv_growth_marketing_plan_state",F="upsell_shown_conversation_pins",D="pin-builder-delete-menu-alert-modal",R="postDownloadAppUpsellLastViewed",O="postDownloadAppUpsellTimesViewed",L="vmp_banner_last_dismissed_at"},240684:(e,t,n)=>{n.d(t,{TA:()=>C,ZP:()=>E});var i=n(667294),r=n(263366),o=n(487462),a=n(497326),s=n(875068),l=n(659864),c=n(108679),d=n.n(c);function u(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function p(e){console.warn("loadable: "+e)}var h=i.createContext(),m="__LOADABLE_REQUIRED_CHUNKS__";function g(e){return""+e+m}var f={initialChunks:{}},_="PENDING",v="REJECTED";var y=function(e){return e};function x(e){var t=e.defaultResolveComponent,n=void 0===t?y:t,c=e.render,p=e.onLoad;function m(e,t){void 0===t&&(t={});var m=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),g={};function y(e){return t.cacheKey?t.cacheKey(e):m.resolve?m.resolve(e):"static"}function x(e,i,r){var o=t.resolveComponent?t.resolveComponent(e,i):n(e);if(t.resolveComponent&&!(0,l.isValidElementType)(o))throw new Error("resolveComponent returned something that is not a React component!");return d()(r,o,{preload:!0}),o}var b,w=function(e){function n(n){var i;return(i=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:y(n)},u(!n.__chunkExtractor||m.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(m.requireAsync(n).catch((function(){return null})),i.loadSync(),n.__chunkExtractor.addChunk(m.chunkName(n))),(0,a.Z)(i)):(!1!==t.ssr&&(m.isReady&&m.isReady(n)||m.chunkName&&f.initialChunks[m.chunkName(n)])&&i.loadSync(),i)}(0,s.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=y(e);return(0,o.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===v&&this.setCache(),this.state.loading&&this.loadAsync()},i.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},i.componentWillUnmount=function(){this.mounted=!1},i.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},i.getCacheKey=function(){return y(this.props)},i.getCache=function(){return g[this.getCacheKey()]},i.setCache=function(e){void 0===e&&(e=void 0),g[this.getCacheKey()]=e},i.triggerOnLoad=function(){var e=this;p&&setTimeout((function(){p(e.state.result,e.props)}))},i.loadSync=function(){if(this.state.loading)try{var e=x(m.requireSync(this.props),this.props,I);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:m.resolve(this.props),chunkName:m.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},i.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=x(t,e.props,{Loadable:I});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},i.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,(0,r.Z)(t,["__chunkExtractor","forwardedRef"])),i=this.getCache();return i||((i=m.requireAsync(n)).status=_,this.setCache(i),i.then((function(){i.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:m.resolve(e.props),chunkName:m.chunkName(e.props),error:t?t.message:t}),i.status=v}))),i},i.render=function(){var e=this.props,n=e.forwardedRef,i=e.fallback,a=(e.__chunkExtractor,(0,r.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),s=this.state,l=s.error,d=s.loading,u=s.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===_)throw this.loadAsync();if(l)throw l;var p=i||t.fallback||null;return d?p:c({fallback:p,result:u,options:t,props:(0,o.Z)({},a,{ref:n})})},n}(i.Component),S=(b=w,function(e){return i.createElement(h.Consumer,null,(function(t){return i.createElement(b,Object.assign({__chunkExtractor:t},e))}))}),I=i.forwardRef((function(e,t){return i.createElement(S,Object.assign({forwardedRef:t},e))}));return I.preload=function(e){m.requireAsync(e)},I.load=function(e){return m.requireAsync(e)},I}return{loadable:m,lazy:function(e,t){return m(e,(0,o.Z)({},t,{suspense:!0}))}}}var b=x({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return i.createElement(t,n)}}),w=b.loadable,S=b.lazy,I=x({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),P=I.loadable,T=I.lazy,k="undefined"!=typeof window;function C(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,i=void 0===n?"":n;if(!k)return p("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var r=null;if(k){var o=g(i),a=document.getElementById(o);if(a){r=JSON.parse(a.textContent);var s=document.getElementById(o+"_ext");if(!s)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(s.textContent).namedChunks.forEach((function(e){f.initialChunks[e]=!0}))}}if(!r)return p("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function i(){r.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(l||(l=!0,e()))}t.push=function(){n.apply(void 0,arguments),i()},i()})).then(e)}var j=w;j.lib=P,S.lib=T;const E=j},294184:(e,t)=>{var n;!function(){var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var a=r.apply(null,n);a&&e.push(a)}else if("object"===o)for(var s in n)i.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},701305:e=>{var t=[],n=[];function i(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var o=Object.prototype.toString,a=o.call(e);if(a!=o.call(t))return!1;switch(a){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var s=n.length;s--;)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var l=0;if("[object Array]"===a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!i(e[l],t[l],n,r))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var c=Object.keys(e);if(c.length!=Object.keys(t).length)return!1;for(var d=0;d<c.length;d++)if(!i(e[c[d]],t[c[d]],n,r))return!1}return n.pop(),r.pop(),!0}e.exports=function(e,r){var o=t.length?t.pop():[],a=n.length?n.pop():[],s=i(e,r,o,a);return o.length=0,a.length=0,t.push(o),n.push(a),s}},60139:e=>{function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},663620:(e,t,n)=>{var i=n(60139);e.exports=i},604077:e=>{e.exports="https://s.pinimg.com/webapp/handle_bottom_left-80eb8fea.svg"},777506:e=>{e.exports="https://s.pinimg.com/webapp/handle_bottom_right-61aecc74.svg"},641696:e=>{e.exports="https://s.pinimg.com/webapp/handle_top_left-892a69ad.svg"},105879:e=>{e.exports="https://s.pinimg.com/webapp/handle_top_right-ee54bc08.svg"},108679:(e,t,n)=>{var i=n(121296),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(m){var r=h(n);r&&r!==m&&e(t,r,i)}var a=d(n);u&&(a=a.concat(u(n)));for(var s=l(t),g=l(n),f=0;f<a.length;++f){var _=a[f];if(!(o[_]||i&&i[_]||g&&g[_]||s&&s[_])){var v=p(n,_);try{c(t,_,v)}catch(y){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116;function f(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case u:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case l:return e;default:return t}}case g:case m:case r:return t}}}function _(e){return f(e)===u}t.typeOf=f,t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=r,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===s||e===a||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return _(e)||f(e)===d},t.isConcurrentMode=_,t.isContextConsumer=function(e){return f(e)===c},t.isContextProvider=function(e){return f(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return f(e)===p},t.isFragment=function(e){return f(e)===o},t.isLazy=function(e){return f(e)===g},t.isMemo=function(e){return f(e)===m},t.isPortal=function(e){return f(e)===r},t.isProfiler=function(e){return f(e)===s},t.isStrictMode=function(e){return f(e)===a},t.isSuspense=function(e){return f(e)===h}},121296:(e,t,n)=>{e.exports=n(396103)},562705:(e,t,n)=>{var i=n(555639).Symbol;e.exports=i},896874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},286556:(e,t,n)=>{var i=n(789465),r=n(977813);e.exports=function(e,t,n){(void 0!==n&&!r(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},228483:(e,t,n)=>{var i=n(225063)();e.exports=i},644239:(e,t,n)=>{var i=n(562705),r=n(789607),o=n(902333),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},642980:(e,t,n)=>{var i=n(646384),r=n(286556),o=n(228483),a=n(559783),s=n(513218),l=n(481704),c=n(636390);e.exports=function e(t,n,d,u,p){t!==n&&o(n,(function(o,l){if(p||(p=new i),s(o))a(t,n,l,d,e,u,p);else{var h=u?u(c(t,l),o,l+"",t,n,p):void 0;void 0===h&&(h=o),r(t,l,h)}}),l)}},559783:(e,t,n)=>{var i=n(286556),r=n(364626),o=n(477133),a=n(200278),s=n(738517),l=n(135694),c=n(701469),d=n(229246),u=n(644144),p=n(623560),h=n(513218),m=n(968630),g=n(936719),f=n(636390),_=n(959881);e.exports=function(e,t,n,v,y,x,b){var w=f(e,n),S=f(t,n),I=b.get(S);if(I)i(e,n,I);else{var P=x?x(w,S,n+"",e,t,b):void 0,T=void 0===P;if(T){var k=c(S),C=!k&&u(S),j=!k&&!C&&g(S);P=S,k||C||j?c(w)?P=w:d(w)?P=a(w):C?(T=!1,P=r(S,!0)):j?(T=!1,P=o(S,!0)):P=[]:m(S)||l(S)?(P=w,l(w)?P=_(w):h(w)&&!p(w)||(P=s(S))):T=!1}T&&(b.set(S,P),y(P,S,v,x,b),b.delete(S)),i(e,n,P)}}},105976:(e,t,n)=>{var i=n(406557),r=n(545357),o=n(430061);e.exports=function(e,t){return o(r(e,t,i),e+"")}},356560:(e,t,n)=>{var i=n(575703),r=n(538777),o=n(406557),a=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=a},727561:(e,t,n)=>{var i=n(567990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},321463:(e,t,n)=>{var i=n(105976),r=n(816612);e.exports=function(e){return i((function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&r(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++i<o;){var l=n[i];l&&e(t,l,i,a)}return t}))}},225063:e=>{e.exports=function(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(!1===n(o[l],l,o))break}return t}}},538777:(e,t,n)=>{var i=n(610852),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},431957:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},789607:(e,t,n)=>{var i=n(562705),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(l){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},816612:(e,t,n)=>{var i=n(977813),r=n(498612),o=n(565776),a=n(513218);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&o(t,n.length):"string"==s&&t in n)&&i(n[t],e)}},902333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},545357:(e,t,n)=>{var i=n(896874),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=r(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),i(e,this,c)}}},555639:(e,t,n)=>{var i=n(431957),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},636390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},430061:(e,t,n)=>{var i=n(356560),r=n(521275)(i);e.exports=r},521275:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var r=t(),o=16-(r-i);if(i=r,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},575703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,t,n)=>{var i=n(513218),r=n(707771),o=n(14841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,d,u,p,h,m=0,g=!1,f=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,i=c;return l=c=void 0,m=t,u=e.apply(i,n)}function y(e){var n=e-h;return void 0===h||n>=t||n<0||f&&e-m>=d}function x(){var e=r();if(y(e))return b(e);p=setTimeout(x,function(e){var n=t-(e-h);return f?s(n,d-(e-m)):n}(e))}function b(e){return p=void 0,_&&l?v(e):(l=c=void 0,u)}function w(){var e=r(),n=y(e);if(l=arguments,c=this,h=e,n){if(void 0===p)return function(e){return m=e,p=setTimeout(x,t),g?v(e):u}(h);if(f)return clearTimeout(p),p=setTimeout(x,t),v(h)}return void 0===p&&(p=setTimeout(x,t)),u}return t=o(t)||0,i(n)&&(g=!!n.leading,d=(f="maxWait"in n)?a(o(n.maxWait)||0,t):d,_="trailing"in n?!!n.trailing:_),w.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=h=c=p=void 0},w.flush=function(){return void 0===p?u:b(r())},w}},406557:e=>{e.exports=function(e){return e}},701469:e=>{var t=Array.isArray;e.exports=t},229246:(e,t,n)=>{var i=n(498612),r=n(637005);e.exports=function(e){return r(e)&&i(e)}},637005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},968630:(e,t,n)=>{var i=n(644239),r=n(385924),o=n(637005),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},682492:(e,t,n)=>{var i=n(642980),r=n(321463)((function(e,t,n){i(e,t,n)}));e.exports=r},707771:(e,t,n)=>{var i=n(555639);e.exports=function(){return i.Date.now()}},14841:(e,t,n)=>{var i=n(727561),r=n(513218),o=n(733448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},959881:(e,t,n)=>{var i=n(698363),r=n(481704);e.exports=function(e){return i(e,r(e))}},869921:(e,t)=>{var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case u:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case f:case g:case l:return e;default:return t}}case r:return t}}}function w(e){return b(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=o,t.Lazy=f,t.Memo=g,t.Portal=r,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||b(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===f},t.isMemo=function(e){return b(e)===g},t.isPortal=function(e){return b(e)===r},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===s||e===a||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===v||e.$$typeof===y||e.$$typeof===x||e.$$typeof===_)},t.typeOf=b},659864:(e,t,n)=>{e.exports=n(869921)},201342:(e,t,n)=>{n.d(t,{tn:()=>de});var i,r=n(667294),o=n.t(r,2);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));function a(e,t){if(!1===e||null==e)throw new Error(t)}function s(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function l(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}var c;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(c||(c={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function d(e,t,n){void 0===n&&(n="/");let i=I(("string"==typeof t?l(t):t).pathname||"/",n);if(null==i)return null;let r=u(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let o=null;for(let a=0;null==o&&a<r.length;++a)o=b(r[a],S(i));return o}function u(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(a(s.relativePath.startsWith(i),'Absolute route path "'+s.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(i.length));let l=P([i,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),u(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:x(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of p(e.path))r(e,t,i);else r(e,t)})),t}function p(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===i.length)return r?[o,""]:[o];let a=p(i.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),r&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const h=/^:\w+$/,m=3,g=2,f=1,_=10,v=-2,y=e=>"*"===e;function x(e,t){let n=e.split("/"),i=n.length;return n.some(y)&&(i+=v),t&&(i+=g),n.filter((e=>!y(e))).reduce(((e,t)=>e+(h.test(t)?m:""===t?f:_)),i)}function b(e,t){let{routesMeta:n}=e,i={},r="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=w({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(i,c.params);let d=e.route;o.push({params:i,pathname:P([r,c.pathname]),pathnameBase:T(P([r,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(r=P([r,c.pathnameBase]))}return o}function w(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);s("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(i.push(t),"/([^\\/]+)")));e.endsWith("*")?(i.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let o=new RegExp(r,t?void 0:"i");return[o,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce(((e,t,n)=>{if("*"===t){let e=l[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return s(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function S(e){try{return decodeURI(e)}catch(t){return s(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}const P=e=>e.join("/").replace(/\/\/+/g,"/"),T=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");class k extends Error{}function C(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const j=["post","put","patch","delete"],E=(new Set(j),["get",...j]);new Set(E),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;Symbol("deferred");const A="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:F,useEffect:D,useLayoutEffect:R,useDebugValue:O}=o;function L(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!A(n,e)}catch(i){return!0}}"undefined"==typeof window||void 0===window.document||window.document.createElement,o.useSyncExternalStore;const M=r.createContext(null);const z=r.createContext(null);const Z=r.createContext(null);const N=r.createContext(null);const B=r.createContext({outlet:null,matches:[]});const U=r.createContext(null);function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},H.apply(this,arguments)}function $(){return null!=r.useContext(N)}function K(){return $()||a(!1),r.useContext(N).location}function W(){let e=function(){var e;let t=r.useContext(U),n=J(X.UseRouteError),i=Q(X.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=C(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}class G extends r.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?r.createElement(B.Provider,{value:this.props.routeContext},r.createElement(U.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(M);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(B.Provider,{value:t},i)}function q(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let i=e,o=null==n?void 0:n.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||a(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((e,a,s)=>{let l=a.route.id?null==o?void 0:o[a.route.id]:null,c=null;n&&(c=a.route.ErrorBoundary?r.createElement(a.route.ErrorBoundary,null):a.route.errorElement?a.route.errorElement:r.createElement(W,null));let d=t.concat(i.slice(0,s+1)),u=()=>{let t=e;return l?t=c:a.route.Component?t=r.createElement(a.route.Component,null):a.route.element&&(t=a.route.element),r.createElement(V,{match:a,routeContext:{outlet:e,matches:d},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?r.createElement(G,{location:n.location,component:c,error:l,children:u(),routeContext:{outlet:null,matches:d}}):u()}),null)}var Y,X;function J(e){let t=r.useContext(z);return t||a(!1),t}function Q(e){let t=function(e){let t=r.useContext(B);return t||a(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||a(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Y||(Y={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(X||(X={}));function ee(e){a(!1)}function te(e){let{basename:t="/",children:n=null,location:o,navigationType:s=i.Pop,navigator:c,static:d=!1}=e;$()&&a(!1);let u=t.replace(/^\/*/,"/"),p=r.useMemo((()=>({basename:u,navigator:c,static:d})),[u,c,d]);"string"==typeof o&&(o=l(o));let{pathname:h="/",search:m="",hash:g="",state:f=null,key:_="default"}=o,v=r.useMemo((()=>{let e=I(h,u);return null==e?null:{location:{pathname:e,search:m,hash:g,state:f,key:_},navigationType:s}}),[u,h,m,g,f,_,s]);return null==v?null:r.createElement(Z.Provider,{value:p},r.createElement(N.Provider,{children:n,value:v}))}function ne(e){let{children:t,location:n}=e,o=r.useContext(M);return function(e,t){$()||a(!1);let{navigator:n}=r.useContext(Z),o=r.useContext(z),{matches:s}=r.useContext(B),c=s[s.length-1],u=c?c.params:{},p=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,m=K();if(t){var g;let e="string"==typeof t?l(t):t;"/"===p||(null==(g=e.pathname)?void 0:g.startsWith(p))||a(!1),h=e}else h=m;let f=h.pathname||"/",_=d(e,{pathname:"/"===p?f:f.slice(p.length)||"/"}),v=q(_&&_.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:P([p,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:P([p,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,o||void 0);return t&&v?r.createElement(N.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:i.Pop}},v):v}(o&&!t?o.router.routes:oe(t),n)}var ie;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(ie||(ie={}));new Promise((()=>{}));class re extends r.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,i=null,r=ie.pending;if(n instanceof Promise)if(this.state.error){ie.error;let e=this.state.error;Promise.reject().catch((()=>{})),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_error",{get:()=>e})}else n._tracked?(n,void 0!==i._error?ie.error:void 0!==i._data?ie.success:ie.pending):(ie.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else ie.success,Promise.resolve(),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_data",{get:()=>n});if(r===ie.error&&i._error instanceof AbortedDeferredError)throw neverSettledPromise;if(r===ie.error&&!t)throw i._error;if(r===ie.error)return React.createElement(AwaitContext.Provider,{value:i,children:t});if(r===ie.success)return React.createElement(AwaitContext.Provider,{value:i,children:e});throw i}}function oe(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,oe(e.props.children,o));e.type!==ee&&a(!1),e.props.index&&e.props.children&&a(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=oe(e.props.children,o)),n.push(s)})),n}var ae=n(616550);"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;var se,le;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(se||(se={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(le||(le={}));const ce=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?r.useLayoutEffect:()=>{};function de(e){let{children:t}=e,n=(0,ae.useHistory)(),[i,o]=r.useState((()=>({location:n.location,action:n.action})));return ce((()=>{n.listen(((e,t)=>o({location:e,action:t})))}),[n]),r.createElement(te,{navigationType:i.action,location:i.location,navigator:n},r.createElement(ne,null,r.createElement(ee,{path:"*",element:t})))}},615071:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(487462),r=n(263366),o=n(875068);n(45697);function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(667294),l=n(973935);const c=!1;var d=n(500220),u="unmounted",p="exited",h="entering",m="entered",g="exiting",f=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(r=p,i.appearStatus=h):r=m:r=t.unmountOnExit||t.mountOnEnter?u:p,i.state={status:r},i.nextCallback=null,i}(0,o.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==m&&(t=h):n!==h&&n!==m||(t=g)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:u})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[l.findDOMNode(this),i],o=r[0],a=r[1],s=this.getTimeouts(),d=i?s.appear:s.enter;!e&&!n||c?this.safeSetState({status:m},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:h},(function(){t.props.onEntering(o,a),t.onTransitionEnd(d,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:l.findDOMNode(this);t&&!c?(this.props.onExit(i),this.safeSetState({status:g},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:p},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],a=r[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(d.Z.Provider,{value:null},"function"==typeof n?n(e,i):s.cloneElement(s.Children.only(n),i))},t}(s.Component);function _(){}f.contextType=d.Z,f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_,onEntering:_,onEntered:_,onExit:_,onExiting:_,onExited:_},f.UNMOUNTED=u,f.EXITED=p,f.ENTERING=h,f.ENTERED=m,f.EXITING=g;const v=f;var y=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.remove(i):"string"==typeof n.className?n.className=a(n.className,i):n.setAttribute("class",a(n.className&&n.className.baseVal||"",i)));var n,i}))},x=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),r=i[0],o=i[1];t.removeClasses(r,"exit"),t.addClass(r,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),r=i[0],o=i[1]?"appear":"enter";t.addClass(r,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),r=i[0],o=i[1]?"appear":"enter";t.removeClasses(r,o),t.addClass(r,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,r=i?""+(i&&n?n+"-":"")+e:n[e];return{baseClassName:r,activeClassName:i?r+"-active":n[e+"Active"],doneClassName:i?r+"-done":n[e+"Done"]}},t}(0,o.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i=this.getClassNames(t)[n+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&r&&(i+=" "+r),"active"===n&&e&&e.scrollTop,i&&(this.appliedClasses[t][n]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"==typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)));var n,i}))}(e,i))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,r=n.active,o=n.done;this.appliedClasses[t]={},i&&y(e,i),r&&y(e,r),o&&y(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,r.Z)(e,["classNames"]));return s.createElement(v,(0,i.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);x.defaultProps={classNames:""},x.propTypes={};const b=x},500220:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(667294).createContext(null)},560053:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],c=s+1,d=e[c];if(0>o(l,n))c<r&&0>o(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>o(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,p=null,h=3,m=!1,g=!1,f=!1,_="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=i(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function b(e){if(f=!1,x(e),!g)if(null!==i(c))g=!0,D(w);else{var t=i(d);null!==t&&R(b,t.startTime-e)}}function w(e,n){g=!1,f&&(f=!1,v(T),T=-1),m=!0;var o=h;try{for(x(n),p=i(c);null!==p&&(!(p.expirationTime>n)||e&&!j());){var a=p.callback;if("function"==typeof a){p.callback=null,h=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===i(c)&&r(c),x(n)}else r(c);p=i(c)}if(null!==p)var l=!0;else{var u=i(d);null!==u&&R(b,u.startTime-n),l=!1}return l}finally{p=null,h=o,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,I=!1,P=null,T=-1,k=5,C=-1;function j(){return!(t.unstable_now()-C<k)}function E(){if(null!==P){var e=t.unstable_now();C=e;var n=!0;try{n=P(!0,e)}finally{n?S():(I=!1,P=null)}}else I=!1}if("function"==typeof y)S=function(){y(E)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,F=A.port2;A.port1.onmessage=E,S=function(){F.postMessage(null)}}else S=function(){_(E,0)};function D(e){P=e,I||(I=!0,S())}function R(e,n){T=_((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,D(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(d,e),null===i(c)&&e===i(d)&&(f?(v(T),T=-1):f=!0,R(b,o-a))):(e.sortIndex=s,n(c,e),g||m||(g=!0,D(w))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},17314:(e,t,n)=>{n.d(t,{Z:()=>c});var i,r,o=n(813653),a=n(861470),s=0,l=0;const c=function(e,t,n){var c=t&&n||0,d=t||new Array(16),u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:r;if(null==u||null==p){var h=e.random||(e.rng||o.Z)();null==u&&(u=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=r=16383&(h[6]<<8|h[7]))}var m=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:l+1,f=m-s+(g-l)/1e4;if(f<0&&void 0===e.clockseq&&(p=p+1&16383),(f<0||m>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,l=g,r=p;var _=(1e4*(268435455&(m+=122192928e5))+g)%4294967296;d[c++]=_>>>24&255,d[c++]=_>>>16&255,d[c++]=_>>>8&255,d[c++]=255&_;var v=m/4294967296*1e4&268435455;d[c++]=v>>>8&255,d[c++]=255&v,d[c++]=v>>>24&15|16,d[c++]=v>>>16&255,d[c++]=p>>>8|128,d[c++]=255&p;for(var y=0;y<6;++y)d[c+y]=u[y];return t||(0,a.Z)(d)}},542473:e=>{var t=function(){};e.exports=t},269458:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/visual-search"]=function(){return n(140093).Z}},361259:(e,t,n)=>{n.d(t,{$:()=>d,r:()=>u});var i=n(667294),r=n(425288),o=n(497529),a=n(780280),s=n(829407),l=n(785893);const{Provider:c,useHook:d}=(0,r.Z)("PinRep");function u({children:e}){const{isAuthenticated:t}=(0,a.B)(),[n,r]=(0,i.useState)(!0),[d,u]=(0,i.useState)(!1),p=(0,o.Z)(1000069);(0,s.Z)((()=>{(async()=>{var e,n,i,o;if(!t)return void r(!1);const a=await p.fetchAllExperiences();a&&a.payload&&500417===(null===(e=a.payload.experiences)||void 0===e||null===(n=e[1000069])||void 0===n?void 0:n.experience_id)&&null!==(i=a.payload.experiences)&&void 0!==i&&null!==(o=i[1000069])&&void 0!==o&&o.display_data.hide_footer?p.viewExperience(1000069,500417):r(!1),u(!0)})()}));const h=(0,i.useMemo)((()=>({hasSimplifiedPinGridExpLoaded:d,hidePinRepFooter:n})),[d,n]);return(0,l.jsx)(c,{value:h,children:e})}},656226:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var i=n(667294),r=n(616550),o=n(60568),a=n(768559),s=n(35495),l=n(564194),c=n(605028),d=n(623568),u=n(813401),p=n(868565),h=n(350118),m=n(883119),g=n(905723),f=n(152028),_=n(785893);const v={overlay:{__style:{backgroundColor:"#000"}}};function y(e){var t,n,r,o;const{pin:{id:a,images:s,title:l,videos:c,video_status_message:d}}=e,u=d||{},p=s&&s["236x"],h=c&&(null===(t=c.video_list)||void 0===t?void 0:t[g.Z.V_HLSV4]),{duration:y}=h||{};return(0,_.jsx)(i.Fragment,{children:(0,_.jsx)(m.st,{children:(0,_.jsxs)(m.iP,{role:"link",href:`/pin/${a}`,rounding:2,children:[(0,_.jsxs)(m.xu,{overflow:"hidden",position:"relative",rounding:2,children:[p&&(0,_.jsx)(m.Ee,{alt:l||"",color:"lightGray",naturalHeight:null!==(n=p.height)&&void 0!==n?n:1,naturalWidth:null!==(r=p.width)&&void 0!==r?r:1,src:null!==(o=p.url)&&void 0!==o?o:""}),!!y&&(0,_.jsx)(m.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,_.jsx)(f.Z,{duration:y})}),(0,_.jsx)(m.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:v.overlay}),(0,_.jsxs)(m.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,_.jsx)(m.X6,{color:"light",overflow:"normal",size:"400",children:u.title}),(0,_.jsx)(m.xu,{marginTop:4,children:(0,_.jsx)(m.xv,{color:"light",size:"200",overflow:"normal",children:u.subtitle})})]})]}),(0,_.jsx)(m.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,_.jsx)(m.xu,{flex:"grow",children:l&&(0,_.jsx)(m.xu,{paddingY:1,children:(0,_.jsx)(m.xv,{inline:!0,size:"200",weight:"bold",children:l})})})})]})})})}function x({trackingParams:e,objectIdStr:t,impressionData:n,auxData:m,componentType:g,slotIndex:f,viewData:v,viewParameter:x,viewType:b,pin:w,pinId:S,...I}){var P,T,k,C,j,E;const A=(0,r.useLocation)(),F=(0,h.S6)(),D=(S?F(S):null)||w,R=!(null===(P=D.story_pin_data)||void 0===P||!P.is_deleted),O=e||(0,a.Z)({boardUrl:null===(T=D.board)||void 0===T?void 0:T.url,callToCreateSourcePinId:D.call_to_create_source_pin_id,location:A,pinId:D.id,pinnerUserName:null===(k=D.pinner)||void 0===k?void 0:k.username,storyPinDataId:D.story_pin_data_id,trackingParams:D.tracking_params,trackingParamsMap:D.tracking_params_map}),L=(0,p.Z)(D),M=!!(L&&L.url&&L.height&&L.width)||void 0,z=L&&D.videos?D.videos.id:void 0,[Z,N]=(0,i.useState)(!1),B=(0,i.useCallback)((()=>N(!R)),[R]),U=(0,i.useCallback)((()=>N(!1)),[]),H=(0,u.yz)(),{isLeadPin:$}=(0,c.Z)(D);var K;$&&(m={lead_form_id:null===(K=D.promoted_lead_form)||void 0===K?void 0:K.lead_form_id,is_lead_ad:1});return(0,_.jsx)(l.Z,{componentType:g,contextLogData:{pwa_type:H,...m,...(0,s.Kl)(D,m)},impressionAuxFields:{...n||{},isNativeVideoAndWatchable:M,videoIdStr:z,clientTrackingParams:O||`${D.tracking_params||""}-0`,imageURL:null!==(C=null===(j=D.images)||void 0===j||null===(E=j["236x"])||void 0===E?void 0:E.url)&&void 0!==C?C:"",richTypes:(0,s.GT)(D)},impressionType:"Pin",isPaused:!Z,loggingId:D.id,slotIndex:f,objectIdStr:t,viewData:v,viewParameter:x,viewType:b,children:(0,d._J)(D)?(0,_.jsx)(y,{pin:D}):(0,_.jsx)(o.Z,{...I,debugImpressionState:Z?"started":"paused",onError:U,onLoad:B,pin:D,pinId:S,trackingParameters:{componentType:g,contextLogData:m,slotIndex:f,viewParameter:x,viewType:b}})})}},237056:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(773285),r=n(50286);const o="sce_lightswitch_organic",a="sce_lightswitch_monetized",s=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function l(e){const t=(0,r.HG)(),{checkExperiment:n}=(0,i.F)(),l=s[t?"dweb":"mweb"];return e&&(n(o),n(a)),n(l.organic).anyEnabled||n(l.monetized).anyEnabled}},180549:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(616550),r=n(883119),o=n(407043),a=n(558068),s=n(898781),l=n(785893);function c({isShopping:e,pinId:t,viewParameter:n,viewType:c}){const d=(0,s.ZP)(),u=(0,i.useHistory)(),{previous:p}=(0,a.Hv)(),{logContextEvent:h}=(0,o.v)();return(0,l.jsx)(r.hU,{accessibilityLabel:d._('Go back', 'Accessible icon for close button', 'Accessible icon for close button'),icon:e?"cancel":"directional-arrow-left",iconColor:"darkGray",onClick:()=>{h({event_type:101,view_type:c,element:34,view_parameter:n}),0!==p.length?u.goBack():u.replace(`/pin/${t}/`)}})}},99739:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(305791),r=n(599611);const o=({initialCropArea:e,pin:t,disableInitialCrop:n,imageSignature:o})=>{let a;if(e)a={...e};else{const{visual_objects:e}=t,{width:s,height:l}=(0,i.Z)({pin:t,imageSignature:o});if(n)a={x:0,y:0,w:s,h:l};else if(e&&e.length){const{x:t,y:n,w:i,h:o}=e[0];a=(0,r.Z)({cropArea:{x:t,y:n,w:i,h:o},scaledWidth:s,scaledHeight:l})}else{const[e,t]=[s/6,l/6],[n,i]=[s-2*e,l-2*t];a={x:e,y:t,w:n,h:i}}}return{x:Math.floor(a.x),y:Math.floor(a.y),w:Math.floor(a.w),h:Math.floor(a.h)}}},175644:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(883119),r=n(656226),o=n(407043),a=n(444445),s=n(681291),l=n(96939),c=n(785893);function d({action:e,component:t,dangerouslySetActionUrl:n,element:d,contextLogData:u,id:p,objects:h,viewType:m,viewParameter:g}){const{logContextEvent:f}=(0,o.v)(),_=null!=e&&e.url&&e.text?i=>(0,c.jsx)(l.Z,{coverImages:i.images,height:a.yF,onClick:()=>f({event_type:101,view_type:m,view_parameter:g,component:t,element:d,aux_data:{story_id:p,...u}}),text:e.text,url:null!=n?n:e.url,width:a.yF},"actionBubble"):null,{containerRef:v,itemsToRender:y,actionItem:x}=(0,s.n)({items:h,itemWidth:a.yF,itemGap:a.oX,actionItemType:_?"one":void 0});return(0,c.jsxs)(s.Z,{itemGap:a.oX,containerRef:v,children:[y.map(((e,n)=>(0,c.jsx)(i.xu,{flex:"none",width:a.yF,children:(0,c.jsx)(r.default,{pin:e,pinId:e.id,authDesktopSurface:"ShoppingDynamicHeightGrid",auxData:u,componentType:t,slotIndex:n,viewParameter:g,viewType:m,pinImageCrop:{height:a.yF,width:a.yF}})},e.id))),x&&(null==_?void 0:_(x))]})}},278716:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),r=n(372169),o=n(785893);function a({fetchMore:e,isAtEnd:t,isFetching:n,items:a,leftAlign:s,loadingLabel:l,marginBottom:c,renderItem:d}){return(0,o.jsxs)(i.xu,{"data-test-id":"square-shopping-grid",display:"flex",direction:"row",justifyContent:s?void 0:"center",marginBottom:c,wrap:!0,children:[(0,o.jsx)(i.gr,{isAtEnd:t,isFetching:n,fetchMore:e}),(a||[]).map(((e,t)=>d({item:e,itemIdx:t}))),Array.apply(0,Array(12)).map(((e,t)=>(0,o.jsx)(i.xu,{width:r.jh,margin:r.iO},t))),(0,o.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,o.jsx)(i.$j,{accessibilityLabel:l,show:n})})]})}},119403:(e,t,n)=>{n.d(t,{M:()=>_,Z:()=>v});var i=n(667294),r=n(883119),o=n(180549),a=n(898781),s=n(349700),l=n(773285);var c=n(427806),d=n(785893);function u({title:e,variant:t}){const n=(0,a.ZP)(),{checkExperiment:o}=(0,l.F)(),{anyEnabled:u}=o("web_unified_visual_feed"),p={default:(0,s.nk)(n._('Shop {{ category }}', 'relatedProducts.stela.header', 'header for related products stela feed'),{category:(e||"").toLowerCase()}).join("").trim(),"unified-feed":(0,s.nk)(n._('{{ category }}', 'unifiedHeader.stela.header', 'header for related products stela feed'),{category:(h=e||"",h.toLowerCase().charAt(0).toUpperCase()+h.toLowerCase().slice(1))}).join("").trim(),"closeup-shop":"","unified-feed-no-label":"","closeup-shop-idea-pin":n._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),"related-products":"",flashlight:e};var h;const m={"closeup-shop":n._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),"unified-feed":"","unified-feed-no-label":"","related-products":n._('More to shop', 'relatedProducts.header', 'header for related products feed'),"closeup-shop-idea-pin":n._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),flashlight:""},g=e?p[["flashlight","unified-feed","closeup-shop-idea-pin"].includes(t)?t:"default"]:m[t];return(0,d.jsx)(i.Fragment,{children:g?(0,d.jsx)(r.X6,{size:u&&"flashlight"!==t?"500":"400",accessibilityLevel:1,children:g}):(0,d.jsx)(c.Z,{text:n._('Related products page', 'relatedProducts.unifiedFeed.accessibilityhiddenheading', 'accessibility label for related products page')})})}var p=n(407043),h=n(124580),m=n(780280),g=n(167234),f=n(620862);const _=60;function v({filtersText:e,handleDrawerClose:t,handleDrawerOpen:n,isDrawerOpen:a,isShopping:s,pinId:l,showFilter:c,title:v,variant:y,viewParameter:x,viewType:b}){const{logContextEvent:w}=(0,p.v)(),{isRTL:S}=(0,m.B)(),I=(0,i.useRef)();(0,i.useEffect)((()=>(c&&w({event_type:120,view_type:b,component:13467,element:11735,view_parameter:x}),I.current&&h.Z.addObstruction("top",I.current),()=>{I.current&&h.Z.removeObstruction("top",I.current)})),[c]);const P=()=>{w({event_type:101,view_type:b,component:13467,element:11735,view_parameter:x}),n&&n()};return(0,d.jsx)(g.Z,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"},children:(0,d.jsxs)(r.xu,{alignItems:"center",color:"default",display:"flex",height:_,justifyContent:"center",paddingY:4,position:"absolute",top:!0,width:"100%","data-test-id":"related-products-header",ref:I,children:[(0,d.jsx)(r.xu,{marginStart:5,position:"absolute",left:!S,right:S,children:(0,d.jsx)(o.Z,{pinId:l,isShopping:s,viewType:b,viewParameter:x})}),(0,d.jsx)(u,{title:v,variant:y}),c&&"boolean"==typeof a&&P&&e&&t&&(0,d.jsx)(r.xu,{marginEnd:12,position:"absolute",left:S,right:!S,children:(0,d.jsx)(f.Z,{isDrawerOpen:a,onClick:P,buttonText:e,handleDrawerClose:t})})]})})}},528264:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(667294),r=n(883119),o=n(278716),a=n(656226),s=n(362810),l=n(92331),c=n(785893);const d=function({config:{commerce_data:e,image_signature:t,pinId:n,pinImageCrop:i,searchId:r,shoppingSurface:o,viewParameter:d,viewType:u},pin:p,slotIndex:h}){const m=`/pin/${n}/related-products/domain/`;let g=[];switch("BUBBLE_ONE_COL"===p.story_type&&(g=p.objects.slice(0,2)),p.type){case"story":switch(p.story_type){case"related_domain_collage":return(0,c.jsx)(s.Z,{story:p,dangerouslySetActionUrl:m,slotIndex:h});case"BUBBLE_ONE_COL":return(0,c.jsx)(l.Z,{bubbles:g,id:p.id,referringSource:p.referring_source,slotIndex:h,storyType:p.story_type,title:p.title,viewType:u,viewParameter:d});default:return null}case"pin":return(0,c.jsx)(a.default,{pin:p,pinId:p.id,pinImageCrop:i,authDesktopSurface:o,auxData:{search_identifier:r,image_signature:t,commerce_data:{entrypoint:"shopping",...e||{}}},componentType:0,slotIndex:h,viewData:{search_identifier:r},viewParameter:d,viewType:u});default:return null}};var u=n(372169),p=n(407043),h=n(898781),m=n(773285),g=n(53325),f=n(700380),_=n(829407);function v({commerceData:e,pinId:t,viewParameter:n,viewType:a,visualSearchFlashlightUnifiedResource:s,imageSignature:l,searchId:v}){var y;const{checkExperiment:x}=(0,m.F)(),{logContextEvent:b}=(0,p.v)(),w=(0,h.ZP)(),S=(0,i.useRef)(),{auxData:I,data:P,isAtEnd:T,isFetching:k,fetchMore:C}=s,j=null==P?void 0:P.results,E=()=>(0,f.Z)((()=>{b({event_type:110,view_type:a,view_parameter:n})}),100);(0,_.Z)((()=>(window.addEventListener("scroll",E),()=>{window.removeEventListener("scroll",E)}))),!S.current&&null!=I&&null!==(y=I.grid_layout)&&void 0!==y&&y.w_h_ratio&&(S.current=I.grid_layout.w_h_ratio);const A=S.current?"ShoppingDynamicHeightGrid":"ShoppingGridShippedMetadata",F={height:g.zX*(S.current||1),width:g.zX},{anyEnabled:D,group:R}=x("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0});j&&!R.includes("pwt")&&x("web_shopping_grid_metadata_ratings_shipping");const O={commerce_data:e,image_signature:l,pinId:t,pinImageCrop:F,searchId:v,shoppingSurface:A,viewParameter:n,viewType:a};return(0,c.jsx)(r.xu,{direction:"row",display:"flex",justifyContent:"center",marginStart:1,wrap:!0,children:(0,c.jsx)(o.Z,{fetchMore:C,isAtEnd:T,isFetching:k,loadingLabel:w._('Loading search results...', 'Accessibility label for loading visual search results', 'Accessibility label for loading visual search results'),items:j||[],renderItem:({item:e,itemIdx:t})=>(0,c.jsx)(r.xu,{height:"pin"===e.type?F.height+u.s_+(D?u.dA:0):void 0,width:F.width,marginEnd:4,"data-grid-item":!0,children:(0,c.jsx)(d,{config:O,pin:e,slotIndex:t})},`RelatedProductsUnifiedFeed-${e.id}`)})})}var y=n(616550),x=n(175644);function b({title:e}){return(0,c.jsx)(r.xu,{"data-test-id":"unified-feed-stela-header",display:"flex",justifyContent:"center",dangerouslySetInlineStyle:{__style:{marginLeft:55}},children:(0,c.jsx)(r.X6,{size:"400",accessibilityLevel:2,children:e})})}var w=n(861411);const S={flashlight:72,shop:427,stela:427};function I({pinId:e,variant:t,visualSearchFlashlightUnifiedResource:n}){const o=(0,y.useLocation)(),{data:a}=n,s=(null==a?void 0:a.results)||[],l=`/pin/${e}/related-products/all/${o.search}`;return(0,c.jsx)(i.Fragment,{children:s.map(((e,n)=>{if("story"===e.type){const{action:i,id:o,objects:a,story_type:s,title:d}=e;switch(s){case"unified_visual_feed_product_upsell":const u=d.format||"";return(0,c.jsx)(w.qS,{auxData:{story_type:s},component:14339,loggingId:o,objectIdStr:o,slotIndex:n,viewParameter:3462,viewType:S[t],children:({impressionTrackerRef:e})=>(0,c.jsxs)(r.xu,{ref:e,children:[u&&(0,c.jsx)(b,{title:u}),(0,c.jsx)(r.xu,{marginTop:4,marginBottom:12,"data-test-id":"unified-feed-stela-story",children:(0,c.jsx)(x.Z,{action:i,component:14339,contextLogData:{story_type:s},dangerouslySetActionUrl:l,element:179,id:o,objects:a,viewType:S[t],viewParameter:3462})})]})},o);case"unified_visual_feed_organic_header":return(0,c.jsx)(w.qS,{auxData:{story_type:s},component:14339,loggingId:o,objectIdStr:o,slotIndex:n,viewParameter:3462,viewType:S[t],children:({impressionTrackerRef:t})=>(0,c.jsx)(r.xu,{ref:t,marginBottom:4,"data-test-id":"unified-feed-organic-header",children:(0,c.jsx)(b,{title:e.title.format||""})})},o);default:return null}}return null}))})}function P({searchId:e,viewParameter:t,viewType:n,visualSearchFlashlightUnifiedResource:o}){const s=(0,h.ZP)(),{logContextEvent:l}=(0,p.v)(),[d,u]=(0,i.useState)(),[m,g]=(0,i.useState)(!1),_=(0,i.useRef)(),v=(0,f.Z)((()=>{_.current&&u(_.current.getBoundingClientRect().y)}),100);(0,i.useEffect)((()=>{if(!m)return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)})),(0,i.useEffect)((()=>{var e,i;const r=(null===(e=window)||void 0===e?void 0:e.innerHeight)||(null===(i=document.body)||void 0===i?void 0:i.clientHeight);!m&&d<r&&(g(!0),l({event_type:110,view_type:n,view_parameter:t}))}),[d,l,m,g,n,t]);const{data:y,isFetching:x,fetchMore:b}=o,w=((null==y?void 0:y.results)||[]).filter((e=>"pin"===e.type));return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(r.xu,{marginTop:2,ref:_,children:(0,c.jsx)(r.Rk,{renderItem:({data:i,itemIdx:r})=>"pin"===i.type?(0,c.jsx)(a.default,{auxData:{commerce_data:{is_product_only_feed:!1}},pin:i,pinId:i.id,authDesktopSurface:"SearchItem",componentType:0,slotIndex:r,viewData:{search_identifier:e},viewParameter:t,viewType:n}):null,items:w||[],loadItems:b,scrollContainer:()=>window})}),(0,c.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,c.jsx)(r.$j,{accessibilityLabel:s._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:x})})]})}var T=n(35495);function k({imageSignature:e,isProductOnlyFeed:t,pin:n,variant:r,viewParameter:o,viewType:a,visualSearchFlashlightUnifiedResource:s}){const{checkExperiment:l}=(0,m.F)(),{logContextEvent:d}=(0,p.v)(),u=(l("web_unified_visual_feed").anyEnabled||"flashlight"===r)&&"shop"!==r,{data:h}=s,g=null==h?void 0:h.search_identifier;(0,_.Z)((()=>{d({event_type:13,view_type:a,view_parameter:o,aux_data:(0,T.Kl)(n,{contextLogData:{commerce_data:{is_product_only_feed:t}}})})}));const{id:f}=n;return(0,c.jsxs)(i.Fragment,{children:[u&&(0,c.jsx)(I,{pinId:f,variant:r,visualSearchFlashlightUnifiedResource:s}),u&&!t?(0,c.jsx)(P,{searchId:g,viewParameter:o,viewType:a,visualSearchFlashlightUnifiedResource:s}):(0,c.jsx)(v,{commerceData:t?{is_product_only_feed:!0}:{},imageSignature:e,pinId:f,searchId:g,viewParameter:o,viewType:a,visualSearchFlashlightUnifiedResource:s})]})}},407373:(e,t,n)=>{function i(e){const{category_filters:t,domain_filters:n,price_filters:i}=e||{};return!!t||!!n||!!i}n.d(t,{Z:()=>i})},647945:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(407373),o=n(784590);function a({resourceOptions:e}){const[t,n]=(0,i.useState)(),[a,s]=(0,i.useState)(""),[l,c]=(0,i.useState)(),d=(0,o.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null);return(0,i.useEffect)((()=>{const{data:e}=d,t=null==e?void 0:e.search_identifier;t&&s(t),n(e)}),[d]),(0,i.useEffect)((()=>{const{data:e}=d,n=null==e?void 0:e.search_identifier,i=null==t?void 0:t.search_identifier;e&&(n&&i&&n===i||!(0,r.Z)(t)&&(0,r.Z)(e)&&c({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters}))}),[l,t,d]),{visualSearchFlashlightUnifiedResource:d,filters:l,searchId:a,setSearchId:s}}},372169:(e,t,n)=>{n.d(t,{Je:()=>i,dA:()=>o,iO:()=>a,jh:()=>s,s_:()=>r,wq:()=>l});const i=350,r=134,o=16,a=2,s=236,l=20},362810:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),r=n(883119),o=n(785893);const a={priceIndentifier:{backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"}};function s({productPin:e,isTopRow:t,disablePrice:n}){var i,s,l,c;const{title:d,description:u,images:p}=e,h=null===(i=e.rich_summary)||void 0===i?void 0:i.products,m=h&&h[0]||null,g=((null==m?void 0:m.offer_summary)||{}).price,f=p["474x"]||{};return(0,o.jsxs)(r.zd,{wash:!0,height:t?217:168,width:t?236:117,children:[(0,o.jsx)(r.Ee,{alt:d||u,fit:"cover",naturalHeight:null!==(s=f.height)&&void 0!==s?s:1,naturalWidth:null!==(l=f.width)&&void 0!==l?l:1,src:null!==(c=f.url)&&void 0!==c?c:""}),!!g&&!n&&(0,o.jsx)(r.xu,{margin:1,paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...a.priceIndentifier}},"data-test-id":"shopping-upsell-price",left:!0,top:!0,position:"absolute",children:g})]})}var l=n(407043),c=n(116303),d=n(564194),u=n(310227),p=n(149230),h=n(841509),m=n(525199);const g={container:{borderRadius:`${u.Oc}px ${u.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}};function f({dangerouslySetActionUrl:e,query:t,story:n,slotIndex:a}){var u;const{logContextEvent:f}=(0,l.v)(),{action:_,id:v,objects:y,story_type:x,subtitle:b}=n,{text:w,url:S}=_,[I,P]=(0,i.useState)(!1),T=(0,i.useCallback)((()=>P(!0)),[P]),k=(0,i.useCallback)((()=>P(!1)),[P]),C=["related_domain_collage","related_products_collage"].includes(x)?1:0,j=null===(u=y[0])||void 0===u?void 0:u.domain;let E,A,F={story_type:x};["search_product_collage_story","shop_article_story"].includes(x)?(E=2,A=43,F={...F,story_id:v,entered_query:t}):"shop_brand_story"===x||"shop_brand_affinity_story"===x?(E=1,A=92,j&&(F={...F,commerce_data:JSON.stringify({domain:j})})):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(x)?(E=72,A=3050):"related_domain_collage"===x?(E=72,A=3455):"related_products_collage"===x&&(E=1,A=3177);const D=b?4:2;let R,O;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(x)){const e=_.user;R=e&&(e.image_medium_url||e.image_large_url),O=e&&e.full_name}const L=e||S,M=(0,p.Z)({url:L})?"nofollow":"none";return(0,o.jsx)(d.Z,{componentType:200,contextLogData:F||{},impressionType:"Story",loggingId:x,slotIndex:a,viewParameter:A,viewType:E,children:(0,o.jsx)(r.iP,{role:"link",rel:M,href:L,onTap:()=>f({event_type:101,element:372,component:200,view_type:E,view_parameter:A,aux_data:{story_type:x}}),children:(0,o.jsxs)(r.xu,{overflow:"hidden",position:"relative",onMouseEnter:T,onMouseLeave:k,dangerouslySetInlineStyle:{__style:g.container},children:[(0,o.jsxs)(r.xu,{overflow:"hidden",rounding:4,children:[(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:g.content},children:y[C]?(0,o.jsx)(s,{productPin:y[C],isTopRow:!0}):null}),(0,o.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"between",children:[y[C+1]?(0,o.jsx)(s,{productPin:y[C+1]}):null,y[C+2]?(0,o.jsx)(s,{productPin:y[C+2]}):null]})]}),(0,o.jsx)(r.xu,{color:"secondary",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",marginTop:2,paddingY:D,rounding:"pill",children:(0,o.jsxs)(r.xu,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[b?(0,o.jsx)(r.xu,{marginBottom:1,children:(0,o.jsx)(r.xv,{align:"start",color:"subtle",children:b.format})}):null,(0,o.jsx)(r.xv,{align:"start",weight:"bold",children:w})]})}),O&&R&&(0,o.jsx)(r.xu,{position:"absolute",right:!0,top:!0,margin:2,children:(0,o.jsx)(c.Z,{name:O,size:"md",src:R,outline:!0})}),(0,o.jsx)(m.Z,{visibility:I?"visible":"none",children:(0,o.jsx)(h.Z,{additionalStyles:g.visualOverlay})})]})})})}},157796:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(883119),o=n(785893);function a({color:e="red",duration:t,finalProgress:n,shape:a="pill"}){const[s,l]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),0);return()=>{clearTimeout(e)}}),[]);const c="pill"===a;return(0,o.jsx)(r.xu,{color:e,height:c?8:6,rounding:c?"pill":2,width:`${n}%`,dangerouslySetInlineStyle:{__style:{transform:c?`translateX(${s?"-5px":"-100%"})`:`scaleX(${s?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},27255:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},666763:(e,t,n)=>{n.d(t,{S:()=>x,Z:()=>S});var i=n(667294),r=n(615071),o=n(883119),a=n(112690),s=n(785893);const l=6,c={nw:0,ne:90,se:180,sw:270},d={ne:[6,-6],se:[6,6],sw:[-6,6],nw:[-6,-6]},u={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},p=(e,t,n,i)=>{if("rounded"===i){const[i,r]=d[e];return`translate(${t+i}, ${n+r}), rotate(${c[e]})`}return`translate(${t}, ${n}), rotate(${c[e]})`};function h({corner:e,x:t,y:n,size:i,cornerStyle:r}){return(0,s.jsxs)("g",{transform:p(e,t,n,r),style:{cursor:u[e]},children:[(0,s.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:0,y:0,width:i,height:i,className:`v2cropperHandle ${e}`}),"rounded"===r?(0,s.jsx)("path",{d:"M5,0C2.2,0,0,2.2,0,5v15h6V6h14V0H5z",fill:"#fff",className:`v2cropperHandle ${e}`}):(0,s.jsx)("path",{d:`M ${i} 0 L 0 0 L 0 ${i}`,fill:"none",stroke:"#fff",strokeWidth:l,className:`v2cropperHandle ${e}`})]})}const m={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function g({edge:e,x:t,y:n,w:i,h:r}){return(0,s.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:t,y:n,width:i,height:r,className:`v2cropperHandle ${e}`,style:{cursor:m[e]}})}const f=20;function _({x:e,y:t,w:n,h:r}){const o="rounded";return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(h,{corner:"nw",x:e,y:t,size:f,cornerStyle:o}),(0,s.jsx)(h,{corner:"ne",x:e+n,y:t,size:f,cornerStyle:o}),(0,s.jsx)(h,{corner:"sw",x:e,y:t+r,size:f,cornerStyle:o}),(0,s.jsx)(h,{corner:"se",x:e+n,y:t+r,size:f,cornerStyle:o}),(0,s.jsx)(g,{edge:"n",x:e+f,y:t-10,w:n-40,h:30}),(0,s.jsx)(g,{edge:"e",x:e+n-f,y:t+f,w:30,h:r-40}),(0,s.jsx)(g,{edge:"s",x:e+f,y:t+r-10,w:n-40,h:30}),(0,s.jsx)(g,{edge:"w",x:e-f,y:t+f,w:30,h:r-40})]})}var v=n(391254);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=10,b=48;class w extends i.Component{constructor(...e){super(...e),y(this,"state",{cropArea:this.props.initialCropArea||{h:0,w:0,x:0,y:0},cropChangeType:null}),y(this,"cropResizeDirection",null),y(this,"_cropperOverlay",(0,i.createRef)()),y(this,"_checkCropHandleValid",((e,t)=>{const{cropArea:{h:n,w:i,x:r,y:o}}=this.state;switch(this.cropResizeDirection){case"ne":e<r&&t>o+n?this.cropResizeDirection="sw":e<r?this.cropResizeDirection="nw":t>o+n&&(this.cropResizeDirection="se");break;case"nw":e>r+i&&t>o+n?this.cropResizeDirection="se":e>r+i?this.cropResizeDirection="ne":t>o+n&&(this.cropResizeDirection="sw");break;case"se":e<r&&t<o?this.cropResizeDirection="nw":e<r?this.cropResizeDirection="sw":t<o&&(this.cropResizeDirection="ne");break;case"sw":e>r+i&&t<o?this.cropResizeDirection="ne":e>r+i?this.cropResizeDirection="se":t<o&&(this.cropResizeDirection="nw");break;case"n":t>o+n&&(this.cropResizeDirection="s");break;case"s":t<o&&(this.cropResizeDirection="n");break;case"e":e<r&&(this.cropResizeDirection="w");break;case"w":e>r+i&&(this.cropResizeDirection="e")}})),y(this,"handleOnMouseDown",(e=>{var t;e.preventDefault(),e.stopPropagation();const{clientX:n,clientY:i}=e,{target:r}=e,o=n-this._cropperOverlayCoor.x,a=i-this._cropperOverlayCoor.y,s=r.classList?Array.from(r.classList):r instanceof Element&&(null===(t=r.getAttribute("class"))||void 0===t?void 0:t.split(" "))||[];s.includes("v2cropperHandle")?(this.setState({cropChangeType:"resize"}),s.includes("ne")&&(this.cropResizeDirection="ne"),s.includes("nw")&&(this.cropResizeDirection="nw"),s.includes("se")&&(this.cropResizeDirection="se"),s.includes("sw")&&(this.cropResizeDirection="sw"),s.includes("n")&&(this.cropResizeDirection="n"),s.includes("s")&&(this.cropResizeDirection="s"),s.includes("e")&&(this.cropResizeDirection="e"),s.includes("w")&&(this.cropResizeDirection="w")):s.includes("v2cropSection")?(this.setState({cropChangeType:"move"}),this.cropChangeStartCoor={x:o,y:a}):s.includes("v2shadowMask")&&(this.cropChangeStartCoor={x:o,y:a},this.setState({cropArea:{h:0,w:0,x:o,y:a},cropChangeType:"select"}))})),y(this,"handleOnMouseMove",(e=>{const{cropArea:{h:t,w:n,x:i,y:r},cropChangeType:o}=this.state,{imageSize:a}=this.props,{clientX:s,clientY:l}=e,c=s-this._cropperOverlayCoor.x,d=l-this._cropperOverlayCoor.y;if("resize"===o){var u,p;const e=Math.max(Math.min(c,(null!==(u=a.w)&&void 0!==u?u:1)-x),x),o=Math.max(Math.min(d,(null!==(p=a.h)&&void 0!==p?p:1)-x),x);switch(this._checkCropHandleValid(e,o),this.cropResizeDirection){case"ne":{const n=Math.max(t+(r-o),b),a=Math.max(e-i,b);this.setState({cropArea:{h:n,w:a,x:i,y:n<=b?r:o}});break}case"nw":{const a=Math.max(n+(i-e),b),s=Math.max(t+(r-o),b);this.setState({cropArea:{h:s,w:a,x:a===b?i:e,y:s===b?r:o}});break}case"se":{const t=Math.max(o-r,b),n=Math.max(e-i,b);this.setState({cropArea:{h:t,w:n,x:i,y:r}});break}case"sw":{const t=Math.max(o-r,b),a=Math.max(n+(i-e),b);this.setState({cropArea:{h:t,w:a,x:a===b?i:e,y:r}});break}case"n":{const e=Math.max(r-o+t,b);this.setState({cropArea:{h:e,w:n,x:i,y:e===b?r:o}});break}case"s":{const e=Math.max(o-r,b);this.setState({cropArea:{h:e,w:n,x:i,y:r}});break}case"e":{const n=Math.max(e-i,b);this.setState({cropArea:{h:t,w:n,x:i,y:r}});break}case"w":{const o=Math.max(n-e+i,b);this.setState({cropArea:{h:t,w:o,x:o===b?i:e,y:r}});break}}}else if("move"===o){var h,m;const e=c-this.cropChangeStartCoor.x,o=d-this.cropChangeStartCoor.y,s=Math.max(Math.min(i+e,(null!==(h=a.w)&&void 0!==h?h:1)-n-x),x),l=Math.max(Math.min(r+o,(null!==(m=a.h)&&void 0!==m?m:1)-t-x),x);this.cropChangeStartCoor={x:c,y:d},this.setState({cropArea:{h:t,w:n,x:s,y:l}})}else if("select"===o){var g,f;const e=Math.max(Math.min(c,null!==(g=a.w)&&void 0!==g?g:1),0),t=Math.max(Math.min(d,null!==(f=a.h)&&void 0!==f?f:1),0),n=e-this.cropChangeStartCoor.x,i=t-this.cropChangeStartCoor.y;this.setState({cropArea:{h:Math.abs(i),w:Math.abs(n),x:Math.min(this.cropChangeStartCoor.x,e),y:Math.min(this.cropChangeStartCoor.y,t)}})}})),y(this,"handleOnMouseUp",(()=>{const{cropChangeType:e}=this.state;"resize"!==e&&"move"!==e&&"select"!==e||this.handleCrop(),this.cropResizeDirection=null}))}componentDidMount(){const{body:e}=document,t=this._cropperOverlay.current;if(t&&e){if(t){const e=t.getBoundingClientRect();this._cropperOverlayCoor={x:e.left,y:e.top}}window.addEventListener("mouseup",this.handleOnMouseUp),e.addEventListener("mousemove",this.handleOnMouseMove),t.addEventListener("mousedown",this.handleOnMouseDown)}}componentWillUnmount(){const{body:e}=document,t=this._cropperOverlay.current;t&&e&&(window.removeEventListener("mouseup",this.handleOnMouseUp),e.removeEventListener("mousemove",this.handleOnMouseMove),t.removeEventListener("mousedown",this.handleOnMouseDown))}handleCrop(){const{imageSize:e,onChange:t,viewParameter:n,logContextEvent:i}=this.props,{cropChangeType:r,cropArea:o}=this.state;if(0===o.w&&0===o.h){var a,s;this.setState({cropChangeType:null}),t({origCrop:{h:(null!==(a=e.h)&&void 0!==a?a:1)-2*x,w:(null!==(s=e.w)&&void 0!==s?s:1)-2*x,x,y:x}})}else{var l,c,d,u;this.setState({cropChangeType:null});const a=Math.max(Math.min(o.x,(null!==(l=e.w)&&void 0!==l?l:1)-b-x),x),s=Math.max(Math.min(o.y,(null!==(c=e.h)&&void 0!==c?c:1)-b-x),x);let m,g;if(o.h<b)m=b;else if(s+o.h>(null!==(d=e.h)&&void 0!==d?d:1)-x){var p;m=(null!==(p=e.h)&&void 0!==p?p:1)-s-x}else m=o.h;if(o.w<b)g=b;else if(a+o.w>(null!==(u=e.w)&&void 0!==u?u:1)-x){var h;g=(null!==(h=e.w)&&void 0!==h?h:1)-a-x}else g=o.w;switch(r){case"move":i({event_type:7603,view_type:72,view_parameter:n});break;case"resize":i({event_type:7604,view_type:72,view_parameter:n})}t({origCrop:{h:m,w:g,x:a,y:s}})}}render(){const{children:e,previewCropArea:t,showPreviewArea:n}=this.props,{cropArea:{h:i,w:a,x:l,y:c},cropChangeType:d}=this.state;return(0,s.jsxs)(o.xu,{ref:this._cropperOverlay,position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{cursor:"crosshair"}},children:[(0,s.jsx)(v.Z,{unsafeCSS:"\n.preview-crop-area-enter {\n  opacity: 0;\n}\n\n.preview-crop-area-enter-active {\n  opacity: 1;\n  transition: opacity 300ms;\n}\n\n.preview-crop-area-exit {\n  opacity: 1;\n}\n\n.preview-crop-area-exit-active {\n  opacity: 0;\n  transition: opacity 300ms;\n}\n\n.preview-crop-area-exit-done {\n  opacity: 0;\n}\n"}),(0,s.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("mask",{id:"Mask",children:[(0,s.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",rx:"0",ry:"0",fill:"#fff"}),(0,s.jsx)("rect",{x:l,y:c,width:a,height:i,id:"hole",rx:0,ry:0},`${l}${c}`),(0,s.jsx)(r.Z,{in:n&&!d,timeout:300,classNames:"preview-crop-area",mountOnEnter:!0,unmountOnExit:!0,children:(0,s.jsx)("rect",{x:t.x,y:t.y,width:t.w,height:t.h,id:"preview",rx:4,ry:4},`${t.x}${t.y}`)})]})}),(0,s.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",style:{fill:"rgba(0,0,0,0.5)"},mask:"url(#Mask)",className:"v2shadowMask"}),(0,s.jsx)("use",{href:"#hole",fill:"rgba(0,0,0,0)",stroke:"#fff",strokeWidth:"2",className:"v2cropSection",style:{cursor:"move"}}),"select"!==d&&(0,s.jsx)(_,{x:l,y:c,w:a,h:i})]}),e]})}}function S(e){const t=(0,a.Z)();return(0,s.jsx)(w,{logContextEvent:t,...e})}},403368:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),r=n(883119),o=n(898781),a=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=16,c=32;class d extends i.Component{constructor(...e){super(...e),s(this,"state",{isHovering:!1}),s(this,"handleMouseEnter",(e=>{this.setState({isHovering:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)})),s(this,"handleMouseLeave",(e=>{this.setState({isHovering:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)}))}render(){const{forwardedRef:e,icon:t,onClick:n,onMouseDown:i,onMouseUp:o,selected:s,style:d,text:u,x:p,y:h,zIndex:m,backdropDiameter:g=c,dotDiameter:f=l}=this.props,{isHovering:_}=this.state,v=_?g+4:g,y={zIndex:m,position:"absolute",top:h-v/2,left:p-v/2,outline:"none"},x={backgroundColor:"rgba(0, 0, 0, 0.1)",width:v,height:v,border:"none",borderRadius:v,cursor:n?"pointer":"default"};return(0,a.jsx)("div",{"data-test-id":"flashlight-dot",onClick:n,onKeyPress:n,onMouseDown:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:o,ref:e,role:"button",style:y,tabIndex:"0","aria-label":this.props.i18n._('Search this item', 'flashlight.dot.a11ylabel', 'accessibility label for flashlight dot'),children:(0,a.jsx)("div",{"data-test-id":"flashlight-dot-style",style:{...x,...d},children:(0,a.jsxs)(r.xu,{alignItems:"center",borderStyle:"none",color:"default",display:"flex",height:f,justifyContent:"center",position:"absolute",padding:0,width:f,dangerouslySetInlineStyle:{__style:{boxShadow:s?"0 0 0 3px #e60023":"none",borderRadius:f,top:(v-f)/2,left:(v-f)/2}},children:[!!u&&(0,a.jsx)(r.xv,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:u}),t&&(0,a.jsx)(r.JO,{accessibilityLabel:this.props.i18n._('Tag anchor', 'accessibility label for an anchor for an object in a pin', 'accessibility label for an anchor for an object in a pin'),color:"error",icon:t,size:f/2,inline:!0})]})})})}}const u=(0,i.forwardRef)(((e,t)=>{const n=(0,o.ZP)();return(0,a.jsx)(d,{...e,forwardedRef:t,i18n:n})}))},788606:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),r=n(666763),o=n(35495),a=n(112690),s=n(403368),l=n(829407),c=n(785893);function d({showAnimation:e,auxData:t,index:n,isStela:i,onClick:r,onHover:o,onUnhover:d,spotlightCenter:u,viewParameter:p,viewType:h}){const m=(0,a.Z)(),g=i?1221:1260;(0,l.Z)((()=>{m({event_type:120,element:g,aux_data:t,view_parameter:p,view_type:h})}));const f=parseFloat((.1*(n+1)).toFixed(2)),_={animation:e?`spotlightDotPop 0.6s ease-out ${f}s both`:"none"};return(0,c.jsx)(s.Z,{x:u.x,y:u.y,onClick:e=>{e&&(e.stopPropagation(),e.preventDefault()),m({aux_data:t,element:g,event_type:101,view_parameter:p,view_type:h}),r(n)},onMouseEnter:e=>{e&&(e.stopPropagation(),e.preventDefault()),o(n)},onMouseLeave:e=>{e&&(e.stopPropagation(),e.preventDefault()),d()},style:_})}var u=n(391254),p=n(599611);const h=({showAnimation:e,pin:t,imageSignature:n,imageSize:r,currentSpotlightIdx:a,spotlightAreas:s,handleSpotlightClick:l,handleSpotlightHover:h,handleSpotlightUnhover:m,viewParameter:g,viewType:f})=>(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(u.Z,{unsafeCSS:"\n@keyframes spotlightDotPop {\n  0% {\n    opacity: 0;\n    transform: scale(0);\n  }\n\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}"}),s.map(((i,s)=>{var u,_;if(s===a)return null;const v=(0,p.Z)({cropArea:i,scaledWidth:null!==(u=r.w)&&void 0!==u?u:0,scaledHeight:null!==(_=r.h)&&void 0!==_?_:0}),y={x:v.x+v.w/2,y:v.y+v.h/2},x={commerce_data:JSON.stringify({...(0,o.Zs)(t),entrypoint:"flashlight"}),pin_id:t.id,image_signature:n,visual_objects:JSON.stringify([{x:i.x,y:i.y,w:i.w,h:i.h}])},b=`${y.x}${y.y}`;return(0,c.jsx)(d,{showAnimation:e,auxData:x,index:s,isStela:!!i.is_stela,onClick:l,onHover:h,onUnhover:m,spotlightCenter:y,viewParameter:g,viewType:f},b)}))]});var m=n(523563);const g=4;function f({imageSize:e,imageSignature:t,initialCropArea:n,pin:o,onChange:a,showAnimation:s,spotlightAreas:l=[],trafficSource:d,viewParameter:u,viewType:f}){const[_,v]=(0,i.useState)(!1),[y,x]=(0,i.useState)({w:0,h:0,x:0,y:0}),[b,w]=(0,i.useState)(0);(0,i.useEffect)((()=>{const t=l.findIndex((t=>{var i,r;return(0,m.Z)(n,(0,p.Z)({cropArea:t,scaledWidth:null!==(i=e.w)&&void 0!==i?i:0,scaledHeight:null!==(r=e.h)&&void 0!==r?r:0}),g)}));w(t)}),[e,n,l]);const S=l&&!!l.length;return(0,c.jsx)(r.Z,{enableClickOutside:!_,imageSize:e,initialCropArea:n,onChange:({origCrop:e})=>{a({origCrop:e,cropSource:6,trafficSource:d})},previewCropArea:y,showPreviewArea:!1,viewParameter:u,children:S&&(0,c.jsx)(h,{showAnimation:s,pin:o,handleSpotlightHover:t=>{var n,i;t!==b&&(v(!0),x((0,p.Z)({cropArea:l[t],scaledWidth:null!==(n=e.w)&&void 0!==n?n:0,scaledHeight:null!==(i=e.h)&&void 0!==i?i:0})))},handleSpotlightUnhover:()=>{v(!1)},imageSignature:t,imageSize:e,currentSpotlightIdx:b,spotlightAreas:l,handleSpotlightClick:t=>{var n,i;const r=l[t],o=(0,p.Z)({cropArea:r,scaledWidth:null!==(n=e.w)&&void 0!==n?n:0,scaledHeight:null!==(i=e.h)&&void 0!==i?i:0});a({origCrop:o,cropSource:r.is_stela?4:1,trafficSource:d,title:r.title})},viewParameter:u,viewType:f})},JSON.stringify(n))}},558068:(e,t,n)=>{n.d(t,{Hv:()=>l,aX:()=>u,nK:()=>p});var i=n(667294),r=n(616550),o=n(425288),a=n(785893);const{Provider:s,useHook:l}=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){var n;const i={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(i.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function u(){const{current:e,previous:t}=l();return(0,i.useMemo)((()=>e?t.concat(e):t),[e,t])}function p({children:e}){const t=(0,r.useHistory)(),n=(0,r.useLocation)(),o=(0,r.useRouteMatch)(),l={forward:[],current:{action:t.action,location:n,match:o},previous:[]},[c,u]=(0,i.useReducer)(d,l);return(0,i.useEffect)((()=>{const{action:e}=t;u({type:e,location:n,match:o})}),[n]),(0,a.jsx)(s,{value:c,children:e})}},100183:(e,t,n)=>{n.d(t,{CC:()=>i,Ll:()=>o,XF:()=>r});const i=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),r=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},613316:(e,t,n)=>{function i(e){return[0,24,21,26].includes(e)}function r({articleType:e,id:t,title:n}){const i=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${i}/${t}/`:`/discover/article/${i}/${t}/`}n.d(t,{x:()=>r,y:()=>i})},78714:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(56641),r=n(867820),o=n(954931);const a=(e,t)=>{null!=t&&t.disableOriginCheck||(0,o.Z)(e)||(e="/",(0,r.My)("url_reset")),(0,i.Z)(e)}},792182:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294);function r(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function o(){return window.innerWidth}function a(){return window.innerHeight}function s(){return null}function l(){const e=(0,i.useSyncExternalStore)(r,a,s),t=(0,i.useSyncExternalStore)(r,o,s);return null!==e&&null!==t?{height:e,width:t}:null}},924196:(e,t,n)=>{n.d(t,{Z:()=>i});const i={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},904431:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});class r{static reportGoogleConversion(e,t,n,i){i||(void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,n):r.queuedGoogleConversions.push({id:e,label:t,url:n}))}static reportFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("track",t,n):window.fbq("track",t):r.queuedFacebookConversions.push({id:e,event:t,data:n})}static reportCustomFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t):r.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n})}static reportPinterestConversion(e,t,n){void 0!==window.pintrk?n?window.pintrk("track",t,n):window.pintrk("track",t):r.queuedPinterestConversions.push({id:e,event:t,data:n})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):r.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){const n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){const i=1e13*Math.random(),r=document.createElement("iframe");r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("frameborder","0"),r.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${i}?`),r.style.display="none",document.body.insertBefore(r,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){const n=document.createElement("script");t||(n.setAttribute("async",""),n.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),n.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};const n=r.queuedGoogleConversions;for(let i=0;i<n.length;i+=1){const o=n[i];o.id===e&&r.reportGoogleConversion(o.id,o.label,o.url,t)}}),document.body.insertBefore(n,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,i,o,a,s;t=window,n=document,i="script",t.fbq||(o=t.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},t._fbq||(t._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(a=n.createElement(i)).async=!0,a.src="//connect.facebook.net/en_US/fbevents.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(a,s)),window.fbq("init",e),window.fbq("track","PageView");const l=r.queuedFacebookConversions;for(let c=0;c<l.length;c+=1){const t=l[c];t.id===e&&(t.isCustomEvent?r.reportCustomFacebookConversion(e,t.event,t.data):r.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,n,i,r,o,a;t=window,n=document,i="script",t.twq||(r=t.twq=function(){r.exe?r.exe.apply(r,arguments):r.queue.push(arguments)},r.version="1.1",r.queue=[],(o=n.createElement(i)).async=!0,o.src="//static.ads-twitter.com/uwt.js",(a=n.getElementsByTagName(i)[0]).parentNode.insertBefore(o,a)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}(),window.pintrk("load",e),window.pintrk("page");const t=r.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&r.reportPinterestConversion(e,i.event,i.data)}}}i(r,"queuedGoogleConversions",[]),i(r,"queuedFacebookConversions",[]),i(r,"queuedPinterestConversions",[]),i(r,"queuedTwitterConversions",[]);const o=r},81636:(e,t,n)=>{n.d(t,{Q:()=>c,Z:()=>d});var i=n(667294),r=n(682492),o=n.n(r),a=n(112690),s=n(385740),l=n(780280);function c(e,t){const{setViewContextData:n}=(0,s.sV)(),{requestIdentifier:r}=(0,l.B)(),c=(0,a.Z)(),{viewData:d}=(0,s.SU)();(0,i.useEffect)((()=>{var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?o()(d,e.view_data):o()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:r}))}),[t])}function d(e){const{children:t,log:n}=e;return c(n),t||null}},407043:(e,t,n)=>{n.d(t,{B:()=>l,v:()=>s});var i=n(385740),r=n(425288),o=n(785893);const{Provider:a,useHook:s}=(0,r.Z)("ContextLogger");function l({children:e,value:t}){const{setViewContextData:n}=(0,i.sV)();return t.injectSetViewContextDataFromHook=n,(0,o.jsx)(a,{value:t,children:e})}},112690:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(407043);const r=()=>(0,i.v)().logContextEvent},385740:(e,t,n)=>{n.d(t,{BE:()=>c,Ih:()=>d,SU:()=>u,sV:()=>s});var i=n(667294),r=n(425288),o=n(785893);const{Provider:a,useHook:s}=(0,r.Z)("View");let l;function c(){return l}function d({children:e,initialState:t={}}){const[n,r]=(0,i.useState)(t),s=(0,i.useCallback)((()=>{l={},r({})}),[]),c=(0,i.useCallback)((e=>{l={...l,...e},r((t=>({...t,...e})))}),[]),d=(0,i.useMemo)((()=>({viewContextData:n,clearViewContextData:s,setViewContextData:c})),[n,c,s]);return(0,o.jsx)(i.Fragment,{children:(0,o.jsx)(a,{value:d,children:e})})}function u(){const{viewContextData:e}=s();return e}},425288:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);function r(e,t){return`\n  ${"consumer"===t?`${e}Consumer`:`use${e}`} must be used within a ${e}Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/testing-jest#createhydra-errors for more information.\n  `}function o(e,t){const n=(0,i.createContext)(t),{messageDisplayName:o}=function(e,t){let n=e.slice(1);if(n=n.endsWith("Context")?n:`${n}Context`,t)return{hocDisplayName:`with${e[0].toUpperCase()}${n}(${t})`};return{propsDisplayName:`${e[0].toLowerCase()}${n}`,messageDisplayName:`${e[0].toUpperCase()}${n}`}}(e);n.displayName=o;const{Provider:a}=n,s=({children:e})=>{const t=(0,i.useContext)(n);if(void 0===t)throw new Error(r(o,"consumer"));return e(t)},l=()=>(0,i.useContext)(n);return a.displayName=`${o}Provider`,s.displayName=`${o}Consumer`,{Provider:a,Consumer:s,MaybeConsumer:({children:e})=>e((0,i.useContext)(n)),useMaybeHook:l,useHook:function(){const e=l();if(void 0===e)throw new Error(r(o,"hook"));return e}}}},643010:(e,t,n)=>{n.d(t,{F6:()=>u,Hs:()=>d,Yc:()=>l,vs:()=>c});var i=n(667294),r=n(844974),o=n(867820);const a="theme",s="dark"===(0,r.qn)(a),l=()=>s;function c(){const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(l())}),[t]),e}const d=()=>{(0,r.Nh)(a,"dark"),(0,o.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,r.L_)(a),(0,o.My)("mweb.dark_mode.disable"),window.location.reload()}},782534:(e,t,n)=>{n.d(t,{Z:()=>a,k:()=>i.k});var i=n(451820),r=n(780280),o=n(785893);const a=({dateFormatType:e,useUTC:t=!0,value:n})=>(0,o.jsx)(r.LC,{children:r=>(0,i.Z)(r.locale,n,e,t)})},451820:(e,t,n)=>{n.d(t,{Z:()=>o,k:()=>i});const i={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit"},r=function(e){switch(e){case i.YEAR:return{year:"numeric"};case i.LONG:return{year:"numeric",month:"long",day:"numeric"};case i.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case i.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case i.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case i.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case i.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.MONTH_DAY:return{month:"long",day:"numeric"};case i.SHORT_MONTH:return{month:"short"};case i.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case i.DAY:return{day:"numeric"};case i.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case i.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case i.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case i.TIME:return{hour:"numeric",minute:"2-digit"};case i.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}};function o(e,t,n,i=!0){const o=r(n);i&&(o.timeZone="UTC");return new Intl.DateTimeFormat(e,o).format(t)}},722767:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(973935);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),o(this,"observer",null),o(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=r.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}const s=a},375571:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(172071),o=n(395164);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"state",{error:null,info:null}),a(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{var n;const{name:t}=this.props,i=this.props.type||"secondary";(0,o.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),r.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(i){r.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},319915:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(375571).Z},121093:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(702664),o=n(332611),a=n(242923),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{hasCompleted:[],hasDismissed:[]}),l(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:r}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",r(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))})),l(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:r,preventRemoval:o,targeting:a}=this.props,s=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){const{placement_id:e,experience_id:l}=i||{},c=o||2===s;(1===s||c)&&e&&l&&(r?n(i,c):a?t(e,l,c,a):t(e,l,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),l(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:r,targeting:o}=this.props,{placement_id:a,experience_id:s}=n||{};n&&!this.state.hasDismissed.includes(s)&&(i?t(n):o?e(a,s,!!r,o):e(a,s,!!r),this.setState((e=>({hasDismissed:[...e.hasDismissed,s]}))))})),l(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:i,transitionType:r}=this.props,{experience_id:o,type:a}=e;if(t&&t.includes(o))return!0;if(null==t||!t.length){if(i&&i(e))return!0;if(n&&n.includes(a))return!0;if(r&&r===a)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function d(e){const t=(0,r.useSelector)((({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0))),n=(0,r.useDispatch)();return(0,s.jsx)(c,{...e,experience:t,completeExperience:(e,t,i,r)=>n((0,o.CK)(e,t,i,!1,{},r)),completeExperienceObject:(e,t)=>n((0,a.Tl)(e,t)),dismissExperience:(e,t,i,r)=>n((0,o.Qu)(e,t,i,void 0,r)),dismissExperienceObject:e=>n((0,a.CF)(e)),viewExperience:(e,t,i)=>n((0,o.UT)(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>n((0,a.dy)(e))})}l(c,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},123159:(e,t,n)=>{n.d(t,{F:()=>p,M:()=>u});var i=n(667294),r=n(702664),o=n(14890),a=n(425288),s=n(332611),l=n(957191),c=n(785893);const{Provider:d,useHook:u}=(0,a.Z)("ExperienceContext");function p({children:e}){const[t,n]=(0,i.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const n={...e};return delete n[t.payload],n}return e}),{}),a=(0,r.useDispatch)(),u=(0,r.useSelector)((e=>e.experiences)),p=(0,i.useMemo)((()=>{const e=(0,o.bindActionCreators)({completeExperience:s.CK,dismissExperience:s.Qu,fetchAllExperiences:s.fO,fetchAllExperiencesMulti:l.NW,fetchExperienceForPlacements:s.pz,mountPlacement:s.N,triggerExperimentsForPlacement:s.kd,viewExperience:s.UT},a);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),n({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{n({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[a,n]),h=(0,i.useMemo)((()=>({experiences:u,mountedPlacements:t,...p})),[u,t,p]);return(0,c.jsx)(d,{value:h,children:e})}},333312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(667294),r=n(883119),o=n(121093),a=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{constructor(...e){super(...e),s(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),s(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,o=n.slice(-3);return(0,a.jsx)(r.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(r.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,a.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map((e=>(0,a.jsx)(r.xu,{height:60,width:50,paddingX:1,children:(0,a.jsx)(r.zd,{rounding:2,height:60,children:(0,a.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}var c=n(570470);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"dismissRef",(0,i.createRef)()),d(this,"state",{paused:!1}),d(this,"dismissCb",(()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)})),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){const{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:s,flyoutSize:d,fontSize:u,hasFullWidthButton:p=!0,idealDirection:h,useMasonryFlyout:m,noClickToDismiss:g,onClickComplete:f,onClickDismiss:_,placementId:v,positionRelativeToAnchor:y,shouldTimeoutDismiss:x,showCaret:b,textAlign:w,textOverflow:S,textOverrideFn:I,textWeight:P,customizedComplete:T,pulsarZIndex:k,advertiserId:C}=this.props,j=t||(({children:e})=>m?(0,a.jsx)(r.mh,{children:e}):e),E="blue";return(0,a.jsx)(o.Z,{eligibleIds:n,placementId:v,eligibleTypes:[8],targeting:C?{advertiserId:parseInt(C,10)}:null,children:({complete:t,dismiss:n,experience:o})=>{const{display_data:{scroll_to_dismiss:v,scroll_to_dismiss_delay_in_seconds:C=0,...A}}=o,F=v&&e,D=()=>{R(),setTimeout(n,1e3*C)},R=()=>{F&&(window.removeEventListener("scroll",D),window.removeEventListener("touchmove",D))},O=()=>{R(),t()};if(F&&(window.addEventListener("scroll",D),window.addEventListener("touchmove",D)),this.setDefaultPulsarTooltip(A),!A.has_pulsar&&!A.has_tooltip)return O(),null;x&&A.disappearTime&&A.disappearTime>0&&(this.timer=setTimeout((()=>(D(),null)),A.disappearTime));const L=501041===o.experience_id||505086===o.experience_id;return A.has_tooltip&&!A.has_pulsar&&(this.dismissRef.current=D,null==e||e.addEventListener("click",this.dismissCb)),(0,a.jsxs)(i.Fragment,{children:[A.has_pulsar&&(0,a.jsx)(c.Z,{anchor:e,leftOverride:L?342:void 0,onTouch:()=>this.handlePulsarClick(A.has_tooltip,O),paused:this.state.paused,topOverride:L?-5:void 0,zIndex:k&&k.index()}),A.has_tooltip&&(!A.has_pulsar||this.state.paused)&&(A.thumbnail_urls?(0,a.jsx)(l,{anchor:e,dismiss:D,idealDirection:h||"down",text:A.text,thumbnails:A.thumbnail_urls}):(0,a.jsx)(j,{children:(0,a.jsx)(r.J2,{anchor:e,color:E,idealDirection:h||"down",onDismiss:g?()=>{}:D,positionRelativeToAnchor:!m&&y,shouldFocus:!1,showCaret:b,size:d,children:(0,a.jsxs)(r.xu,{column:12,padding:3,children:[(0,a.jsxs)(r.xv,{align:"right"===w?"end":w,color:"inverse",overflow:S,size:u,weight:P||"bold",children:[this.getText(A,s,I),A.secondary_cta_link&&(0,a.jsx)(r.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(r.xv,{size:u,weight:"bold",color:"inverse",children:(0,a.jsx)(r.rU,{display:"inlineBlock",target:"blank",href:A.secondary_cta_link.url,underline:"hover",children:A.secondary_cta_link.text})})})]}),A.sub_text&&(0,a.jsx)(r.xu,{paddingY:2,children:(0,a.jsx)(r.xv,{color:"inverse",size:u,children:A.sub_text})}),(A.dismiss_button_text||A.complete_button_text)&&(0,a.jsxs)(r.xu,{display:"flex",alignItems:"center",marginTop:2,children:[A.dismiss_button_text&&(0,a.jsx)(r.xu,{marginEnd:1,column:6,children:(0,a.jsx)(r.zx,{fullWidth:p,color:E,onClick:()=>{_&&_(),D()},size:"md",text:A.dismiss_button_text})}),A.complete_button_text&&(0,a.jsx)(r.xu,{column:A.dismiss_button_text?6:12,children:T?(0,a.jsx)(r.iP,{fullHeight:!0,onTap:()=>{O(),f&&f()},rounding:2,children:(0,a.jsx)(r.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,a.jsx)(r.xv,{color:"shopping",weight:"bold",children:A.complete_button_text})})}):(0,a.jsx)(r.kC,{justifyContent:"center",children:(0,a.jsx)(r.zx,{fullWidth:p,color:"white",href:A.complete_button_cta_url,role:A.complete_button_cta_url?"link":"button",size:"md",target:A.complete_button_cta_url?"blank":null,text:A.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),O(),f&&f()}})})})]})]})})}))]})}})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},242923:(e,t,n)=>{n.d(t,{CF:()=>s,Tl:()=>a,dy:()=>l});var i=n(214494),r=n(332611);const o=(e,t)=>(n,o)=>a=>{if(n&&n.id){const s=i.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":s.callDelete().then((()=>{a((0,r.fO)())}));break;case"completed":s.callUpdate().then((()=>{o||a((0,r.fO)())}));break;case"viewed":s.callUpdate()}}},a=o("UserExperienceCompletedResource","completed"),s=o("UserExperienceResource","dismissed"),l=o("UserExperienceViewedResource","viewed")},131108:(e,t,n)=>{n.d(t,{HI:()=>a,f8:()=>l,hm:()=>s,sH:()=>o});var i=n(883119),r=n(785893);const o=({children:e})=>(0,r.jsx)(i.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),a=({children:e})=>(0,r.jsx)(i.xu,{padding:2,children:e}),s=({children:e})=>(0,r.jsx)(i.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),l=({children:e})=>(0,r.jsx)(i.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},599997:(e,t,n)=>{n.d(t,{Ec:()=>c,IA:()=>f,LX:()=>d,Mf:()=>g,SF:()=>s,_e:()=>l,l0:()=>a,ml:()=>o,q4:()=>r,zn:()=>i});const i=e=>["feed_card_default","feed_card_video"].includes(e),r=2/3,o=2/3,a=1/3,s="36px",l="28px",c=.4,d=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},h={1:"italics",0:"normal"},m={1:"bold",0:"normal"},g=({color:e,font_style:t,font_weight:n,horizontal_alignment:i,size:r},o)=>({color:e,fontStyle:h[null!=t?t:0],fontWeight:m[null!=n?n:1],horizontalAlignment:u[null!=i?i:0],fontSize:p[o][null!=r?r:0]+"px"}),f=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?d:c},570470:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),r=n(667294),o=n(785893);const a=(e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)});function s({anchor:e,children:t,zIndex:n,leftOverride:s,topOverride:l}){const c=(0,r.useRef)(null),[d,u]=(0,r.useState)(0),[p,h]=(0,r.useState)(0),{height:m,width:g}=e.getBoundingClientRect();(0,r.useEffect)((()=>{const{current:t}=c;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:r}=a(m,g,e,n);u(i),h(r)}}));const f=s||d,_=l||p;return(0,o.jsx)(i.xu,{position:"absolute",zIndex:n?new i.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:f,top:_}},ref:c,children:t})}const l=function(e){const{anchor:t,leftOverride:n,onTouch:r,onMouseEnter:a,paused:l,size:c,topOverride:d,zIndex:u}=e;return t?(0,o.jsx)(s,{anchor:t,leftOverride:n,topOverride:d,zIndex:u,children:(0,o.jsx)(i.iP,{fullWidth:!1,onTap:({event:e})=>r(e),onMouseEnter:a,rounding:"circle",children:(0,o.jsx)(i.o3,{paused:l,size:c})})}):null}},497529:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=(n(332611),n(123159)),o=n(764990),a=(n(957191),n(780280));function s(e){const{mountedPlacements:t,completeExperience:n,dismissExperience:s,experiences:l,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:h}=(0,r.M)(),{isBot:m}=(0,a.B)(),g=e&&!m?(0,o.MQ)(l,t,e):null;return(0,i.useMemo)((()=>({completeExperience:n,dismissExperience:s,experienceForPlacement:g,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:h})),[n,s,g,c,d,u,p,h])}},572551:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var i=n(667294),r=n(319915),o=n(757184),a=n(883119),s=n(463076);function l({isRTL:e,maxItemWidth:t=300,maxColumns:n=16,minColumns:i=2}){let r=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${n*t}\n}\n\n.gridCentered .static {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n\n@media (min-width: ${n*t}px) {\n  .gridCentered .static:nth-child(-n+${n}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static:nth-child(-n+${n}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: ${t}px !important;\n  }\n}\n`;for(let o=i;o<n+1;o+=1){r+=`\n@media (min-width: ${o===i?0:(o-1)*t+1}px) and (max-width: ${o*t}px) {\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: calc(100% / ${o}) !important;\n  }\n}\n`}return r}var c,d,u,p=n(444445),h=n(391254),m=n(773285),g=n(780280),f=n(785893);class _ extends i.Component{getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,n="simplified"===t,i=n?p.oX:e,r=n?16:6;return{gutterWidth:null!=i?i:p.ZZ,paddingBottom:r}}render(){const{columnWidth:e,flexible:t,isGridCentered:n,isInitialRender:i,isRTL:r,items:o,layout:c,loadItems:d,masonryRef:u,measurementStore:m,minCols:g,renderItem:_,scrollContainerRef:v,serverRender:y,virtualize:x,virtualBufferFactor:b,_batchPaints:w}=this.props,{gutterWidth:S,paddingBottom:I}=this.getGutters(),P=y?"serverRenderedFlexible":"flexible";let T;n&&i&&(T="gridCentered");const k=()=>(null==v?void 0:v.current)||window;return(0,f.jsxs)("div",{className:T,children:[y&&i&&(0,f.jsx)(h.Z,{unsafeCSS:t?l({isRTL:r,maxItemWidth:(e||p.yF)+S,maxColumns:o.length||p.g5,minColumns:g||p.yc}):(0,s.Z)({isRTL:r,itemWidth:(e||p.yF)+S,maxColumns:o.length||p.g5,minColumns:g||p.yc})}),(0,f.jsx)(a.Rk,{columnWidth:(null!=e?e:p.yF)+S,gutterWidth:0,items:o,layout:t?P:null!=c?c:"basic",loadItems:d,measurementStore:m,minCols:g,ref:e=>{u&&(u.current=e)},renderItem:e=>(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:I,paddingLeft:S/2,paddingRight:S/2}},children:_(e)}),scrollContainer:k,virtualize:x,virtualBufferFactor:b,_batchPaints:w})]})}}function v(e){var t;const{isRTL:n}=(0,g.B)(),{checkExperiment:r}=(0,m.F)(),o=null!==(t={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[r("web_masonry_virtual_buffer_factor").group])&&void 0!==t?t:.7,a=(0,i.useRef)(!0);return(0,i.useEffect)((()=>{a.current&&(a.current=!1)}),[]),(0,f.jsx)(_,{...e,isInitialRender:a.current,isRTL:n,virtualBufferFactor:o})}c=_,d="defaultProps",u={gutterWidth:p.ZZ,isGridCentered:!0,minCols:p.yc,paddingStyle:"simplified",virtualize:!0},d in c?Object.defineProperty(c,d,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[d]=u;var y=n(317254);class x extends i.Component{constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;!e&&t&&t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isGridCentered:a,items:s,layout:l,masonryRef:c,minCols:d,paddingStyle:u,renderItem:p,scrollContainerRef:h,serverRender:m,virtualize:g,_batchPaints:_}=this.props;return(0,f.jsx)(v,{columnWidth:t,flexible:n,gutterWidth:i,isGridCentered:a,renderItem:e=>(0,f.jsx)(r.Z,{name:"MasonryPerfTimingItem",children:p(e)}),items:s,layout:l,loadItems:this.loadItems,masonryRef:c,measurementStore:(0,o.Z)(e),minCols:d,paddingStyle:u,scrollContainerRef:h,serverRender:m,virtualize:g,_batchPaints:_})}}function b({cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isAtEnd:r,isFetching:o,isGridCentered:a=!0,renderItem:s,items:l,pinData:c,layout:d,loadItems:u,masonryRef:p,minCols:h,paddingStyle:g,scrollContainerRef:_,serverRender:v=!0,virtualize:b=!0,includeBackgroundImages:w,includeVideos:S}){const{checkExperiment:I}=(0,m.F)(),P=I("web_masonry_batched_paints").anyEnabled;return(0,f.jsx)(y.Z,{isAtEndOfFeed:r,pinData:c,itemCount:l.length,includeBackgroundImages:w,includeVideos:S,children:(0,f.jsx)(x,{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isFetching:o,isGridCentered:a,items:l,layout:d,loadItems:u,masonryRef:p,minCols:h,paddingStyle:g,renderItem:s,scrollContainerRef:_,serverRender:v,virtualize:b,_batchPaints:P})})}},920231:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),r=n(616550),o=n(883119),a=n(319915),s=n(757184);function l({flexible:e,gutterWidth:t,id:n,isRTL:i,itemWidth:r,maxColumns:o,minColumns:a}){const s=n.replace(/\:/g,"\\:"),l=r+t;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:o+1-a},((e,t)=>t+a)).map((n=>{const c=n===o?null:(n+1)*l-1;return`\n      @media (min-width: ${n===a?0:n*l}px) ${c?`and (max-width: ${c}px)`:""} {\n        #${s} .static:nth-child(-n+${n}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${i?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${s} .static {\n        width: calc(100% / ${n}) !important;\n      }\n    `:`\n      #${s} {\n        width: ${n*l}px;\n      }\n\n      #${s} .static {\n        padding: 0 ${t/2}px;\n        width: ${r}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var c=n(444445),d=n(391254),u=n(53987),p=n(773285),h=n(780280),m=n(50286),g=n(785893);function f({cacheKey:e,columnWidth:t,gutterWidth:n,id:f,renderItem:_,items:v,layout:y,loadItems:x,masonryRef:b,minCols:w,scrollContainerRef:S,serverRender:I,resetPositions:P,virtualize:T=!0}){var k;const{isRTL:C}=(0,h.B)(),j=(0,m.ZP)(),E=(0,r.useLocation)(),A="desktop"!==j,F=I?"serverRenderedFlexible":"flexible",D=(0,u.Q0)(E)&&"desktop"===j?c.OS:v.length||c.g5,R=(0,i.useCallback)((()=>(null==S?void 0:S.current)||window),[S]),O=(0,s.Z)(e),[L,M]=(0,i.useState)(!1);(0,i.useEffect)((()=>{P&&!L&&(null==O||O.reset(),M(!0))}),[O,P,L]);const{checkExperiment:z}=(0,p.F)(),Z=null!==(k={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[z("duplo_masonry_virtual_buffer_factor").group])&&void 0!==k?k:.7,N=z("web_masonry_batched_paints").anyEnabled;return(0,g.jsxs)("div",{id:f,className:"gridCentered","data-test-id":"masonry-container",children:[I&&f&&(0,g.jsx)(d.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:l({flexible:A,gutterWidth:n||0,id:f,isRTL:C,itemWidth:t||c.yF,maxColumns:D,minColumns:w||c.yc})}),(0,g.jsx)(o.Rk,{columnWidth:t,renderItem:e=>(0,g.jsx)(a.Z,{name:"MobileGridItem",children:_(e)}),gutterWidth:n||1,layout:A?F:null!=y?y:"basic",items:v,loadItems:x,measurementStore:(0,s.Z)(e),minCols:w||c.yc,ref:e=>{b&&(b.current=e)},scrollContainer:R,virtualize:T,virtualBufferFactor:Z,_batchPaints:N})]})}},757184:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119);const r={};function o(e){if(null!=e)return r[e]&&r[e].screenWidth===window.innerWidth||(r[e]={screenWidth:window.innerWidth,cache:i.Rk.createMeasurementStore()}),r[e].cache}},463076:(e,t,n)=>{function i({isRTL:e,itemWidth:t=236,maxColumns:n=16,minColumns:i=2}){let r="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static {\n  position: absolute;\n  visibility: hidden;\n}\n";for(let o=i;o<n+1;o+=1){r+=`\n@media (min-width: ${o===i?0:o*t}px) and (max-width: ${(o+1)*t-1}px) {\n  .gridCentered {\n    width: ${o*t}px;\n  }\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n}\n`}return r}n.d(t,{Z:()=>i})},121151:(e,t,n)=>{n.d(t,{ZP:()=>c,b7:()=>a.b7,bN:()=>s,p4:()=>l});var i=n(240684),r=n(50286),o=n(785893),a=n(968121);const s=(0,i.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,373420)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 373420}}),l=(0,i.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,430322)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 430322}});function c(e){const t=(0,r.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){const{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:i,mobileHideCloseIcon:r,mobileIsFullscreen:a,mobileIsSlideUp:l,type:c,mobileIsFooter:d,zIndex:u,...p}=e;return(0,o.jsx)(s,{...p})}const{allowClickAndDrag:i,allowMediaPlay:a,allowScroll:c,role:d,size:u,_dangerouslyDisableScrollBoundaryContainer:p,...h}=e;return(0,o.jsx)(l,{...h,isOpen:n})}},373420:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(667294),r=n(883119),o=n(968121),a=n(124580),s=n(223815),l=n(785893);function c({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:c,allowMediaPlay:d,allowScroll:u,children:p,closeOnOutsideClick:h,footer:m,heading:g,onDismiss:f,role:_,size:v,subHeading:y}){(0,i.useEffect)((()=>(a.Z.pause(),function(){a.Z.resume()})),[]);return(0,l.jsx)(r.mh,{zIndex:o.b7,children:(0,l.jsx)(s.Z,{allowClickAndDrag:c,allowEsc:!0,allowMediaPlay:d,allowScroll:u,children:(0,l.jsx)(r.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:h,heading:g,footer:m,onDismiss:()=>{a.Z.resume(),f()},role:_,size:v,subHeading:y,padding:"none",children:p})})})}},968121:(e,t,n)=>{n.d(t,{JN:()=>c,Vf:()=>d,ZM:()=>s,b7:()=>a,i_:()=>l});var i=n(883119),r=n(643010),o=n(379764);const a=new i.Ry(1e3),s=new i.H3([o.Z]),l=12,c=({variant:e})=>{let t;return t="fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,r.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,r.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"},{__style:t}},d=({isFullscreen:e,isTablet:t,isShowing:n,isRelatedInterestsModal:i})=>{let o={border:(0,r.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},a=n?"translateY(0)":"translateY(100vh)";return o.height=e?"100vh":"",t&&i&&(o={...o,width:425,left:"50%",transform:"translateX(-50%)"},a=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...o,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:a}}}},694379:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(892819),r=n(780280),o=n(785893);const a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:a,shortformMaximumFractionDigits:s,formatStyle:l,uplimit:c,value:d})=>{const u=(0,i.Z)();return(0,o.jsx)(r.LC,{children:i=>u(i.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:a,shortform_maximum_fraction_digits:s,style:l,uplimit:c})})}},298361:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(202139),r=n(898781),o=n(349700);function a(){const e=(0,r.ZP)();return function(t,n){const r=new Date(t),a=new Date-r,s=Math.floor(a/i.FS),l=Math.floor(a/i.UK),c=Math.floor(a/i.F4),d=Math.floor(a/i.VL),u=Math.floor(a/i.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', s, ' - ', ' -- '),h=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),g=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', d, ' - ', ' -- '),f=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),_=e.ngettext('{{ minutes }}m', '{{ minutes }}m', s, 'minutes ago abbreviated', 'minutes ago abbreviated'),v=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),y=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),x=e.ngettext('{{ weeks }}w', '{{ weeks }}w', d, 'weeks ago abbreviated', 'weeks ago abbreviated'),b=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,o.nk)(n?b:f,{years:u}).join(""):d>0?(0,o.nk)(n?x:g,{weeks:d}).join(""):c>0?(0,o.nk)(n?y:m,{days:c}).join(""):l>0?(0,o.nk)(n?v:h,{hours:l}).join(""):s>0?(0,o.nk)(n?_:p,{minutes:s}).join(""):e._('Just now', ' - ', ' -- ')}}},898781:(e,t,n)=>{n.d(t,{ZP:()=>s,oz:()=>o,q6:()=>r});var i=n(425288);const{Provider:r,Consumer:o,useHook:a}=(0,i.Z)("i18n"),s=a},892819:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(898781),r=n(66699);const o=(e,t)=>{const n=t||0,i=10**n,r=+(n?e*i:e).toFixed(8),o=Math.floor(r),a=r-o,s=a>.5-1e-8&&a<.5+1e-8?o%2==0?o:o+1:Math.round(r);return n?s/i:s},a=({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{const r={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...r,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:r},s=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0},l=(e,t)=>{if(t){const{minimumFractionDigits:n,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==i)return{minimumFractionDigits:n,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function c(){const e=(0,i.ZP)();return(t,n,i)=>{let c=0,d=0;const u=i&&i.style||void 0,p=i&&i.shortform||!1,h=i&&i.uplimit||void 0,m=i&&i.currency||void 0,g=!!h&&n>=h,f=h&&g?h:n;if("currency"===u){const{minimumFractionDigits:e,maximumFractionDigits:n}=l(t,m);c=void 0===i||void 0===i.maximum_fraction_digits?n:i.maximum_fraction_digits,d=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else c=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,d=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(p&&f>999&&(c=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,d=0),c<d)return String(f);let _=f,v="";const y=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],x=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],b=/^zh|ja|ko/.test(t);if(p&&f>999){const e=b?y:x;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],i=e[t][n].value;if(f>=i){_=o(f/i*Math.pow(10,c))/Math.pow(10,c),v=e[t][n].localeKey;break}}}if(null==_)return"";const w=_.toLocaleString([s(t)&&"ar-SA"!==t?t:"en-US"],a({maximumFractionDigits:c,minimumFractionDigits:d,currency:m,style:u}));return v&&v.length>0?(0,r.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:w,numberSuffix:v})+(g?"+":""):w+(g?"+":"")}}},564194:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),r=n(973935),o=n(407043),a=n(124580),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class d extends i.Component{constructor(e){super(e),l(this,"trackImpression",(()=>{try{this.node=(0,r.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{const{carouselData:t,closeupImpressionType:n,closeupNavigationType:i,componentType:r,contextLogData:o,elementType:a,impressionAuxFields:s,impressionType:l,loggingId:d,objectIdStr:u,slotIndex:p,trackCarousel:h,viewData:m,viewParameter:g,viewType:f,logContextEvent:_}=this.props,v=c[l],y=v.idType,x=e.forcedExit&&"removed"===e.forcedExit?0:void 0;let b={endTime:e.endTime,[y]:d,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...s,forcedExit:x};var w,S;"Pin"===l&&(b={...b,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:null===(w=window)||void 0===w?void 0:w.innerWidth,windowHeight:null===(S=window)||void 0===S?void 0:S.innerHeight});if(h||_({event_type:v.eventType,component:r,element:a,event_data:{[v.impressionType]:"Story"===l?b:[b]},object_id_str:u,view_type:f,view_data:m||{},view_parameter:g,aux_data:{...o,closeup_navigation_type:i}}),t&&h){const{carousel_slots:e,index:n=0,id:i}=t;_({event_type:7352,component:r,event_data:{pinCarouselSlotImpressions:[{...b,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},object_id_str:u,view_type:f,view_data:m||{},view_parameter:g,aux_data:{...o}})}})),this.impressionsFramework=e.impressionsFramework||a.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}function u(e){const{logContextEvent:t}=(0,o.v)();return(0,s.jsx)(d,{...e,logContextEvent:t})}},349700:(e,t,n)=>{n.d(t,{Wc:()=>l,bF:()=>d,nk:()=>s,r7:()=>u});var i=n(667294),r=n(785893);function o(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}const a=/(\{\{\s*\w+\s*\}\})/g;function s(e,t){return o(e,t,a)}function l(e,t){return o(e,t,a).join("")}const c=/(\{\s*\w+\s*\})/g;function d(e,t){return o(e,t,c)}const u=({text:e})=>Array.isArray(e)?e.map(((e,t)=>(0,r.jsx)(i.Fragment,{children:e},t))):e},995081:(e,t,n)=>{n.d(t,{Rq:()=>i,Vf:()=>r,jd:()=>o,oy:()=>a});const i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,o=e=>window.innerHeight>=748&&i(e),a=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},411938:(e,t,n)=>{n.d(t,{Z:()=>r});const i=28;function r(e,t,n=i){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let r;r=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,a=r?new Date(r):o;return a.setDate(a.getDate()+n),(new Date).getTime()<a.getTime()}},313047:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>d,DEFAULT_PADDING_Y:()=>u,FixedFooter:()=>v,FixedHeader:()=>_});var i=n(667294),r=n(883119),o=n(643010),a=n(124580),s=n(834256),l=n(773285),c=n(785893);const d=64,u=3,p=100,h=44,m="0px 0px 8px rgba(0, 0, 0, 0.1)",g="1px solid #efefef";function f({children:e,footerConfig:t,headerConfig:n,height:s,hideOnScroll:h,hideOnScrollState:{isHidden:f,updateHiddenState:_},noPadding:v,paddingY:y=u,type:x,zIndex:b}){const{headerLimitedOverflow:w,ignoreObstructions:S,zIndexForGestaltBug:I}=n||{},{appUpsellFooterConfig:P,footerInLego:T,navFooterConfig:k}=t||{},C=!!P,j="header"===x?"top":"bottom",{anyEnabled:E}=(0,l.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),A=(0,o.vs)(),F=E?A:(0,o.Yc)(),D=(0,i.useRef)(null),R=(0,i.useRef)(null);(0,i.useEffect)((()=>{try{if(!S){const e=D.current;R.current=w&&e&&Array.isArray(e.children)?e.children[0]:e,R.current instanceof HTMLElement&&a.Z.addObstruction(j,R.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{S||R.current instanceof HTMLElement&&a.Z.removeObstruction(j,R.current)}}),[S,w,j,F]);const O="top"===j?"relative":"fixed",L=v?0:y,M=(null!=s?s:d)+((null==n?void 0:n.overrideTop)||0),z=h||k?{transition:T?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...f?{transform:`translateY(${"top"===j?-M:M}px)`,opacity:T?0:1}:Object.freeze({})}:{},Z="relative"!==O||null!=n&&n.noGutter?0:2,N=Z?-Z:0,B=F?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let U,H;return F&&("header"===x?U=-1:H=-1),(0,c.jsx)(r.xu,{ref:D,dangerouslySetInlineStyle:{__style:{top:U,bottomStyle:H,...!b||I?{zIndex:I||1}:Object.freeze({}),...w?{background:"transparent",overflow:"hidden",paddingBottom:p,marginBottom:-p,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:g}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...z}},zIndex:I?void 0:b,"data-test-id":x,display:C?"flex":void 0,height:s&&!T?s:void 0,position:O,bottom:"footer"===x,top:"header"===x,left:!0,right:!0,marginStart:T?"auto":N,marginEnd:T?"auto":N,onTransitionEnd:()=>{(h||k)&&R.current&&(f?a.Z.removeObstruction(j,R.current):a.Z.addObstruction(j,R.current))},width:T||"fixed"!==O?void 0:"100%",children:(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==n?void 0:n.isTranslucent)&&B||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:T?C?void 0:null!=s?s:d:"100%",boxShadow:T?m:void 0,marginBottom:!T||null!=k&&k.docked?void 0:16,...w?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==x||v?0:4)+Z,paddingY:L,position:"relative",width:k?k.footerWidth:C?void 0:"100%",rounding:!T||null!=k&&k.docked?void 0:"pill",display:T||null!=t&&t.alignCenter?"flex":void 0,marginStart:T?"auto":void 0,marginEnd:T?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:_}):e})})}function _({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:o,noGutter:a,overrideTop:l,useRoundedCorners:d,zIndexForGestaltBug:p,...m}){const{noPadding:g,paddingY:_=u,zIndex:v}=m,y=g?0:_;return(0,c.jsx)(r.Le,{top:l||0,height:t?h+2*y*4:void 0,zIndex:v||void 0,children:(0,c.jsx)(s.Z,{hideOnScroll:m.hideOnScroll,children:r=>(0,c.jsx)(f,{...m,hideOnScrollState:r,type:"header",headerConfig:{isTranslucent:i,isTransparentBackground:o,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:a,overrideTop:l,zIndexForGestaltBug:p,useRoundedCorners:d}})})})}function v({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:r,...o}){return(0,c.jsx)(s.Z,{appUpsellFooterConfig:t,hideOnScroll:o.hideOnScroll,navFooterConfig:null==r?void 0:r.scrollConfig,children:a=>(0,c.jsx)(f,{...o,hideOnScrollState:a,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:r}})})}},834256:(e,t,n)=>{n.d(t,{Z:()=>s,m:()=>a});var i=n(667294),r=n(700380);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=20;class s extends i.Component{constructor(...e){var t;super(...e),o(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!(null===(t=this.props.navFooterConfig)||void 0===t||!t.isDockedNavOnPlp)}),o(this,"lastScrollPos",0),o(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),o(this,"handleScroll",(0,r.Z)((()=>{var e;const{appUpsellFooterConfig:t,navFooterConfig:n}=this.props,{isHidden:i}=this.state,r=window.scrollY,o=r-this.lastScrollPos;let s="none";const{scrollHeight:l,clientHeight:c}=document.documentElement||{};if(!Number.isNaN(l)&&!Number.isNaN(c))if(o<0){const e=window.scrollMinY||0;s=r<=Math.abs(e+Math.max(o,a))?"start":"none"}else{s=r>=(window.scrollMaxY||l-c)-Math.max(o,a)?"end":"none"}const d=null!=n&&n.isModal?0:55;if(t)if(o>a&&i&&r>=500){t.shouldShowAfterScroll()&&(this.updateHiddenState(!1),null==n||n.onScroll(!1))}else(o<-a&&!i||r<=d)&&(this.updateHiddenState(!0),null==n||n.onScroll(!0));else null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===s&&!i||r<=d?(this.updateHiddenState(!0),null==n||n.onScroll(!0)):(r>d||"end"===s)&&i&&(this.updateHiddenState(!1),null==n||n.onScroll(!1)):(o<-a||"start"===s)&&i||r<=d?(this.updateHiddenState(!1),null==n||n.onScroll(!1)):(o>a||"end"===s)&&!i&&(this.updateHiddenState(!0),null==n||n.onScroll(!0));this.lastScrollPos=r}),30))}componentDidMount(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(t){window.console.error(t),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){var t,n,i,r;!e.hideOnScroll&&this.props.hideOnScroll||(null===(t=e.navFooterConfig)||void 0===t||!t.isDockedNavOnPlp)&&null!==(n=this.props.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(i=e.navFooterConfig)&&void 0!==i&&i.isDockedNavOnPlp&&(null===(r=this.props.navFooterConfig)||void 0===r||!r.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!(null!=t&&t.forceShow)&&n,updateHiddenState:this.updateHiddenState})}}},542554:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(883119),r=n(444445),o=n(995081),a=n(134879),s=n(780280),l=n(785893);const c=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:c=!0,height:d,showKeychainError:u=!1,useViewport:p=!1})=>{const h=(0,s.B)(),m=(0,o.jd)(h.userAgent.platform)?o.Vf:0;return(0,l.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${m}px)`:d,paddingX:c?r.D6:void 0,paddingY:n||u?void 0:3,children:(0,l.jsx)(a.C,{value:!!c,children:e})})}},620707:(e,t,n)=>{function i(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every((n=>e[n]===t[n]))}return e===t}n.d(t,{Ak:()=>i,_Y:()=>r,qe:()=>s,xZ:()=>a});const r=(e,t)=>e.length===t.length&&e.every(((e,n)=>i(e,t[n]))),o=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),a=(e,t=o)=>n=>{const i=[];return function(...r){const o=this,a=i.find((e=>e.context===o&&t(e.args,r)));if(a)return a.result;const s={context:o,args:r,result:n.apply(this,r)};return i.push(s),e&&i.length>e&&i.shift(),s.result}},s=a(1);a()},567450:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>a});const r=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}getAppState(){return this.windowInFocus?0:void 0}},o=e=>{if(e.isHidden){const{reason:t}=e;r.windowInFocus=!1,r.onPauseListeners.forEach((e=>e(t)))}else r.windowInFocus=!0,r.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>o({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>o({isHidden:!1}))),window.addEventListener("blur",(()=>o({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>o({isHidden:!1}))),window.addEventListener("pagehide",(()=>o({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const a=r},153209:(e,t,n)=>{function i(e,t,n){return!(!(e&&e.trim().length>0&&t)||n)}n.d(t,{r:()=>i})},66084:(e,t,n)=>{n.d(t,{A:()=>l,n:()=>a});var i,r=n(667294),o=n(167912);const a=(e,t,n)=>{const i=!!(e&&e.name&&(e.categorized_ingredients&&!e.from_aggregated_data||e.categorizedIngredients&&e.categorizedIngredients.length>0&&e.categorizedIngredients[0].category&&!e.fromAggregatedData)),r=!!t;let o=n._('Visit', ' - ', ' -- ');return i?o=n._('Make it', ' - ', ' -- '):r&&(o=n._('Read it', ' - ', ' -- ')),o},s=void 0!==i?i:i=n(433549),l=(e,t)=>{const n=(0,o.useFragment)(s,e);return(0,r.useMemo)((()=>{var e,i;return n?a(null===(e=n.richMetadata)||void 0===e?void 0:e.recipe,null===(i=n.richMetadata)||void 0===i?void 0:i.article,t):t._('Visit', ' - ', ' -- ')}),[n,t])}},743217:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(752802),r=n(622305),o=n(802933);function a(e){const{images:t={}}=(0,r.Z)((0,o.Z)({pin:e}))||{},n=(0,i.Z)({images:t});return{url:(null==n?void 0:n.url)||"",height:(null==n?void 0:n.height)||1,width:(null==n?void 0:n.width)||1}}},305791:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(752802),r=n(743217);function o(e,t,n=564){return e>n&&(t*=n/e,e=n),{width:e,height:t}}var a=n(835209);const s=({pin:e,maxWidth:t,imageSignature:n})=>{var s,l;const{image_signature:c}=e;if(!n||""===n||c===n){const{width:n,height:i,url:a}=(0,r.Z)(e);return{...o(n,i,t),url:a}}const d=(0,a.Z)({richPinData:e.rich_metadata||e.rich_summary}),u=[...(null==d||null===(s=d.variant_set)||void 0===s||null===(l=s.variants)||void 0===l?void 0:l.flatMap((e=>e.additional_images||[])))||[],...(null==d?void 0:d.additional_images)||[]],{canonical_images:p}=u.find((({image_signature:e})=>n===e))||{},{height:h=1,width:m=1,url:g=""}=(0,i.Z)({images:p||{}})||{};return{...o(m,h,t),url:g}}},307061:(e,t,n)=>{n.d(t,{Z:()=>i});const i=function(e){return function(t){return null!=t?e(t):null}}},873441:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(66084),r=n(985913);const o=(e,t)=>{const n=e.link_domain||{},o=e.tracked_link||e.link||e.images&&e.images.orig&&e.images.orig.url,a=e.rich_metadata||e.richMetadata,{domain:s}=e,l=e.closeup_attribution||e.native_creator||n.official_user||e.pinner||e.origin_pinner,c=!(!(a&&a.recipe&&a.recipe.name&&a.recipe.categorized_ingredients)||a.recipe.from_aggregated_data);let d,u;a&&a.products&&a.products[0]&&(d=!!(a&&a.products[0].name&&a.products[0].offer_summary));const p=d,h=!(!a||!a.article),m=!(!a||!a.tutorial),g=!(!l||!l.username);let f=t._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation'),_=g?t._('Saved by', ' - ', ' -- '):t._('Saved from', ' - ', ' -- ');a&&a.products&&a.products[0]&&a&&a.products[0].name&&a.products[0].offer_summary&&(f=t._('Product sold by ', 'pin annotation', 'pin annotation'),u=a.products[0].offer_summary),p?_=t._('Sold by', ' - ', ' -- '):m?(f=t._('Saved from ', 'pin annotation', 'pin annotation'),_=g?t._('Saved by', ' - ', ' -- '):t._('Saved from', ' - ', ' -- ')):c?(f=t._('Recipe from ', 'pin annotation', 'pin annotation'),_=g?t._('Recipe by', ' - ', ' -- '):t._('Recipe from', ' - ', ' -- ')):h&&(f=t._('Article from ', 'pin annotation', 'pin annotation'),_=g?t._('Article by', ' - ', ' -- '):t._('Article from', ' - ', ' -- '));const v=e.rich_summary;if(!u&&v){let e;v&&v.products&&v.products[0]&&(e=!!(v&&v.products[0].name&&v.products[0].offer_summary),e&&(f=t._('Product sold by ', 'pin annotation', 'pin annotation')))}let y,x;g?(y="/"+l.username+"/",x=l.full_name):(y="/source/"+s,x=a&&a.site_name||s);const b=l&&(l.image_medium_url||l.image_small_url)||e.board&&e.board.image_thumbnail_url,w=(0,r.Z)(t._('More from {{ subtitle }}', ' - ', ' -- '),{subtitle:x});return{actionButtonText:(0,i.n)(null==a?void 0:a.recipe,null==a?void 0:a.article,t),image:b,link:y,pinLink:o,pin:e,pinCreditPrefix:f,prefixText:_,subtitle:x,title:w,pinTitle:e.closeup_unified_title,pinDescription:e.closeup_unified_description,pinCategory:e.category}}},622305:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(307061).Z)((e=>{const{pin:t}=e,{images:n}=t,i=Object.keys(n||{}).reduce(((e,t)=>{const i=n[t],{url:r,width:o,height:a}=i;return e&&r&&o&&a?{...e,[t]:{url:r,width:o,height:a}}:null}),{});return i&&Object.keys(i).length>0?{...e,images:i}:null}))},802933:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(307061).Z)((e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null))},760372:(e,t,n)=>{n.d(t,{X:()=>i});const i="favorited"},773285:(e,t,n)=>{n.d(t,{F:()=>o,a:()=>r});var i=n(425288);const{Provider:r,useHook:o}=(0,i.Z)("ExperimentContext")},383690:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(773285);const o=()=>{const e=(0,r.F)();return(0,i.useCallback)((()=>{e.flush()}),[e])}},523657:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=(n(883119),n(605841)),o=n(785893);const a=(e,t,n)=>{const r=(0,i.useRef)(null),o=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(e!==r.current||n&&n!==o.current){r.current=e;const n=(i=e,document.querySelector(`img[src="${i}"]`)||null);null!=n&&n.complete&&t()}var i;o.current=n}),[e,t,n])};function s({alt:e,children:t,color:n,elementTiming:i,isActive:s=!1,naturalHeight:l,naturalWidth:c,onLoad:d,src:u,fit:p="none"}){return a(u,d,s),(0,o.jsx)(r.Z,{alt:e,color:n,elementTiming:i,naturalHeight:l,naturalWidth:c,onLoad:d,src:u,fit:p,children:t})}},42447:(e,t,n)=>{n.d(t,{Z:()=>K});var i=n(667294),r=n(567450),o=n(226464),a=n(383434),s=n(790348),l=n(543059),c=n(198462),d=n(276602),u=n(638089),p=n(860273),h=n(453821),m=n(607150);const g=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,m.jh)("constraint_",e),...(0,m.jh)("mark_",(0,l.gQ)()),...(0,m.jh)("browser_",{...t?(0,m.D3)(t):{},...(0,m.rX)()})});var f=n(505771),_=n(156381),v=n(358864);const y=(e,t)=>{const{firstInputDelay:n}=(0,_.v2)();return[...e.map((e=>(0,f.Z)(e,t))).filter(Boolean),...n?[{name:"fid",id:(0,v.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var x=n(172071),b=n(435851);const w=({eventPrefix:e,endTime:t,tags:n,resourceArr:i,resourceType:r="allResources"})=>{const o=i.length;if(o>0&&"object"==typeof i[0]&&!Array.isArray(i[0])){const a=[...i].sort(((e,t)=>e.fetchStart-t.fetchStart)),s=[...i].sort(((e,t)=>e.responseEnd-t.responseEnd));let l=1;const c=t/5;let d=0;for(;l<=5;){let t=0;for(;d<=o-1&&a[d].fetchStart<=c*l;)d+=1,t+=1;x.Z.gauge(`${e}.tags.${r}.fetchStartInterval${l}of5`,t,.2,n),x.Z.gauge(`${e}.${r}.fetchStartInterval${l}of5`,t,.2),l+=1}const u={zeroPercentInFlight:a[0].fetchStart,twentyFivePercentInFlight:a[Math.floor(o/4)].fetchStart,fiftyPercentInFlight:a[2*Math.floor(o/4)].fetchStart,seventyFivePercentInFlight:a[3*Math.floor(o/4)].fetchStart,hundredPercentInFlight:a[o-1].fetchStart,twentyFivePercentComplete:s[Math.floor(o/4)].responseEnd,fiftyPercentComplete:s[2*Math.floor(o/4)].responseEnd,seventyFivePercentComplete:s[3*Math.floor(o/4)].responseEnd,hundredPercentComplete:s[o-1].responseEnd};for(const t in u)u[t]&&(x.Z.timing(`${e}.tags.${r}.${t}`,u[t],.2,n),x.Z.timing(`${e}.${r}.${t}`,u[t],.2))}},S=({annotateExperiments:e,endTime:t,entries:n,metricId:i,pwtStaticContext:r})=>{const o=`${(0,b.Z)(r)}.${i.surface}`,a=[o];e&&e.forEach((e=>{const t=r.getExperimentGroup(e)||"null";a.push(`${o}.${e}.${t}`)}));const s={lcpTimingBucket:(e=>{let t;return t=e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",t})((0,_.Bn)())||"unknown",isAuthenticated:r.isAuthenticated,navigationType:i.navigationType},l=Array.from(n.filter((e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t))),c=[],d=[],u=[],p=[],h=[];l.forEach((e=>{"img"===e.initiatorType?c.push(e):"css"===e.initiatorType?d.push(e):"script"===e.initiatorType?u.push(e):"xmlhttprequest"===e.initiatorType?p.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&h.push(e)})),a.forEach((e=>{w({eventPrefix:e,endTime:t,tags:s,resourceArr:l}),w({eventPrefix:e,endTime:t,tags:s,resourceArr:c,resourceType:"image"}),w({eventPrefix:e,endTime:t,tags:s,resourceArr:d,resourceType:"css"}),w({eventPrefix:e,endTime:t,tags:s,resourceArr:u,resourceType:"scripts"}),w({eventPrefix:e,endTime:t,tags:s,resourceArr:p,resourceType:"xhr"}),w({eventPrefix:e,endTime:t,tags:s,resourceArr:h,resourceType:"preloadedImage"})}))};var I=n(22773);const P=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:r,imageTimings:o,metricId:a,pwtStaticContext:s,startTime:l,traceId:c,spans:d})=>{const m=(0,I.Cg)();let f;"initial_app_load"===a.navigationType&&(f=(0,p.Z)());const _=o.map((({name:e})=>e)),v=m.map((e=>(0,h.p)(e,_))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:l,endTime:r})));return"board"!==a.surface&&"pin_closeup"!==a.surface||S({annotateExperiments:e,endTime:r,entries:m,metricId:a,pwtStaticContext:s}),{type:"COMPLETE",traceId:c,startTime:l,endTime:r,spans:y(v,c).concat(d),annotationMap:g({constraintMap:i,initialNavTiming:f,annotations:t}),binaryAnnotationMap:(0,u.rA)({annotateExperiments:e,binaryAnnotations:n,entries:m,metricId:a,performanceResources:v,pwtEndTime:r,pwtStaticContext:s})}};let T=!1;const k=(e,t)=>e&&t?T?((0,s.H)("duplicated_initial_app_load_surface_pwt"),(0,v.Z)()):(T=!0,t):(0,v.Z)();var C=n(558775),j=n(317672);const E=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const n=e.src.replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]){var r;const n=(null===(r=(0,j.rZ)(e))||void 0===r?void 0:r.width)||1,o=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:o,ratio:o/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]&&e instanceof HTMLDivElement){var r;const n=(null===(r=(0,j.rZ)(e))||void 0===r?void 0:r.width)||1,o=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:o,ratio:o/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:n,fileName:i,downloadedSize:r}=t;t.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${r}_${i}`}})}))};var A=n(985271);const F=(e,t)=>{const n=(0,i.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var D=n(785893);const R=["initial_app_load","client_route_push"],O=(0,a.XV)("PwtSurface"),L="NavigationComplete",M="VisuallyComplete",z=(e,t)=>{e.isSampled&&(0,C.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},Z=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:r,annotateExperiments:a},annotations:c,binaryAnnotations:d,constraintMap:u,startTime:p,imageTimings:h,isSampled:m,spans:g}=e;(0,l.L8)(`PWT_Complete_${(0,o.KJ)(i)}`);const f=k("initial_app_load"===i.navigationType,null===(n=r.serverData)||void 0===n?void 0:n.trace_id),_=P({annotateExperiments:a,annotations:c,binaryAnnotations:d,constraintMap:u,endTime:t,imageTimings:h,metricId:i,pwtStaticContext:r,startTime:p,traceId:f,spans:g});m&&(0,C.Z)({metricId:i,pwtStaticContext:r,result:_});try{E(String(_.binaryAnnotationMap["metricId.surface"].value))}catch(v){(0,s.H)("image_ratio_check_error",{error:v})}return{...e,result:_,status:"DONE"}})(e,t)}return e},N=(e,t)=>{const{constraint:n,time:i}=t,r=(0,o.KJ)(e.metricConfig.metricId);return A.Z?e.metricConfig.constraints.find((e=>e===n))?e.constraintMap[n]?(O(`constraint "${n}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:n,action:r}),e):(O(`marking constraint "${n}" as complete`),(0,l.ZP)(`constraint_${n}_is_complete`),Z({...e,constraintMap:{...e.constraintMap,[n]:i||A.Z.now()}})):(O(`marked constraint "${n}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:r}),e)},B=(e,t)=>{if(O("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:r}=t;if("TIMING"===e.status&&i!==e.startTime&&z(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const a=(0,o.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap[L]?((0,s.H)("duplicated_init_route_action",{action:a}),e):("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,s.A9)(`TIMING.${a}`,{tags:{userAgent:null===(l=window)||void 0===l||null===(c=l.navigator)||void 0===c?void 0:c.userAgent}}),(0,s.A9)(`TIMING.sampled.${a}`,{tags:{userAgent:null===(d=window)||void 0===d||null===(u=d.navigator)||void 0===u?void 0:u.userAgent},sampleRate:.5})):((0,s.A9)(`TIMING.${a}`),(0,s.A9)(`TIMING.sampled.${a}`,{sampleRate:.5})),N({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:r,spans:[]},{constraint:L}));var l,c,d,u})(e,t.payload);if("TIMING"!==e.status)return O(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":z(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!A.Z)return e;const r=A.Z.now();return O(`adding annotation {${i}: ${r}}`),{...e,annotations:{...e.annotations,[i]:r}};case"BINARY_ANNOTATE":const{name:a,value:l,annotationType:c}=t.payload;return O(`adding binary annotation {${a}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[a]:{value:l,type:c}}};case"MARK_CONSTRAINT_COMPLETE":return N(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!A.Z){const t=(0,o.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}O(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:i,...r}=e.constraintMap;return Z({...e,constraintMap:r,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!A.Z){const t=(0,o.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}O(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){z(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map((e=>e.responseEnd||0)));return N({...e,imageTimings:n},{constraint:M,time:i})}case"ADD_SUBSPAN":const{startTime:d}=e,{payload:{name:u,startTime:p,endTime:h,annotations:m,binaryAnnotations:g,parentId:f}}=t;return{...e,spans:[...e.spans,{name:u,id:(0,v.Z)(),startTime:p||d,endTime:h,annotationMap:{...m},binaryAnnotationMap:{...g},parentId:f}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,v.Z)(),startTime:A.Z?A.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const _=e.spans.findIndex((e=>e.name===t.payload.name));return _>-1?(e.spans[_].endTime=A.Z?A.Z.now():0,t.payload.annotations&&(e.spans[_].annotationMap={...e.spans[_].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[_].binaryAnnotationMap={...e.spans[_].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const y=(0,o.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:y}),e}},U=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},H=({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:o,annotateExperiments:a,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:l,navigationType:d},sampleRate:u})=>{const p=(0,i.useRef)("NOT_SET"),h=(0,c.N5)(),{getState:m,dispatch:g}=F(B,{status:"DISABLED",metricConfig:null});if(p.current!==l&&(p.current=l,h)){const{isAuthenticated:i}=h,r=e&&d&&(s||R).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:i,segment:n},annotateExperiments:a,constraints:[L,...t||[],...o?[M]:[]],pwtStaticContext:h}:null;g({type:"INIT_ROUTE",payload:{metricConfig:r,startTime:l?l.time:0,isSampled:!u||Math.random()<u}})}const f=m();if((0,i.useEffect)((()=>{const e=e=>{g({type:"ABORT",reason:e})};r.Z.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),g({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{const n=m();O("handling unmount",n),"TIMING"===n.status&&z(n,"unmount"),r.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),"TIMING"!==f.status||!f.constraintMap[L])return{state:f,context:null};const{startTime:_,metricConfig:v}=f;return{state:f,context:{abort:e=>g({type:"ABORT",reason:e}),addAnnotation:e=>g({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>g({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,i={},r={},o=null)=>g({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:o}}),getId:()=>_,getMetricId:()=>v.metricId,markConstraintComplete:e=>g({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:A.Z?A.Z.now():0}}),removeConstraint:e=>g({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>g({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:v.constraints.includes(M)?e=>g({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},i=null)=>g({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>g({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}},$=()=>{const e=(0,d.E)(),t=!!e;(0,i.useEffect)((()=>{if(t){const t=null==e?void 0:e.getMetricId(),n=t?(0,o.KJ)(t):null;(0,s.H)("nested_pwt_surface",{action:n})}}),[t])};function K({children:e,...t}){var n;const i=(0,c.fM)(),r=U(i),o=[...null!==(n=t.annotateExperiments)&&void 0!==n?n:[]],a={...t,annotateExperiments:o,navigationInfo:{navigationType:r,clientNavigation:i}},{context:s}=H(a);return $(),(0,D.jsx)(d.S,{value:s,children:e})}},317254:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(969853),r=n(667294),o=n(543059),a=n(276602);var s=n(198462);function l({children:e,isAtEndOfFeed:t,pinData:n,itemCount:l,includeBackgroundImages:c=!1,includeVideos:d=!1,includeSections:u=!1}){var p;return(null===(p=(0,s.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:c,includeVideos:d,includeSections:u}),function(e){const t=(0,a.E)(),n=(0,r.useRef)(null);(0,r.useEffect)((()=>{e!==n.current&&(n.current=e,t&&(0,o.ZP)(o.at))}),[!!t,e])}(l),e}},311560:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},844897:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),r=n(883119),o=n(485710),a=n(288889),s=n(319530),l=n(898781),c=n(773285),d=n(785893);function u({category:e,ingredients:t,textSize:n="300"}){return(0,d.jsxs)(r.xu,{children:[e&&(0,d.jsx)(r.xu,{children:(0,d.jsx)(r.xv,{weight:"bold",size:n,children:e})}),(0,d.jsx)("ul",{children:t.map(((e,t)=>(0,d.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,d.jsx)(r.xu,{marginTop:1,children:(0,d.jsxs)(r.xv,{size:n,children:[" ",e.amt||null," ",e.name]})})},t)))})]})}var p=n(134185),h=n(578661),m=n(985913);const g=e=>e.reduce(((e,t)=>e.concat(t)),[]);function f({columnGap:e,recipeProps:t,marginOverrides:n}){const f=(0,l.ZP)(),{diets:_,image:v,name:y,categorizedIngredients:x,fromAggregatedData:b}=t.recipe,{checkExperiment:w}=(0,c.F)(),S=w("closeup_dweb_onepin_title_and_description").anyEnabled,I=f._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');let P;if(x&&x.length){const e=[];x.forEach((t=>e.push(t.ingredients)));const t=g(e.filter(Boolean)).length;P=x&&x.length&&t?(0,m.Z)(f.ngettext('{{ count }} ingredient', '{{ count }} ingredients', t, 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description'),{count:t.toString()}):I}const T=S?8:(null==n?void 0:n.outerMarginTop)||80;return(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:T}},children:(0,d.jsxs)(p.Z,{itemScope:!0,itemType:h.G,children:[(0,d.jsx)("meta",{content:y,itemProp:"name"}),(0,d.jsx)("meta",{content:v,itemProp:"image"}),!S&&(0,d.jsx)(r.xu,{"data-test-id":"ingredients-heading",marginBottom:4,children:(0,d.jsx)(r.X6,{size:"400",children:b?y:P})}),!S&&_&&_.length>0&&(0,d.jsx)(r.xu,{marginBottom:4,children:(0,d.jsx)(r.xv,{inline:!0,size:"200",children:_.join(" ")})}),S?(0,d.jsx)(o.Z,{heading:I,children:(0,d.jsx)(s.Z,{children:(0,d.jsx)(r.xu,{marginTop:4,children:x.map((({category:e,ingredients:t},o)=>{const s=`ingredient-${o}`;return(0,d.jsx)(i.Fragment,{children:(0,d.jsx)(r.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||4,children:(0,d.jsx)(u,{category:e,ingredients:t,textSize:a.n})})},s)}))})})}):Array.isArray(x)&&x.length>0&&(1===x.length?(0,d.jsx)(r.xu,{column:12,"data-test-id":"single-column-ingredients",children:x.map((({category:e,ingredients:t},i)=>(0,d.jsx)(r.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||2,children:(0,d.jsx)(u,{category:e,ingredients:t,textSize:"100"})},i)))}):(0,d.jsxs)(r.xu,{display:"flex","data-test-id":"dual-column-ingredients",children:[(0,d.jsx)(r.xu,{column:6,children:x.slice(0,Math.ceil(x.length/2)).map((({category:e,ingredients:t},i)=>(0,d.jsx)(r.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||2,children:(0,d.jsx)(u,{category:e,ingredients:t,textSize:"100"})},i)))}),e,(0,d.jsx)(r.xu,{column:6,children:x.slice(Math.ceil(x.length/2)).map((({category:e,ingredients:t},i)=>(0,d.jsx)(r.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||2,children:(0,d.jsx)(u,{category:e,ingredients:t,textSize:"100"})},i)))})]}))]})})}},469823:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(883119),o=n(561195),a=n(785893);function s({recipeData:e}){var t;if(null!==(t=e.aggregate_rating)&&void 0!==t&&t.rating_value&&e.aggregate_rating.review_count){var n,s,l;const t="number"==typeof(null===(n=e.cook_times)||void 0===n||null===(s=n.cook)||void 0===s?void 0:s.m)&&"number"==typeof(null===(l=e.cook_times.prep)||void 0===l?void 0:l.m)?`${e.cook_times.cook.m+e.cook_times.prep.m} minutes  `:"";return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(o.Z,{rating:e.aggregate_rating.rating_value,max_rating:e.aggregate_rating.best_rating,width:12},e.aggregate_rating.rating_value),(0,a.jsx)(r.xv,{inline:!0,size:"200",children:` ${e.aggregate_rating.review_count}  ${t}`})]})}return null}},932995:(e,t,n)=>{function i(e,t,n){const i=[...e],r=i.splice(t,1)[0];return i.splice(n,0,r),i}n.d(t,{Z:()=>i})},780280:(e,t,n)=>{n.d(t,{B:()=>u,LC:()=>c,P2:()=>l,fH:()=>d,gf:()=>p});var i=n(667294),r=n(620707),o=n(608832),a=n(785893);const s=(0,i.createContext)();function l({children:e,value:t}){const[n,l]=(0,i.useState)(t),c=(0,i.useMemo)((()=>({requestContext:n,updateRequestContext:e=>{const t={...n,...e};(0,r.Ak)(n,e)||l(t),(0,o.J)(t)}})),[n]);return(0,a.jsx)(s.Provider,{value:c,children:e})}const c=({children:e})=>{const t=(0,i.useContext)(s);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},d=({children:e})=>{const t=(0,i.useContext)(s);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function u(){const e=(0,i.useContext)(s);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function p(){const e=(0,i.useContext)(s);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:(e,t,n)=>{let i;function r(e){i=e}function o(){return i}n.d(t,{J:()=>r,l:()=>o})},784590:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),r=n(702664),o=n(616550),a=n(886858),s=n(780280),l=n(248327),c=n(718368);const d={},u=({httpStatus:e})=>!e||e>=500;function p(e){const{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:p,name:h,noCache:m,options:g,schema:f}=null!=e?e:{name:"DisabledResource",options:null},_=!e,v=(0,r.useDispatch)(),y=(0,a.Z)(g),x=(0,i.useRef)(null),b=(0,i.useRef)(),w=(0,o.useHistory)(),S=w&&"POP"!==w.action,I=e=>(e[h]||d)[y]||d,P=(0,r.useSelector)((({resources:e})=>I(e).nextBookmark)),T=(0,r.useSelector)((({resources:e})=>I(e).data)),k=(0,r.useSelector)((({resources:e})=>I(e).auxData)),C=(0,r.useSelector)((({resources:e})=>I(e).error)),j=(0,r.useSelector)((({resources:e})=>Boolean(I(e).fetching))),E=Boolean(C)||void 0!==T,A=E&&!j&&P===c.q,F=Boolean(E&&t&&S&&!_),[D,R]=(0,i.useState)(F),O=(0,i.useCallback)((e=>{x.current=v((0,l.U)(h,{options:g,schema:f,bookmark:e,headers:p}))}),[v,h,y,f,p]),L=()=>{x.current=v((0,l.b)(h,{options:g,schema:f,headers:p}))},{isBot:M}=(0,s.B)(),z=()=>{if(!_&&b.current!==y){const e=void 0===b.current;b.current=y,!E&&!j||e&&C&&u(C)?O():(!M&&m||F)&&L()}};(0,i.useEffect)((()=>{n||z()})),n&&z();const Z=(0,i.useCallback)((()=>{_||(L(),R(!0))}),[_,l.b,h,y,p,R]),N=(0,i.useCallback)((()=>{!P||A||j||_||O(P)}),[_,O,P,A,j]);if(x.current)if(E&&!j)x.current=null;else if(n)throw x.current;const B=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:N,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:Z}),U={auxData:k,data:T,error:C,fetchMore:N,isAtEnd:A,isFetching:j,isLoaded:E,isRefreshing:D,nextBookmark:P,refresh:Z};return(0,r.shallowEqual)(U,B.current)||(!D||!B.current.data&&F||(0,r.shallowEqual)(U.data,B.current.data)||(U.isRefreshing=!1,R(!1)),B.current=U),B.current}},418614:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(784590),r=n(19121);var o=n(616550),a=n(780280),s=n(50286),l=n(826067);function c({checkExperiments:e,disableFetch:t,viewer:n}){var i;const r=(0,o.useLocation)(),c=(0,o.useRouteMatch)(),d=(0,a.B)(),u=function({advertiser:e,deviceType:t,location:{pathname:n,search:i},inviteCode:r,match:{params:o,path:a},viewer:s}){return{advertiser:e,deviceType:t,routeData:{inviteCode:r,matchPath:a,params:o,parsedSearch:(0,l.mB)(i),pathname:n,search:i},user:{country:s.country||void 0,id:s.id||void 0,isAuth:s.isAuth,isEmployee:!!s.isEmployee||!1,isPartner:!!s.isPartner||!1,username:s.username||void 0,firstHomeFeedRequestAfterNux:s.firstHomeFeedRequestAfterNux||void 0}}}({advertiser:d.advertiser,deviceType:(0,s.Mq)(d),location:r,match:c,viewer:n,inviteCode:null!==(i=d.inviteCode)&&void 0!==i?i:""}),p=!!t&&t(u),h=!(!p&&e)||e(d.experimentsClient);return{args:u,fetchDisabled:p||!h}}function d({getOptions:e,checkExperiments:t,disableFetch:n,...o}){const a=function(){const e=(0,r.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0,firstHomeFeedRequestAfterNux:e.firstHomeFeedRequestAfterNux||void 0}}(),{args:s,fetchDisabled:l}=c({checkExperiments:t,disableFetch:n,viewer:a}),d=e?e(s):void 0;return(0,i.Z)(l?null:{options:d,...o})}},995228:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(773285),o=n(780280),a=n(785893);function s({children:e,fallback:t}){const n=t||null,{isAuthenticated:s}=(0,o.B)(),{checkExperiment:l}=(0,r.F)();return(0,a.jsx)(i.Suspense,{fallback:n,children:e})}},740990:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)("undefined"!=typeof window?window:null)},909499:(e,t,n)=>{n.d(t,{Hd:()=>l,_R:()=>a,gi:()=>r,lw:()=>i,wF:()=>s,zh:()=>o});const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},r=e=>{switch(e){case i.PINS:return 0;case i.PINS_MINE:return null;case i.PINS_BUYABLE:return 1;case i.PINS_VIDEO:return 2;case i.BOARDS:return 3;case i.USERS:return 4;default:return null}},o=e=>{switch(e){case 0:return i.PINS;case 1:return i.PINS_BUYABLE;case 2:return i.PINS_VIDEO;case 3:return i.BOARDS;case 4:return i.USERS;default:return null}},a=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},s=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}},l=e=>{switch(e){case i.USERS:return 1000392;case i.PINS_BUYABLE:return 1000391;case i.PINS:default:return 29}}},391143:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(613316),r=n(643913);function o({bubbleId:e,pinId:t,query:n,referringSource:o,storyCategory:a,storyId:s,title:l}){const c=[0,24,21,26].includes(a),d=(0,r.Z)({q:n,rs:o||void 0,b_id:e,source_id:s,top_pin_id:t}),u=c&&l?(0,i.x)({title:l,id:e,articleType:"discover"}):`/discover/article/${e}/`;return c?u:"/search/pins/"+(d?"?"+d:"")}},648284:(e,t,n)=>{function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:r,selectedPinImgSig:o,user:a}){const s=[r,n,e,a,o,i].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+s:s}function r(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,appliedFilters:i,filters:r,selectedPinImgSig:o,query:a,rs:s,scope:l,bubbleId:c,user:d}=e,u=function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:n=null,bubbleId:i=null,filters:r=null,query:o=null,rs:a="direct_navigation",scope:s="pins",selectedPinImgSig:l=null,sourceId:c=null,user:d}){return{article:i,applied_filters:t,appliedProductFilters:n,auto_correction_disabled:e,corpus:l?"personalize":null,customized_rerank_type:l?"manas_graph_sage_only_wand_rewrite":null,filters:r,query:o,query_pin_sigs:l,redux_normalize_feed:!0,rs:a,scope:s,source_id:c,user:d}}({autoCorrectionDisabled:!!t,appliedProductFilters:n,appliedFilters:i,filters:r,query:a,rs:s,scope:l,selectedPinImgSig:o,bubbleId:c,user:d});return{name:"BaseSearchResource",options:u}}n.d(t,{Ht:()=>r,Tb:()=>i})},350576:(e,t,n)=>{n.d(t,{H5:()=>g,Xn:()=>h,an:()=>m});var i=n(826067);const r="BING",o="GOOGLE",a="YAHOO",s="YANDEX",l="RAKUTEN",c="NAVER",d="AMP_CACHE",u="DUCKDUCKGO",p=[o,r,a,s,l,c,d,u];function h(e){return p.includes(function(e){const{hostname:t}=(0,i.Qc)(e,!0);if(t&&e){if(t.includes("google.")||function(e){return e.includes("android-app://com.google.android.googlequicksearchbox")}(e))return o;if(t.includes("bing."))return r;if(t.includes("yahoo."))return a;if(t.includes("yandex."))return s;if(t.includes("rakuten."))return l;if(t.includes("naver."))return c;if(t.includes("duckduckgo."))return u;if(t.includes(".cdn.ampproject.org"))return d}return""}(e))}function m(e){return e||"undefined"!=typeof document&&document.referrer||""}const g=e=>{const t=new URL(e);return t.searchParams.set("nii","t"),t.href}},706922:(e,t,n)=>{function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function r(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o+=1)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!i(e[n[o]],t[n[o]]))return!1;return!0}n.d(t,{Z:()=>r})},619277:(e,t,n)=>{n.d(t,{o$:()=>r,ty:()=>o,vE:()=>a});var i=n(425288);const{Provider:r,MaybeConsumer:o,useMaybeHook:a}=(0,i.Z)("inviteContext")},858416:(e,t,n)=>{n.d(t,{Wr:()=>p,Hx:()=>m,RC:()=>h});var i=n(667294),r=n(425288);const o="";var a=n(924687),s=n(311541),l=n(785893);const c=()=>Promise.resolve().then(n.bind(n,924687)),{Provider:d,useHook:u}=(0,r.Z)("IdeaPinVideoPlayer");function p({children:e}){const[t,n]=(0,s.Z)(c,a.initialState),r=(0,i.useMemo)((()=>({dispatch:n,ideaPinVideoPlayerControls:t})),[n,t]);return(0,l.jsx)(d,{value:r,children:e})}function h(){const{dispatch:e}=u();return(0,i.useMemo)((()=>({updateSeekTime:(t,n)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||o}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||o}})},updateSeekingIdeaPin:t=>{e(t?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}})),[e])}function m(){const{ideaPinVideoPlayerControls:e}=u();return e}},924687:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r,initialState:()=>i});const i={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function r(e=i,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},676142:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(858142);const r=/\{\s*(\w+)\s*\}/g,o=(e,t)=>(0,i.Z)(r,e,t);function a({args:e,format:t}){const n=(e||[]).reduce(((e,t,n)=>({...e,[n]:t.text})),{});return o(t,n)}},940882:(e,t,n)=>{n.d(t,{J:()=>i,Z:()=>r});const i=-1;function r(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},985913:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(858142);const r=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>(0,i.Z)(r,e,t)},858791:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},858142:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},66699:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(985913),r=n(858791);const o=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,r.Z)(t[e].toString()):""})),(0,i.Z)(e,n)}},70061:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},430323:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(667294),r=n(722767),o=n(558068),a=n(780280),s=n(706922),l=n(245474),c=n(425288);const{Provider:d,useMaybeHook:u}=(0,c.Z)("timeSpentContext");var p=n(790123),h=n(350118),m=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(e){super(e),g(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),g(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:r,view:o,viewParameter:a}=this.props;return{view:o||r&&r.view,viewParameter:a||r&&r.viewParameter,component:t||r&&r.component,element:n,objectId:i||r&&r.objectId,clientTrackingParams:e||r&&r.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),g(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),g(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),g(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),g(this,"getTimedPair",(()=>this.state.timedPair)),g(this,"setTimedPair",(e=>this.setState({timedPair:e}))),g(this,"isRegistered",!1),g(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),g(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),g(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:n,left:i,right:r,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===r&&0===o?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new l.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,m.jsx)(d,{value:this.getContext(),children:(0,m.jsx)(r.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:i.Children.only(e)})})}}function _(e){var t;const n=(0,o.Hv)(),r=u(),s=(0,p.w)(),l=(0,h.H0)(),{requestIdentifier:c=""}=(0,a.B)(),d={app_instance_id:c.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,i.useEffect)((()=>{null==s||s.setHistoryStackContext(n)}),[n,s]),(0,i.useEffect)((()=>{null==s||s.setPins(null!=l?l:{})}),[l,s]),s?(0,m.jsx)(f,{...e,auxData:d,timeSpentContext:r,timeSpentManager:s,children:e.children}):e.children}_.displayName="TimeSpent";const v=_},790123:(e,t,n)=>{n.d(t,{j:()=>u,w:()=>d});var i=n(407043),r=n(425288),o=n(780280),a=n(50286),s=n(829407),l=n(785893);const{Provider:c,useMaybeHook:d}=(0,r.Z)("TimeSpentManagerContext");function u({children:e,value:t}){const n=(0,i.v)(),r=(0,a.HG)(),{isAuthenticated:d}=(0,o.B)(),u=r&&d;return(0,s.Z)((()=>{document.hasFocus()&&t(n,u).registerApp(),t(n,u).addEventListeners()})),(0,l.jsx)(c,{value:t(n,u),children:e})}},245474:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(172045),r=n(17314);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const s=class{constructor(e){o(this,"start",(()=>(this.startTime=a(),this.startTime))),o(this,"end",(()=>(this.endTime=a(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,i.Z)()}catch(t){this.uuid=(0,r.Z)()}e&&Object.assign(this,e)}}},932046:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(826067);function r(){const e=(0,i.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"}},758127:(e,t,n)=>{n.d(t,{U:()=>o,Z:()=>a});var i=n(883119),r=n(785893);const o=", ";function a(){return(0,r.jsx)(i.xu,{display:"visuallyHidden",children:o})}},948618:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,r.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,r.jsx)(i.xv,{color:t,inline:!0,size:null!=n?n:"200",children:""})})}},681291:(e,t,n)=>{n.d(t,{Z:()=>l,n:()=>a});var i=n(883119),r=n(512855),o=n(785893);function a({items:e,itemWidth:t,itemGap:n,numRows:i=1,actionItemType:o}){const[a,s]=(0,r.Z)(),l=Math.floor((a+n)/(t+n))*i||i,c=e.slice(0,l);let d,u=[];switch(o){case"nextFour":l>=e.length?u=[c.pop()]:(c.pop(),u=e.slice(l-1,l+3));break;case"one":d=l>e.length?e[Math.floor(e.length/2)]:c.pop()}return{containerRef:s,itemsToRender:c,actionItem:d,nextFourItems:u}}const s={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function l({children:e,itemGap:t,containerRef:n,numRows:r=1,rowAlignment:a="center"}){const l=s[a];return(0,o.jsx)(i.xu,{ref:n,width:"100%",children:(0,o.jsx)(i.kC,{alignItems:"center",justifyContent:l.outer,children:(0,o.jsx)(i.kC,{justifyContent:l.inner,gap:{row:Math.floor(t/4),column:0},wrap:r>1,children:e})})})}},343341:(e,t,n)=>{n.d(t,{F9:()=>o,Zo:()=>r});var i=n(425288);const{Provider:r,useHook:o}=(0,i.Z)("toastManagerContext")},149230:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(954931);const r=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,i.Z)(e))},280446:(e,t,n)=>{function i(e){const t="--";if((e||"").includes(t)){const n=e.split(t),i=n.pop();return{text:n.join(t),pinId:i}}return{text:"",pinId:e}}n.d(t,{Z:()=>i})},512855:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);function r(){const[e,t]=(0,i.useState)(0),n=(0,i.useRef)(null),r=(0,i.useCallback)((()=>{n.current&&t(n.current.clientWidth)}),[n]);return(0,i.useEffect)((()=>(window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)})),[r]),(0,i.useEffect)(r),[e,n]}},50286:(e,t,n)=>{n.d(t,{HG:()=>u,Kf:()=>a,Mq:()=>r,Wb:()=>d,ZP:()=>p,dA:()=>s,ds:()=>l,ml:()=>c});var i=n(780280);function r(e){const{isMobile:t,isTablet:n}=e.userAgent;return n?"tablet":t?"phone":"desktop"}const o=()=>r((0,i.B)()),a=e=>"phone"===e,s=e=>"tablet"===e,l=e=>"desktop"===e,c=()=>a(o()),d=()=>s(o()),u=()=>l(o()),p=o},311541:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);function r(e,t){const n=(0,i.useRef)([]),[r,o]=(0,i.useState)(),[a,s]=(0,i.useReducer)(null!=r?r:()=>t,t),l=(0,i.useCallback)((t=>{r?s(t):(n.current.length||e().then((e=>{o((()=>e.default))})),n.current=[...n.current,t])}),[e,r]);return(0,i.useEffect)((()=>{r&&(n.current.forEach(s),n.current=[])}),[r]),[a,l]}},829407:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);const r=e=>{(0,i.useEffect)(e,[])}},215292:(e,t,n)=>{n.d(t,{Z:()=>a,q:()=>o});var i=n(667294);const r=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1);return{active:e,focused:n,hovered:o,onBlur:()=>{r(!1),t(!1)},onFocus:()=>r(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),t(!1)},onMouseUp:()=>t(!1)}};function o({children:e}){return e(r())}const a=r},411465:(e,t,n)=>{n.d(t,{G:()=>s,Z:()=>l});var i=n(667294),r=n(616550),o=n(785893);const a=(0,i.createContext)(!0);function s({children:e}){const t=(0,r.useLocation)(),[n,s]=(0,i.useState)(!0),l=(0,i.useRef)(t);return(0,i.useEffect)((()=>{l.current!==t&&(l.current=t,s(!1))}),[t]),(0,o.jsx)(a.Provider,{value:n,children:e})}function l(){return(0,i.useContext)(a)}},19121:(e,t,n)=>{n.d(t,{$:()=>r,Z:()=>a});var i=n(425288);const{Provider:r,useHook:o}=(0,i.Z)("viewer"),a=o},46584:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294);const r=new Map;let o=null;const a=e=>{e.forEach((e=>{const t=r.get(e.target);t&&t(e)}))},s=e=>{o.unobserve(e),r.delete(e)},l=(e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};o=o||new window.IntersectionObserver(a,i),r.set(e,n),o.observe(e)},c=e=>r.has(e);function d({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:o}){const a=(0,i.useRef)(null);let d=!1;const u=()=>{a.current instanceof HTMLElement&&c(a.current)&&d&&(e(!1),d=!1)},p=(0,i.useCallback)((i=>{a.current instanceof HTMLElement&&l(a.current,i,(i=>{if(!r.has(a.current))return;const o=t?i.intersectionRatio>=.5:i.intersectionRatio>0||i.isIntersecting,s=n?i.intersectionRatio>=1:o,l=n?0===i.intersectionRatio:!s;!d&&s?(t=>{const n=t.intersectionRatio>0||t.isIntersecting;d=n,d&&e(!0)})(i):d&&l&&u()}))}),[a.current]);return(0,i.useEffect)((()=>(p(o),()=>{a.current instanceof HTMLElement&&(u(),s(a.current))})),[p]),a}},868565:(e,t,n)=>{function i(e){const t=e.videos&&e.videos.video_list;return t&&Object.keys(t).length?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,{Z:()=>i})},121630:(e,t,n)=>{n.d(t,{Z:()=>o,e:()=>r});var i=n(81226);const r=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},o=e=>{var t,n,r,o,a;return(0,i.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(n=e.videos)||void 0===n||null===(r=n.video_list)||void 0===r||null===(o=r.V_HLSV4)||void 0===o?void 0:o.duration)||(null===(a=e.story_pin_data)||void 0===a?void 0:a.total_video_duration)||0)}},905723:(e,t,n)=>{n.d(t,{Z:()=>i});const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},523563:(e,t,n)=>{function i(e,t,n){return Object.keys(e).reduce(((n,i)=>n+Math.abs(e[i]-t[i])),0)<=n}n.d(t,{Z:()=>i})},229428:(e,t,n)=>{function i(e){return e.filter((e=>e.is_stela))}function r(e){return e.filter((e=>!!e.label))}n.d(t,{k:()=>i,m:()=>r})},975540:(e,t,n)=>{function i({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:r,scaledHeight:o}){return{x:e/r,y:t/o,w:n/r,h:i/o}}n.d(t,{Z:()=>i})},599611:(e,t,n)=>{function i({cropArea:{x:e=0,y:t=0,w:n=0,h:i=0},scaledWidth:r,scaledHeight:o}){return{h:Math.floor(i*o),w:Math.floor(n*r),x:Math.floor(e*r),y:Math.floor(t*o)}}n.d(t,{Z:()=>i})},94047:(e,t,n)=>{function i({cropArea:{x:e,y:t,w:n,h:i},cropSource:r,searchQuery:o,entry:a,entrySource:s,title:l,trafficSource:c,imageSignature:d}){const u=[];e>=0&&t>=0&&n>=0&&i>=0&&u.push(`x=${e}`,`y=${t}`,`w=${n}`,`h=${i}`),r&&u.push(`cropSource=${r}`),s&&u.push(`entrySource=${s}`),o&&u.push(`q=${o}`),l&&u.push(`full_feed_title=${encodeURIComponent(l)}`),d&&u.push(`imageSignature=${d}`),c&&"unknown"!==c&&u.push(`rs=${c}`),a&&"shop"===a&&u.push(`entry=${a}`);return u.length?`?${u.join("&")}`:""}n.d(t,{Z:()=>i})},297852:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(94047);function r({cropArea:e,cropSource:t,entry:n,entrySource:r,isProductOnlyFeed:o,isUnified:a,imageSignature:s,pinId:l,searchQuery:c,title:d,trafficSource:u,view:p}){return`/pin/${l}/${a?"related-products":"visual-search"}/${a||"products"!==p?"":"products/"}${o?"all/":""}${(0,i.Z)({cropArea:e,cropSource:t,entry:n,entrySource:r,title:d,trafficSource:u,searchQuery:c,imageSignature:s})}`}},522679:(e,t,n)=>{n.d(t,{N:()=>p,t:()=>g});var i=n(667294),r=n(214494),o=n(78714),a=n(904431),s=n(924196),l=n(425288),c=n(773285),d=n(785893);const{Provider:u,useHook:p}=(0,l.Z)("LinkedAccount"),h=e=>{(0,o.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},m=e=>{a.Z.reportFacebookConversion(s.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),a.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),a.Z.reportLinkedInConversion(s.Z.LINKEDIN_PARTNER_ID,s.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),a.Z.reportGoogleConversion(s.Z.GOOGLE_ADWORDS_ID,s.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e)};function g({children:e}){const[t,n]=(0,i.useState)(!1),[o,a]=(0,i.useState)([]),{checkExperiment:s}=(0,c.F)(),l=s("ppm_p_gate").anyEnabled,p=(0,i.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:i,nextUrl:o})=>{n(!0);const a={business_name:e,third_party_apps:t};return r.Z.create("BusinessOwnershipResource",a).callCreate({showError:!0}).then((()=>{i&&m(l),n(!1),h(o)})).catch((e=>(n(!1),Promise.reject({error:e}))))}),[n,l]),g=(0,i.useMemo)((()=>({createLinkedBusinessAccount:p,linkedBusinessCreationLoading:t,userAccounts:o,userAccountsRetrieved:a})),[p,t,a,o]);return(0,d.jsx)(u,{value:g,children:e})}},439506:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(702664),r=n(883119),o=n(792182),a=n(407043),s=n(332611),l=n(599997),c=n(116303),d=n(46584),u=n(785893);function p({isFullWidth:e,actionType:t,buttonAction:n,buttonText:p,experience:h,hideCompleteButton:m,imageAlt:g,imageUrl:f,openNewTab:_,avatarImageDetails:v,examplePinImage:y,titleText:x,titleTextColor:b,titleTextCustomization:w,descriptionText:S,descriptionTextCustomization:I}){var P,T;const{logContextEvent:k}=(0,a.v)(),C=(e=>0===e?3833:1===e?3834:2===e?3835:null)(t),j=(0,i.useDispatch)(),{experience_id:E,placement_id:A}=h||{},F=(0,d.Z)({onVisibilityChanged:e=>{e&&h&&(h.status="viewed",k({event_type:13,view_type:612,view_parameter:C}),j((0,s.UT)(A,E,!1,!0)))}}),{width:D}=(0,o.Z)()||{width:8},R=D-8,O=(0,l.IA)(D),L=R*O,M=O===l.LX||O===l.Ec,{url:z,full_name:Z}=v||{},N=L*l.l0,{url:B}=y||{},U=B?L*l.l0:0,H=B?l.ml*U:0,{color:$,fontStyle:K,fontWeight:W,horizontalAlignment:G,fontSize:V}=(0,l.Mf)(w||{},"mweb"),{color:q,fontStyle:Y,fontWeight:X,horizontalAlignment:J,fontSize:Q}=(0,l.Mf)(I||{},"mweb");return(0,u.jsx)(r.xu,{position:"relative",padding:1,marginBottom:2,ref:F,children:(0,u.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},color:e?"default":"education",paddingX:2,paddingY:4,position:"relative",rounding:4,children:[e&&f&&z&&(0,u.jsx)(r.xu,{height:L,width:R,children:(0,u.jsx)(r.Ee,{alt:g||x||"",color:"rgb(111, 91, 77)",naturalHeight:L,naturalWidth:R,src:f,fit:"cover",children:(0,u.jsx)(r.xu,{paddingY:z?12:3,children:(0,u.jsxs)(r.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[Z&&z&&(0,u.jsx)(r.xu,{height:N,width:N,children:(0,u.jsx)(c.Z,{name:Z,src:z,size:"fit"})}),(0,u.jsx)(r.xv,{align:G,color:b,italic:"italics"===K,weight:W,children:(0,u.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(P=$||b)&&void 0!==P?P:void 0,fontSize:M?l.SF:V}},children:x})}),(0,u.jsx)(r.xv,{align:J,italic:"italics"===Y,weight:X,children:(0,u.jsx)(r.xu,{paddingX:12,dangerouslySetInlineStyle:{__style:{color:null!=q?q:void 0,fontSize:M?l._e:Q}},children:S})})]})})})}),(!e||e&&B)&&(0,u.jsxs)(r.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",justifyContent:"center",children:[y&&B&&(0,u.jsx)(r.xu,{paddingY:4,children:(0,u.jsx)(r.zd,{height:U,width:H,rounding:4,children:(0,u.jsx)(r.Ee,{alt:"Your first saved Pin",naturalHeight:U,naturalWidth:H,src:B,fit:"cover"})})}),(0,u.jsx)(r.xv,{align:G,color:b,italic:"italics"===K,weight:W,children:(0,u.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(T=$||b)&&void 0!==T?T:void 0,fontSize:M&&e?l._e:V}},children:x})}),S&&I&&(0,u.jsx)(r.xu,{paddingX:e?2:0,paddingY:0,children:(0,u.jsx)(r.xv,{align:J,italic:"italics"===Y,weight:X,children:(0,u.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{color:null!=q?q:void 0,fontSize:M&&e?l._e:Q}},children:S})})}),!m&&(0,u.jsx)(r.kC.Item,{alignSelf:"center",children:(0,u.jsx)(r.xu,{marginTop:2,marginBottom:e?4:0,children:(0,u.jsx)(r.zx,{accessibilityLabel:p,color:"white",text:p,size:"md",role:"link",href:n,target:_?"blank":null,onClick:()=>{h&&(k({event_type:102,view_type:612,view_parameter:C}),j((0,s.CK)(A,E,!1,!0)))}})})})]})]})})}},167234:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(883119),o=n(992813),a=n(697335),s=n(977558),l=n(49028),c=n(785893);function d({children:e,className:t,forwardRef:n,offset:d=0,position:u,shouldShowShadow:p=!1,style:h={},top:m}){const{setIsContentHeaderPresent:g}=(0,o.i)();(0,i.useEffect)((()=>(g(!0),function(){g(!1)})),[]);const{currentScrollPosition:f,isScrolled:_,setSubheaderShadow:v}=(0,l.WQ)();(0,i.useEffect)((()=>(p&&v("contentHeader"),()=>{p&&v(null)})),[p]);let y=!1;"pending"!==m&&(y=null!=m?f>=m:_);const x=(0,a.t)(),b=(0,c.jsx)("div",{className:t,ref:n,style:{...h,top:x+d,...y&&p?{...s.Rz,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?(0,c.jsx)(r.Le,{top:x+d,children:b}):b}},992813:(e,t,n)=>{n.d(t,{Z:()=>l,i:()=>s});var i=n(667294),r=n(425288),o=n(785893);const{Provider:a,useHook:s}=(0,r.Z)("ContentHeader");function l({children:e}){const[t,n]=(0,i.useState)(!1),r=(0,i.useMemo)((()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:n})),[t]);return(0,o.jsx)(a,{value:r,children:e})}},79113:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),r=n(883119),o=n(643010),a=n(968121),s=n(124580),l=n(740990),c=n(223815),d=n(965900),u=n(785893);const p={border:(0,o.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,o.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},h={modalOpen:{__style:{...p}},modalClose:{__style:{...p,transform:"translate3d(0px, 100%, 0px)"}}};function m({accessibilityModalLabel:e,allowClickAndDrag:t,children:n,isOpen:o}){const{setAppFocusState:p}=(0,d.I)(),m=(0,i.useRef)(null);return(0,i.useEffect)((()=>(o&&(s.Z.pause(),p(!1),document.body&&(document.body.style.overflow="hidden")),()=>{o&&(s.Z.resume(),p(!0),document.body&&(document.body.style.overflow=""))})),[o,p]),(0,u.jsx)(c.Z,{allowClickAndDrag:t,children:(0,u.jsx)(r.mh,{zIndex:a.b7,children:(0,u.jsx)(r.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(r.xu,{ref:m,dangerouslySetInlineStyle:{__style:o?h.modalOpen.__style:h.modalClose.__style},children:(0,u.jsx)(l.Z.Provider,{value:m.current,children:n})})})})})}},604344:(e,t,n)=>{n.d(t,{Zt:()=>ye,iK:()=>xe,ZP:()=>be,cV:()=>fe});var i=n(667294),r=n(702664),o=n(616550),a=n(883119),s=n(920231),l=n(444445),c=n(317254),d=n(780280),u=n(784590),p=n(740990),h=n(50286),m=n(223019),g=n(157796),f=n(283698),_=n(100183),v=n(81636),y=n(898781),x=n(391254),b=n(313047),w=n(639952),S=n(785893);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P="BizNuxHomefeedLoader",T=[140,220,265],k=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],C=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${P}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${P}_FadeOut`}:{}}),j=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${P}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${P}_FadeOut`}:{},E=[`${P}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${P}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class A extends i.PureComponent{constructor(...e){super(...e),I(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),I(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),I(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(){const{homefeedLoading:e}=this.props,{enterAnimationFinished:t,startExitAnimation:n}=this.state;!t||e||n||(0,f.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:this.numberOfColumns},(()=>[]));for(let i=0;i<t.length;i+=1){const e=t[i].getBoundingClientRect();n[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return n}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,n){const i=this.numberOfColumns+1,r=(window&&window.innerWidth-16*i)/this.numberOfColumns;return{left:e*r+16*(e+1),top:n,width:r,height:T[(e+t)%T.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,n=Array(this.numberOfColumns).fill(b.DEFAULT_HEIGHT),{gridCellDimensionsByColumn:i}=this,r=e.map(((e,r)=>{const o=r%this.numberOfColumns,s=Math.floor(r/this.numberOfColumns),l=k[r%k.length],c=n[o],d=this.computeGridCellLayout(o,s,c),u=(({color:e,startAnimation:t,originDimension:n,destinationDimension:i})=>{const r=i&&i.height>0?{top:i.top,left:i.left,width:i.width,height:i.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:n.height,width:n.width,left:n.left,top:n.top,backgroundColor:e,borderRadius:"8px",...t?r:{}}})({color:l,startAnimation:t,originDimension:d,destinationDimension:i&&i[o][s]});return n[o]+=16+d.height,(0,S.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:u},children:(0,S.jsx)(a.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:j(t)},children:(0,S.jsx)(a.X6,{color:"light",size:"500",children:e.name})})},r)}));return(0,S.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${P}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${P}_SlideUp`}},children:r})}render(){const{startExitAnimation:e}=this.state;return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(x.Z,{unsafeCSS:(0,_.Ll)(E)}),(0,S.jsx)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:C(e)},children:(0,S.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(g.Z,{duration:3700,finalProgress:100}),(0,S.jsx)(a.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${P}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${P}_FadeOut`}},children:(0,S.jsx)(a.X6,{children:this.props.i18n._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details')})})]}),this.renderGrid()]})})]})}}function F(e){const t=(0,y.ZP)(),n=(0,r.useSelector)((({topics:e})=>e)),i=(0,r.useDispatch)();return(0,v.Q)({view_type:24,view_parameter:261}),(0,S.jsx)(A,{...e,dismissLoader:()=>i((0,w.MI)(!1)),i18n:t,selectedTopics:Object.keys(n).filter((e=>n[e].is_followed)).map((e=>n[e]))})}var D=n(90221),R=n(679031),O=n(889884),L=n(844887),M=n(698629),z=n(720946),Z=n(172071),N=n(934494),B=n(439506),U=n(368156),H=n(946036),$=n(163321),K=n(112690),W=n(773285),G=n(19121),V=n(861411),q=n(350118);const Y=16,X=2;function J({pin:e,width:t,height:n,showDivider:i}){var r,o,s,l,c,d,u;const p=null===(r=e.images)||void 0===r?void 0:r["236x"];return(0,S.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:i?{borderRight:`${X}px solid #fff`}:{}},children:(0,S.jsx)(a.GH,{contentAspectRatio:(null!==(o=null==p?void 0:p.width)&&void 0!==o?o:1)/(null!==(s=null==p?void 0:p.height)&&void 0!==s?s:1),height:n,width:t,children:(0,S.jsx)(a.Ee,{alt:null!==(l=e.description)&&void 0!==l?l:"",naturalWidth:null!==(c=null==p?void 0:p.width)&&void 0!==c?c:1,naturalHeight:null!==(d=null==p?void 0:p.height)&&void 0!==d?d:1,src:null!==(u=null==p?void 0:p.url)&&void 0!==u?u:""})})})}function Q({storyId:e,slotIndex:t}){const n=(0,o.useHistory)(),s=(0,o.useLocation)(),{isAuth:l}=(0,G.Z)(),{checkExperiment:c}=(0,W.F)(),[d,u]=(0,i.useState)(0),p=(0,i.useRef)(),h=(0,K.Z)(),m=(0,q.S6)();(0,i.useLayoutEffect)((()=>{const e=p.current;e&&u(e.offsetWidth)}),[]);const g=(0,r.useSelector)((({stories:t})=>t[e])),f=g.objects.map((e=>m(e.id))).filter(Boolean).slice(0,2),{story_type:_,action:v}=g,y=`${s.pathname}products/${s.search}`,x=()=>{h({component:200,event_type:102,view_parameter:3050,view_type:72}),n.push(y)};return c(l?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,S.jsx)(V.qS,{auxData:{story_type:_,content_ids:f.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>d?(0,S.jsx)(a.xu,{padding:2,ref:e,children:(0,S.jsx)(a.zd,{rounding:2,children:(0,S.jsxs)(a.iP,{onTap:x,children:[(0,S.jsx)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:f.map(((e,t)=>(0,S.jsx)(J,{pin:e,width:(d-Y)/2-X/2,height:d-Y,showDivider:!t},e.id)))}),(0,S.jsx)(a.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,S.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,S.jsx)(a.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,S.jsx)(a.xv,{weight:"bold",children:v.text})})})})]})})}):(0,S.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,S.jsx)(V.Hs,{auxData:{story_type:_,content_ids:f.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:d?(0,S.jsx)(a.xu,{padding:2,children:(0,S.jsx)(a.zd,{rounding:2,children:(0,S.jsxs)(a.iP,{onTap:x,children:[(0,S.jsx)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:f.map(((e,t)=>(0,S.jsx)(J,{pin:e,width:(d-Y)/2-X/2,height:d-Y,showDivider:!t},e.id)))}),(0,S.jsx)(a.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,S.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,S.jsx)(a.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,S.jsx)(a.xv,{weight:"bold",children:v.text})})})})]})})}):(0,S.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:p})})}var ee=n(706794),te=n(826067),ne=n(962551);const ie=43,re=2,oe=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],ae=e=>oe[e.charCodeAt(0)%oe.length];function se({guides:e,storyId:t,slotIndex:n,titleFormat:r}){var s;const{isAuth:l}=(0,G.Z)(),{checkExperiment:c}=(0,W.F)(),d=null!==(s=(0,te.mB)((0,o.useLocation)().search).q)&&void 0!==s?s:"";return c(l?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,S.jsx)(V.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:ie,viewType:re,children:({impressionTrackerRef:t})=>(0,S.jsxs)(a.xu,{ref:t,children:[r&&(0,S.jsx)(a.xu,{paddingY:1,marginTop:2,children:(0,S.jsx)(a.xv,{align:"center",children:r})}),(0,S.jsx)(ne.Z,{guides:e.map((e=>({display:e.display,dominant_color:ae(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:d})]})}):(0,S.jsx)(V.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:ie,viewType:re,children:(0,S.jsxs)(i.Fragment,{children:[r&&(0,S.jsx)(a.xu,{paddingY:1,marginTop:2,children:(0,S.jsx)(a.xv,{align:"center",children:r})}),(0,S.jsx)(ne.Z,{guides:e.map((e=>({display:e.display,dominant_color:ae(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:d})]})})}var le=n(566102);function ce({slotIndex:e,storyId:t,viewParameter:n,viewType:r,storyData:o}){const{actionText:s,actionUrl:l,contextualSearchFromObjects:c,customProperties:d,descriptionFormat:u,displayOptions:p,experience:h,storyType:m,titleFormat:g}=o;switch((0,i.useEffect)((()=>{Z.Z.increment("webapp.graphql.pinStory",.1,{viewType:r,storyType:m})}),[r,m]),m){case H.q:{var f,_,v;if(!d||!p)return null;const{numColumnsRequested:e,titleTextColor:t}=p;return 2===e?null:(0,S.jsx)(B.Z,{isFullWidth:!1,actionType:d.actionType,buttonAction:null!=l?l:"",buttonText:null!=s?s:"",experience:null!=h?h:void 0,hideCompleteButton:d.hide_complete_button,imageAlt:d.image_alt,imageUrl:d.image,openNewTab:d.open_new_tab,avatarImageDetails:null!==(f=d.avatar_image_details)&&void 0!==f?f:{},examplePinImage:null!==(_=null===(v=d.example_pin_image_details)||void 0===v?void 0:v.originals)&&void 0!==_?_:{},titleText:null!=g?g:"",titleTextColor:$.e[t],titleTextCustomization:d.title_text_customization,descriptionText:null!=u?u:"",descriptionTextCustomization:d.description_text_customization})}case"feed_card_default":case"feed_card_video":return(0,S.jsx)($.Z,{buttonAction:null!=l?l:"",buttonCustomization:d.button_customization,buttonText:null!=s?s:"",experience:null!=h?h:void 0,hideCompleteButton:d.hide_complete_button,imageAlt:d.image_alt,imageUrl:d.image,openNewTab:d.open_new_tab,storyType:m,titleText:null!=g?g:"",titleTextColor:$.e[p.titleTextColor],titleTextCustomization:d.title_text_customization,videoPin:d.video_pin,videoPlaceholderImage:d.video_placeholder_image});case"general_shopping_upsell":return(0,S.jsx)($.Z,{buttonAction:null!=l?l:"",buttonText:null!=s?s:"",imageAlt:null==d?void 0:d.image_alt,imageUrl:null==d?void 0:d.image,storyType:m,titleText:null!=g?g:"",titleTextColor:$.e[p.titleTextColor]});case"BUBBLE_ONE_COL":return(0,S.jsx)(a.xu,{padding:2,children:(0,S.jsx)(U.Z,{slotIndex:e,storyId:t,viewType:r,viewParameter:n})});case"pinner_authority":case"pinner_authority_unified":return(0,S.jsx)(ee.Z,{storyId:t,slotIndex:e});case"stela_in_flashlight_onecol":return(0,S.jsx)(Q,{storyId:t,slotIndex:e});case"search_guides":return(0,S.jsx)(se,{guides:null!=c?c:[],slotIndex:e,storyId:t,titleFormat:null!=g?g:""});default:return null}}const de=(0,N.Z)({useGraphQLAdapter:()=>null,useLegacyAdapter:e=>{const t=(0,r.useSelector)((({stories:t})=>t[e]));if(!t)return null;const{action:n,container_type:i,custom_properties:o,display_options:a,experience:s,story_type:l,title:c,description:d,objects:u}=t;if(!l)return null;const p=u,h=null==p?void 0:p.filter((e=>"contextual_search"===e.schema||"contextual_search"===e.type)).map((e=>{var t,n;return{schema:"contextual_search",display:null!==(t=e.display)&&void 0!==t?t:"",term:null!==(n=e.term)&&void 0!==n?n:""}}));return{actionText:null==n?void 0:n.text,actionUrl:null==n?void 0:n.url,customProperties:o,displayOptions:a?{numColumnsRequested:a.num_columns_requested,titleTextColor:a.title_text_color}:null,experience:s,storyType:(0,le.Z)({containerTypeIsItemGrid:56===i,storyType:l})?"BUBBLE_ONE_COL":l,titleFormat:null==c?void 0:c.format,descriptionFormat:null==d?void 0:d.format,contextualSearchFromObjects:h}}}),ue=e=>(0,S.jsx)(de,{input:{enabled:!1,data:e.storyId},children:({data:t})=>t&&(0,S.jsx)(ce,{...e,storyData:t})});var pe=n(182476),he=n(491563);function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge={},fe=e=>{ge[e]&&ge[e].handlePullToRefresh()},_e=()=>{const{plpImageRenderData:e}=(0,L.HW)(),[t]=e;return t?t.pin_id:null};class ve extends i.PureComponent{constructor(...e){super(...e),me(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:_e(),feedItem:null}:null}),me(this,"backOnlineAutoFetchResource",(()=>{this.props.pagination.loadNext()})),me(this,"handlePullToRefresh",(()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})})),me(this,"gridContainerRef",(0,i.createRef)()),me(this,"renderFeedPin",((e,t)=>{const{feedItemProps:n,location:i,performanceOptimization:r,renderSquarePins:o,showSeoMetadata:a,squarePins:s,trafficSource:l}=this.props,{auxData:c,componentType:d,feedback:u,imageOnly:p,impressionData:h,objectIdStr:m,oneTapSave:g,onFeedItemClick:f,onPinLinkClick:_,shouldAllowProductPriceIndicator:v,showSeoMetadata:y,viewData:x,viewParameter:b,viewType:w}=n||{},I=(i.search||"").includes("force_seo"),P=!(null==r||!r.lazyLoadBelowFoldIndex)&&t>r.lazyLoadBelowFoldIndex,T=!(null==r||!r.priorityFetchAboveFoldIndex)&&t<=r.priorityFetchAboveFoldIndex;return(0,S.jsx)(z.default,{auxData:c,componentType:d||0,duploFeedItemProps:{onPinClick:f,onPinLinkClick:_,showSeoMetadata:a||I||y},duploIsSquarePin:o||s,duploLazyLoadImage:P,duploOneTapSave:g,duploPriorityFetchImage:T,duploShouldAllowProductPriceIndicator:v,feedback:u,imageOnlyOption:p?"image-only":"default",impressionData:h,objectIdStr:m,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams,trafficSource:l,viewData:x,viewParameter:b,viewType:w||1})}))}componentDidMount(){var e,t;window.addEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,t=this,ge[e]=t}componentWillUnmount(){var e;window.removeEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,delete ge[e]}componentDidUpdate(e){const{refreshing:t,unauthLandingPinStateForAuthHomefeed:n}=this.state,{feedItems:i,authHomefeedComponentDidUpdate:r}=this.props,o=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(o&&this.setState({refreshing:!1}),r&&n){const t=r({feedItems:i,prevFeedItems:e.feedItems,finishedRefresh:o,unauthLandingPinStateForAuthHomefeed:n});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){const{deviceType:e,emptyState:t,feedItemProps:n,feedItems:r,feedItemsAdjustment:o,feedKey:d,gridConfig:u,pagination:h,pullToRefresh:g,renderFeedItem:f,serverRender:_,showBizNuxHomefeedLoader:v,trafficSource:y,visuallyCompleteProfilerOptions:x}=this.props,{unauthLandingPinStateForAuthHomefeed:b}=this.state,w=null!=b&&b.feedItem&&r.length?[b.feedItem,...r]:r,{viewParameter:I,viewType:P}=n||{},{key:T}=u||{},k=d+(T?`|${T}`:""),C="user_search"===y,j=C?window.innerWidth-16:200,E={columnWidth:"desktop"===e?l.yF:j,renderItem:({data:e,itemIdx:t})=>{if(f){const n=f(e,t);if("FALLBACK_TO_DEFAULT"!==n)return n}switch(e.type){case"pin":return(0,S.jsx)(R.cn,{children:this.renderFeedPin(e,t)});case"user":return(0,S.jsx)(he.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:"user_search"===y,viewParameter:I,viewType:P});case"board":return(0,S.jsx)(m.Z,{boardId:e.id,type:"grid",viewParameter:I,viewType:P});case"topic":return(0,S.jsx)(pe.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:I,viewType:P});case"story":return"number"==typeof I?(0,S.jsx)(ue,{slotIndex:t,storyId:e.id,viewParameter:I,viewType:P||1}):null;case"FEED_BREAK_IN":return o&&"breakIn"===o.type&&o.value.content;default:return null}},gutterWidth:"desktop"===e?4*l.jC:void 0,loadItems:h.loadNext,minCols:C?1:2,...u},A=!v&&h.isLoadingNext&&0===w.length&&!this.state.refreshing,[D,L,z]="fullWidthBreakIn"===(null==o?void 0:o.type)?[w.slice(0,o.value.index),o.value.content,w.slice(o.value.index)]:[w,null,[]],Z="desktop"===e&&"flashlight"===y,N=Z?0:l.qG;return(0,S.jsxs)(a.xu,{"data-test-id":"MobileFeed",children:[(0,S.jsx)(O.Z,{enabled:!!g,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,S.jsxs)(a.xu,{marginStart:N,marginEnd:N,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,S.jsx)(c.Z,{includeBackgroundImages:null==x?void 0:x.includeBackgroundImages,includeVideos:null==x?void 0:x.includeVideos,isAtEndOfFeed:!h.hasNext,itemCount:w.length,pinData:null==x?void 0:x.pins,children:w.length?(0,S.jsx)(a.xu,{"data-test-id":"feed",marginTop:(0,R.kk)({isDesktop:"desktop"===e}),children:(0,S.jsx)(p.Z.Consumer,{children:e=>(0,S.jsx)(i.Fragment,{children:(0,S.jsxs)(R.c$,{children:[(0,S.jsx)(s.Z,{cacheKey:k,id:_?d:void 0,items:D,scrollContainerRef:e,serverRender:_,...E}),L,z.length>0&&(0,S.jsx)(s.Z,{cacheKey:`${k}_afterBreak`,items:z,scrollContainerRef:e,...E})]})})})}):h.isLoadingNext?(0,S.jsx)(R.gG,{}):null!=t?t:null}),A&&(0,S.jsx)(a.xu,{column:12,paddingY:2,children:(0,S.jsx)(M.Z,{partialViewportWidth:Z})}),v&&(0,S.jsx)(F,{homefeedLoading:h.isLoadingNext,gridContainerRef:this.gridContainerRef})]})]})}}function ye({feedItems:e,pagination:t,...n}){const{feedItemsAdjustment:i}=n,a=(0,o.useLocation)(),s=(0,h.ZP)(),{isAuthenticated:l,isBot:c}=(0,d.B)(),{isBizNuxHomefeedLoadShown:u}=(0,r.useSelector)((({session:e})=>e));let p=e;return"breakIn"===(null==i?void 0:i.type)?p=(0,D.N)({items:e,breakIn:i.value}):"offset"===(null==i?void 0:i.type)&&(p=e.slice(i.value)),(0,S.jsx)(ve,{...n,deviceType:s,feedItems:p,isAuthenticated:l,pagination:t,location:a,showBizNuxHomefeedLoader:!!u,showSeoMetadata:c||!l})}function xe({resource:{isAtEnd:e,isFetching:t,fetchMore:n,refresh:i},...o}){const a=(0,r.useSelector)((({feeds:e})=>{var t;return null!==(t=e[o.feedKey])&&void 0!==t?t:[]}));return(0,S.jsx)(ye,{...o,feedItems:a,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>n(),refetch:()=>i()}})}function be({resourceConfig:e,...t}){const n=(0,u.Z)(e);return(0,S.jsx)(xe,{...t,resource:n})}},815613:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(883119),r=n(112690),o=n(898781),a=n(773285),s=n(667679),l=n(867820),c=n(52022),d=n(343341),u=n(50286),p=n(829407),h=n(19121),m=n(62409),g=n(945698),f=n(927383),_=n(350118),v=n(698330),y=n(201155),x=n(640064),b=n(785893);const w=({children:e,pulsar:t,testId:n})=>t.show?(0,b.jsx)(i.xu,{position:"relative","data-test-id":n,children:(0,b.jsxs)(i.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,b.jsx)(i.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,b.jsx)(i.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,b.jsx)(i.o3,{})})]})}):(0,b.jsx)(i.xu,{"data-test-id":n,children:e});function S({auxData:e,disabled:t,disableLog:n,followEventType:S,id:I,inline:P,invertColors:T,isFollowed:k,isIdeaPin:C,isLegoEnabled:j,isSecondaryButton:E,isUserFollowButton:A,isUserMe:F,onFollow:D,onUnfollow:R,pinId:O,shouldUseLegoColors:L,showPulsar:M,size:z,textType:Z="FollowFollowing",unfollowEventType:N,viewParameter:B,viewType:U}){const H=(0,o.ZP)(),$=(0,u.HG)(),{showToast:K}=(0,d.F9)(),W=(0,c.Z)(),G=(0,r.Z)(),V=(0,s.Z)(),{checkExperiment:q}=(0,a.F)(),Y=(0,f.Z)(),X=(0,h.Z)(),J=X&&X.isAuth,{unauthFollowUserId:Q,setUnauthFollowUserId:ee}=(0,x.f)(),te=(0,v.mN)()(I),ne=(0,_.S6)()(null!=O?O:""),{link_domain:ie,native_creator:re,origin_pinner:oe,pinner:ae}=ne||{},se=(0,m.wS)(ie,re,oe,ae),le=null!=te?te:se;(0,p.Z)((()=>{!$&&J&&Q&&I&&Q===I&&D(I)}));const ce=Y({fn:()=>{J?k?(R(I),n||G({event_type:N,view_type:U,view_parameter:B,object_id_str:I,aux_data:e})):(D(I),A&&K((({hideToast:e})=>{if(!le)return null;const t=le.username?`/${le.username}/`:"";return(0,b.jsx)(y.Z,{handleHide:e,text:H._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow'),userId:I,href:t,imageUrl:le.image_medium_url})})),n||G({event_type:S,view_type:U,view_parameter:B,object_id_str:I,aux_data:e})):((0,l.My)(`mweb_unauth_follow_button.tap.${String(U)}`),5===U&&26===S&&(0,l.My)("mweb_unauth_board_page_follow_button.tap"),(0,l.NC)(k?"press_profile_unfollow":"press_profile_follow"),W({action:"click",item:"board-follow-button"}),V({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:C?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:$&&q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!$&&q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),$||ee(null!=I?I:""),(0,l.NC)("clickthrough"))},modalHeader:(0,g.N4)({i18n:H,toFollow:!k})}),de=!k&&!!M,ue=()=>{if(F)return H._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===Z)return k?H._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):H._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');const e="FollowUnfollow"===Z?H._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):H._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return k?e:H._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,b.jsx)(w,{pulsar:de?{show:!0,onClick:ce}:{show:!1},testId:F||k?"board-unfollow-button":"board-follow-button",children:(0,b.jsx)(i.zx,{color:L||"AddRemove"===Z||!j&&E||k?"gray":"red",disabled:F||t,fullWidth:P,onClick:de?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||G({event_type:101,component:13672,element:11951,object_id_str:I,view_type:U,view_parameter:B,aux_data:e}),ce()},selected:T?!k:L&&k||!!k&&E,size:z,text:ue(),accessibilityLabel:ue()})})}},427806:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({text:e}){return(0,r.jsx)(i.xu,{display:"visuallyHidden",children:(0,r.jsx)(i.X6,{accessibilityLevel:1,children:e})})}},697335:(e,t,n)=>{n.d(t,{c:()=>r,t:()=>o});var i=n(883521);function r({children:e}){const{height:t}=(0,i.J)();return e(t)}function o(){const{height:e}=(0,i.J)();return e}},883521:(e,t,n)=>{n.d(t,{J:()=>c,Z:()=>h});var i=n(667294),r=n(425288),o=n(522679),a=n(977558),s=n(785893);const{Provider:l,useHook:c}=(0,r.Z)("Header"),d={childList:!0,attributes:!0,subtree:!0},u={height:a.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function p(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function h({children:e}){const t=(0,i.useRef)(null),[{height:n,isInBiznuxFullscreen:r,repinPinId:c,repinStartAnimation:h,showAccountMenuFlyout:m},g]=(0,i.useReducer)(p,u);(0,i.useEffect)((()=>{const e=document.getElementById(a.WZ),n=()=>{e&&g({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(n),t.current.observe(e,d)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const f=(0,i.useMemo)((()=>({height:n,isInBiznuxFullscreen:r,repinPinId:c,repinStartAnimation:h,showAccountMenuFlyout:m,updateHeaderState:g})),[g,n,r,c,h,m]);return(0,s.jsx)(l,{value:f,children:(0,s.jsx)(o.t,{children:e})})}},977558:(e,t,n)=>{n.d(t,{L1:()=>o,Rz:()=>l,WZ:()=>a,cI:()=>r,fe:()=>s,hu:()=>i});const i=64,r=80,o=22,a="HeaderContent",s=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},49028:(e,t,n)=>{n.d(t,{Hv:()=>d,WQ:()=>c});var i=n(667294),r=n(425288),o=n(766935),a=n(785893);const s=50,{Provider:l,useHook:c}=(0,r.Z)("HeaderShadow");function d({children:e}){const[t,n]=(0,i.useState)(!1),[r,c]=(0,i.useState)(0),[d,u]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=(0,o.Z)((()=>{n(window.scrollY>0),c(window.scrollY)}),s);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,a.jsx)(l,{value:{currentScrollPosition:r,isScrolled:t,setSubheaderShadow:u,subheaderShadow:d},children:e})}},889884:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),r=n(773285),o=n(616550),a=n(883119),s=n(407043),l=n(898781),c=n(785893);const d=24;function u({text:e,isSelected:t,icon:n,animationType:i,position:r,hasStartPulling:o,isExecuted:s}){return(0,c.jsxs)(a.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,c.jsx)(a.xu,{color:t?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:o?4:0,dangerouslySetInlineStyle:t&&s?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:t&&"move"===i?40:0}},children:(0,c.jsx)(a.JO,{size:100*r<d?100*r:d,icon:n,accessibilityLabel:e,color:t?"light":"dark"})}),(0,c.jsx)(a.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:t?1:0,transition:"all .3s ease-out"}},children:(0,c.jsx)(a.xv,{align:"center",size:"100",children:e})})]})}const p=.5,h=250;function m({enabled:e,onSelect:t,refreshing:n}){const r=(0,i.useRef)(null),[o,a]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),c=n?0:o/h,d=c>0,u=()=>{l(!1),a(0)};(0,i.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!n&&(r.current=e.touches[0].clientY)},i=e=>{if(r.current){const t=(e.touches[0].clientY-r.current)*p;t>0&&(a(t),e.preventDefault())}},s=()=>{r.current&&(l(!0),t({pullDistance:o,position:c,resetState:u}),r.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("touchend",s),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("touchend",s)}}}),[e,t,o,n,c]);const m=r.current;return{pullDistance:o,hasStartPulling:d,position:c,startYRefCurrent:m,PULL_MENU_DISTANCE:h,isExecuted:s}}const g=500;function f({enabled:e,onPull:t,refreshing:n}){const i=(0,l.ZP)(),r=(0,o.useHistory)(),{logContextEvent:d}=(0,s.v)(),p=e=>e>=.6,h=e=>e>.4&&e<.6,{position:f,hasStartPulling:_,PULL_MENU_DISTANCE:v,isExecuted:y}=m({enabled:e,onSelect:e=>{const{position:n,resetState:i}=e;h(n)?setTimeout((()=>{d({view_type:1,event_type:158,view_parameter:92}),t(),i()}),g):p(n)?setTimeout((()=>{d({view_type:1,event_type:10144,view_parameter:92}),r.push("edit/"),i()}),g):i()},refreshing:n}),x=i._('Refresh', 'pullMenu.refresh', 'Pull down on grid to refresh items'),b=i._('Edit Feed', 'pullMenu.goTuner', 'Pull down on grid to edit your feed');return(0,c.jsx)(a.xu,{children:e&&(0,c.jsxs)(a.xu,{display:"flex",alignItems:"center",direction:"column",height:f*v,justifyContent:"center",marginBottom:_?4:0,children:[(0,c.jsx)(u,{text:b,isSelected:p(f),icon:"edit",animationType:"move",position:f,hasStartPulling:_,isExecuted:y}),(0,c.jsx)(u,{text:x,isSelected:h(f),icon:"refresh",position:f,hasStartPulling:_,isExecuted:y})]})})}const _=120;function v({enabled:e,onPull:t,refreshing:n}){const i=(0,l.ZP)(),{logContextEvent:r}=(0,s.v)(),{position:o,startYRefCurrent:d,pullDistance:u}=m({enabled:e,onSelect:e=>{const{pullDistance:n,resetState:i}=e;n>=_&&(r({view_type:1,event_type:158,view_parameter:92}),t()),i()},refreshing:n}),p=Math.min(o,1),h=i._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,c.jsx)(a.xu,{children:e&&(0,c.jsx)(a.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:o*_,dangerouslySetInlineStyle:{__style:{opacity:p,transition:null===d?"all .3s ease-out":void 0}},children:(0,c.jsx)(a.JO,{size:40,icon:d&&u<_?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:h})})})}function y({enabled:e,onPull:t,refreshing:n}){const{checkExperiment:o}=(0,r.F)(),{anyEnabled:a}=o("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,c.jsx)(i.Fragment,{children:a?(0,c.jsx)(f,{enabled:e,onPull:t,refreshing:n}):(0,c.jsx)(v,{enabled:e,onPull:t,refreshing:n})})}},807532:(e,t,n)=>{n.d(t,{C:()=>l,f:()=>s});var i=n(667294),r=n(425288),o=n(785893);const{Provider:a,useHook:s}=(0,r.Z)("MostRecentPin");function l({children:e}){const[t,n]=(0,i.useState)(),[r,s]=(0,i.useState)(),l=(0,i.useCallback)((e=>{const t=r?r.slice(0,10):[],n=[e].concat(t.filter((t=>t!==e)));s(n)}),[r]),c=(0,i.useMemo)((()=>({id:t,plpImageSignatures:r,setMostRecentPinId:n,setMostRecentPinImage:l})),[t,r,l]);return(0,o.jsx)(a,{value:c,children:e})}},379764:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(633988);const o=new i.H3([r.Z])},872482:(e,t,n)=>{n.d(t,{D:()=>r,a:()=>o});var i=n(425288);const{Provider:r,useMaybeHook:o}=(0,i.Z)("unauthPageWrapperContext")},904779:(e,t,n)=>{n.d(t,{K:()=>a,T:()=>s});var i=n(667294),r=n(785893);const o=(0,i.createContext)({getPinFeedbackStatus:()=>{},setPinFeedbackStatus:()=>{}}),a=()=>(0,i.useContext)(o);function s({children:e}){const[t,n]=(0,i.useState)(Object.freeze({})),a=(0,i.useMemo)((()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:i})=>n({...t,[e]:i})})),[t]);return(0,r.jsx)(o.Provider,{value:a,children:e})}},99137:(e,t,n)=>{n.d(t,{x:()=>s,y:()=>l});var i=n(667294),r=n(425288),o=n(785893);const{Provider:a,useMaybeHook:s}=(0,r.Z)("ProfileViewContext");function l({children:e}){const[t,n]=(0,i.useState)(),[r,s]=(0,i.useState)(new Map),[l,c]=(0,i.useState)(),[d,u]=(0,i.useState)(),p=(0,i.useCallback)(((e,t)=>{s(new Map(r.set(e,t)))}),[r]),h=(0,i.useMemo)((()=>({boardPinDensity:t,boardSortOrder:r,profileBoardView:l,profilePinDensity:d,setBoardPinDensity:n,updateBoardSortOrder:p,setProfileBoardView:c,setProfilePinDensity:u})),[t,r,l,d,p]);return(0,o.jsx)(a,{value:h,children:e})}},350118:(e,t,n)=>{n.d(t,{AF:()=>s,H0:()=>l,S6:()=>c,_S:()=>d});var i=n(702664),r=n(425288),o=n(785893);const{Provider:a,useHook:s,useMaybeHook:l}=(0,r.Z)("Pins");function c(){const e=s();return t=>e[t]}function d({children:e}){const t=(0,i.useSelector)((({pins:e})=>e),i.shallowEqual);return(0,o.jsx)(a,{value:t,children:e})}},698330:(e,t,n)=>{n.d(t,{Tt:()=>u,cm:()=>d,kW:()=>l,kY:()=>p,mN:()=>c});var i=n(702664),r=n(425288),o=n(19121),a=n(785893);const{Provider:s,useHook:l}=(0,r.Z)("Users");function c(){const e=l();return t=>e[t]}function d(){const e=l();return t=>{const n=Object.keys(e).find((n=>e[n].username===t));return e[null!=n?n:""]}}function u(){const{id:e}=(0,o.Z)();return l()[null!=e?e:""]}function p({children:e}){const t=(0,i.useSelector)((({users:e})=>e),i.shallowEqual);return(0,a.jsx)(s,{value:t,children:e})}},640064:(e,t,n)=>{n.d(t,{f:()=>s,w:()=>l});var i=n(667294),r=n(425288),o=n(785893);const{Provider:a,useHook:s}=(0,r.Z)("Session");function l({children:e}){const[t,n]=(0,i.useState)(void 0),r=(0,i.useCallback)((()=>n(void 0)),[]),s=(0,i.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:r})),[t,r]);return(0,o.jsx)(a,{value:s,children:e})}},156637:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(618446),o=n.n(r),a=n(385740),s=n(999023),l=n(785893);class c extends i.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:i}=this.props;e({viewData:t,viewParameter:n,viewType:i})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:n,viewParameter:i,viewType:r}=this.props;i===e.viewParameter&&r===e.viewType&&o()(n,e.viewData)||t({viewData:n,viewParameter:i,viewType:r})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:n,objectIdStr:i,viewData:r,viewParameter:o,viewType:a,clientTrackingParams:c}=this.props;return(0,l.jsx)(s.Z,{auxData:e,component:n,objectIdStr:i,clientTrackingParams:c,viewData:r,viewParameter:o,viewType:a,children:t})}}function d(e){const{setViewContextData:t,clearViewContextData:n}=(0,a.sV)();return(0,l.jsx)(c,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},80811:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(667294),r=n(883119),o=n(112690),a=n(298361),s=n(898781),l=n(892819),c=n(349700),d=n(780280),u=n(867820),p=n(758127),h=n(948618),m=n(50286),g=n(19121),f=n(526760),_=n(722556),v=n(815613),y=n(785893);const x=16,b=24,w=220;function S(e,t){const{full_name:n,username:i}=e,o=(0,y.jsx)(r.rU,{href:`/${i}`,display:"inlineBlock",underline:"hover",children:n},"linkToUser");return(0,c.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:o})}const I=({children:e})=>{const t=(0,g.Z)(),n=(0,m.HG)(),i=t&&t.isAuth;return n&&i?(0,y.jsx)(r.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,y.jsx)(r.xv,{lineClamp:1,weight:"bold",children:e})};function P({archivedDate:e,boardUrl:t,canEdit:n,collaborators:g,collaboratorsCount:P=0,containerBackgroundColor:T,coverPhoto:k,followedByMe:C,fullSizeDrawer:j,sensitivityScreen:E,handleInviteResponse:A,hideMeta:F,id:D,invite:R,imagesLego:O=[],isBoardInviteAccepted:L,isActive:M,isAuthenticated:z,isCollaborative:Z,isCollaborator:N,isOwner:B,isProtected:U,isSecret:H,isTemporarilyDisabled:$,lastModifiedDate:K,layout:W,locale:G,name:V,numCols:q,onEditClick:Y,onFollow:X,onUnfollow:J,owner:Q,pinCount:ee=0,sectionCount:te,showFollowButton:ne,viewParameter:ie,viewType:re,viewerId:oe}){const ae=(0,s.ZP)(),se=(0,a.Z)(),le=(0,l.Z)(),ce=(0,o.Z)(),de=(0,m.HG)(),{isRTL:ue}=(0,d.B)(),pe=de&&z,he="square"===W?f.M0:f.z9,me=O.map((e=>({url:e.url,name:V}))),ge=!!Q&&!n&&ne,fe=!B&&!N&&!(null==E||!E.show_warning),_e={board_id:D,reason:null==E?void 0:E.reason};(0,i.useEffect)((()=>{fe&&ce({event_type:13,component:13861,view_type:215,aux_data:_e})}),[]);const ve=Q?Q.id:void 0,ye=[...g.filter((({id:e})=>e===ve)),...g.filter((({id:e})=>e===oe&&e!==ve)),...g.filter((({id:e})=>![ve,oe].includes(e)))].map((e=>{var t,n;return{name:null!==(t=pe?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(n=e.image_medium_url)&&void 0!==n?n:""}}));let xe=P>=ye.length?P-ye.length:0;xe=xe>99?100:xe;const be=[...ye,...Array(xe).fill({name:"",src:""})],we=pe?b:x,Se=we/3*(2*(ye.length>2?3:ye.length)+1);return(0,y.jsxs)(r.xu,{"data-test-id":`boardCard-${V}`,position:"relative",height:ge?`max(calc(25vh + 10px), ${w}px)`:"100%",width:pe?he:"100%",children:[(0,y.jsx)(_.Z,{canEdit:n,containerBackgroundColor:T,coverPhoto:k,images:me,isProtected:U,isSecret:H,fullSize:j,showSensitivityScreen:fe,isActive:M,onEditClick:Y,layout:W,isTemporarilyDisabled:$}),!F&&(0,y.jsx)(i.Fragment,{children:R&&!$?(0,y.jsxs)(i.Fragment,{children:[(0,y.jsxs)(r.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,y.jsxs)(r.xu,{width:"100%",children:[(0,y.jsx)(r.rU,{href:null!=t?t:"",children:(0,y.jsx)(r.xu,{marginTop:0,marginBottom:1,children:(0,y.jsx)(I,{children:V})})}),L?(0,y.jsx)(r.xv,{size:"200",lineClamp:1,children:ae._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,y.jsx)(r.xv,{size:"200",children:S(R.invited_by_user,ae)})]}),(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:Se,minWidth:Se,height:we,children:(0,y.jsx)(r.HE,{accessibilityLabel:p.U+(ae._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:be})})]}),L?(0,y.jsx)(r.xu,{direction:"row",display:"flex",paddingX:2,children:(0,y.jsx)(r.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,y.jsx)(r.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:ae._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,y.jsxs)(r.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,y.jsx)(r.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,y.jsx)(r.zx,{fullWidth:!0,onClick:()=>{null==A||A(!1)},size:"lg",text:ae._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,y.jsx)(r.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,y.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:()=>{null==A||A(!0)},size:"lg",text:ae._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,y.jsxs)(r.xu,{height:pe?void 0:f.s0,marginTop:pe?0:1,paddingX:2,paddingY:pe?2:0,children:[(0,y.jsxs)(r.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,y.jsx)(I,{children:V}),Z&&!$&&(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:Se,minWidth:Se,height:we,children:(0,y.jsx)(r.HE,{accessibilityLabel:p.U+(ae._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:be})})]}),(0,y.jsxs)(r.xu,{alignItems:de?"center":"start",direction:de?"row":"column",display:"flex",marginTop:1,children:[(0,y.jsxs)(r.xv,{size:"100",lineClamp:1,children:[(0,y.jsx)(p.Z,{}),(0,c.nk)(ae.ngettext('{{ count }} Pin', '{{ count }} Pins', ee, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:le(G,ee,{})})]}),!!te&&(0,y.jsx)(r.xv,{size:"100",children:(0,y.jsxs)(i.Fragment,{children:[de?(0,y.jsx)(h.Z,{ariaHidden:!0}):void 0,(0,y.jsx)(p.Z,{}),(0,c.nk)(ae.ngettext('{{ count }} section', '{{ count }} sections', te, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:te})]})}),!e&&(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{display:pe?"inline-flex":"inline",paddingLeft:de?7:0,paddingRight:ue?7:0}},children:(0,y.jsxs)(r.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,y.jsx)(p.Z,{}),se(K,!0)]})}),e&&!de&&(0,y.jsxs)(r.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,y.jsx)(p.Z,{}),ae._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]})]}),ge&&(0,y.jsx)(r.xu,{marginTop:2===q?3:void 0,column:2===q?12:void 0,flex:"none",children:(0,y.jsx)(v.Z,{disabled:null==Q?void 0:Q.blocked_by_me,followEventType:26,id:D,isFollowed:C,onFollow:e=>{z||(0,u.NC)("press_follow_board"),X&&X(e)},onUnfollow:e=>{z||(0,u.NC)("press_unfollow_board"),J&&J(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:ie,viewType:re})})]})})]})}},223019:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(702664),r=n(883119),o=n(773285),a=n(780280),s=n(867820),l=n(52022),c=n(19121),d=n(80811),u=n(340494),p=n(853492),h=n(712055),m=n(130460),g=n(785893);const f=["thumbnail","imageOnly"],_="write";function v({boardId:e,containerBackgroundColor:t,forwardedRef:n,fullSize:v,showFollowButton:y=!0,showPinCount:x=!0,type:b,viewParameter:w,viewType:S}){var I,P,T;const k=(0,c.Z)(),C=k&&k.isAuth,j=(0,i.useDispatch)(),{locale:E}=(0,a.B)(),A=(0,l.Z)(),F=(0,m.gC)()(e),D=(0,u.Z)(),{checkExperiment:R}=(0,o.F)(),O=k.isAuth?k.id:"";if(!F)return null;const{owner:L}=F,M=[L,...F.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:n})=>({id:e,image_medium_url:t,username:n}))),z=(null==L?void 0:L.id)===O,Z=M.filter((({id:e})=>e===O)).length>0;if("secret"===F.privacy&&!Z)return null;const N="grid"===b||"thumbnail"===b?2:4,B=D(F,N),U={isCustom:F.has_custom_cover,url:B,position:(0,p.Bw)(F.cover_pin)},H=(0,p.Jx)(F,B).map((({url:e})=>({name:(0,p.po)(e),url:e}))),$=!!F.is_temporarily_disabled&&(R("mweb_hide_u16_group_board").anyEnabled||R("unauth_hide_u16_group_board").anyEnabled),K=(0,g.jsx)(d.Z,{archivedDate:null!==(I=F.archived_by_me_at)&&void 0!==I?I:void 0,canEdit:!!F.access&&F.access.includes(_),collaborators:M,collaboratorsCount:F.collaborator_count,containerBackgroundColor:t,coverPhoto:B?U:null,followedByMe:F.followed_by_me,fullSizeDrawer:v,hideMeta:f.includes(b),id:F.id,imagesLego:H,isAuthenticated:C,isCollaborative:F.is_collaborative,isCollaborator:Z,isOwner:z,isProtected:"protected"===F.privacy,isSecret:"secret"===F.privacy,isTemporarilyDisabled:$,lastModifiedDate:"full"===b?F.board_order_modified_at:"",locale:E,name:null!==(P=F.name)&&void 0!==P?P:"",numCols:N,onFollow:e=>j((0,h.Z)(e)),onUnfollow:e=>j((0,h.f)(e)),owner:L,pinCount:x&&F.pin_count?F.pin_count:void 0,sectionCount:null!==(T=F.section_count)&&void 0!==T?T:0,sensitivityScreen:F.sensitivity_screen,showFollowButton:y,viewParameter:w,viewType:S,viewerId:O});return!f.includes(b)&&F.url?(0,g.jsx)(r.iP,{role:"link",href:F.url,rounding:2,tapStyle:"compress",onTap:()=>{C||((0,s.NC)("click_go_to_board"),A({action:"click",item:"board-card"}))},children:(0,g.jsx)(r.xu,{ref:n,paddingY:3,children:K})}):K}},686844:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({customCover:e,height:t,imgUrl:n,imgPos:o,width:a}){const s=t/a;let l="center center";if(e&&o){let e=1;e=o.height/o.width>s?a/o.width:t/o.height;l=`-${o.x*e}px -${o.y*e}px`}const c={backgroundImage:`url(${n})`,backgroundPosition:l,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:a}},children:(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,r.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},722556:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(883119),r=n(898781),o=n(780280),a=n(50286),s=n(526760),l=n(686844),c=n(108211),d=n(785893);const u=188,p={portrait4x3:"133%",square:"100%"};function h(e){var t,n;const h=(0,r.ZP)(),{containerBackgroundColor:m="white",coverPhoto:g,fullSize:f,images:_,isProtected:v,isSecret:y,isTemporarilyDisabled:x,showSensitivityScreen:b,isActive:w,canEdit:S,onEditClick:I,layout:P}=e,T=(0,a.HG)(),{isRTL:k,isAuthenticated:C}=(0,o.B)(),j=T&&C,E=_[0],A=!g&&(null===(t=_[0])||void 0===t?void 0:t.name)||h._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),F=Array(2).fill(),D=new i.Ry(1),R="square"===P?s.M0:s.z9,O="square"===P?s.FP:s.FC,L=null!=E&&E.url?(0,d.jsx)(i.Ee,{alt:A,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:E.url}):(0,d.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"}),M=x||b?{filter:"blur(20px)"}:{};return(0,d.jsx)(i.zd,{height:f?"100%":void 0,rounding:4,width:"100%",wash:w,children:(0,d.jsxs)(i.xu,{"aria-hidden":!0,display:"flex",height:j?O:"100%",direction:"row",children:[(0,d.jsx)(i.sg,{span:8,children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:M},position:"relative",height:f?"100%":void 0,children:(0,d.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:p.square}},overflow:"hidden",width:"100%",children:(0,d.jsxs)(i.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[(v||y)&&(0,d.jsx)(i.xu,{left:!k,right:k,margin:2,position:"absolute",top:!0,zIndex:D,children:(0,d.jsx)(c.Z,{backgroundColor:"default",iconColor:"default",privacy:y?"secret":"protected",size:j?32:24})}),j&&null!=g&&g.url?(0,d.jsx)(l.Z,{customCover:g.isCustom,imgPos:g.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(n=g.url)&&void 0!==n?n:"",width:Math.floor(R/3*2),height:O}):L]})})})}),(0,d.jsx)(i.sg,{span:4,children:(0,d.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:M},height:"100%",children:[S&&w&&(0,d.jsx)(i.xu,{left:k,right:!k,margin:2,position:"absolute",bottom:!0,zIndex:D,children:(0,d.jsx)(i.hU,{accessibilityLabel:h._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==I?void 0:I(e),size:"sm"})}),F.map(((e,t)=>{const n=_[j?t:t+1];return(0,d.jsx)(i.xu,{position:"relative",height:f?"50%":void 0,children:(0,d.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:p.square}},overflow:"hidden",width:"100%",children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:null!=n&&n.url?(0,d.jsx)(i.Ee,{alt:n&&n.name||"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:n.url}):(0,d.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)}))]})}),(x||b)&&(0,d.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:x?(0,d.jsx)(i.xu,{maxWidth:u,children:(0,d.jsx)(i.xv,{align:"center",color:"light",weight:"bold",size:"200",children:h._('This board is currently unavailable', 'drawerImageGroup.unavailableBoard.heading', 'Warning text for a board that is unavailable')})}):(0,d.jsx)(i.X6,{align:"center",color:"light",size:"400",children:h._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},526760:(e,t,n)=>{n.d(t,{FC:()=>s,FP:()=>o,M0:()=>r,Xq:()=>l,s0:()=>i,z9:()=>a});const i=44,r=236,o=157,a=320,s=213,l=7},108211:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),r=n(898781),o=n(785893);function a({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:n,privacy:a,size:s=20}){const l=(0,r.ZP)();return(0,o.jsx)(i.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:s,height:s,rounding:"circle",justifyContent:"center",children:(0,o.jsx)(i.JO,{accessibilityLabel:l._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===a?"lock":"security",size:null!=n?n:s/2})})}},340494:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(50286),r=n(19121);function o(){const e=(0,i.HG)(),t=(0,r.Z)(),n=t&&t.isAuth;if(e&&n){return e=>{var t,n;const i=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,r=null!==(t=null===(n=e.cover_pin)||void 0===n?void 0:n.image_url)&&void 0!==t?t:i,o=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return r||o}}return(e,t)=>{var n,i;const r=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!r)return"";const o=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,a=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,s=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,l=null!==(n=null!==(i=null!=o?o:a)&&void 0!==i?i:s)&&void 0!==n?n:"",c=e.image_cover_url||"";return r||(t&&t>2&&l?l:"")||c}}},853492:(e,t,n)=>{n.d(t,{Bw:()=>s,Jx:()=>a,po:()=>i});const i=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),r=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),o=e=>{if(!e)return()=>!0;const t=i(e);return e=>{var n;return"string"==typeof e?i(e)!==t:i(null!==(n=e.url)&&void 0!==n?n:"")!==t}},a=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(o(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(o(t)).map(r):[],s=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},814197:(e,t,n)=>{n.d(t,{Cq:()=>u,Dk:()=>h,Fk:()=>o,fS:()=>d,km:()=>p,lI:()=>s,lJ:()=>a,mS:()=>c,qW:()=>l,t5:()=>m});var i=n(883119),r=n(977558);const o=new i.Ry(1),a=3,s=new i.Ry(a),l=2,c=new i.Ry(l),d=3,u=4,p=new i.Ry(5),h=new i.Ry(100),m=new i.Ry(r.fe+1)},398061:(e,t,n)=>{n.d(t,{Z:()=>s,e:()=>a});var i=n(883119),r=n(780280),o=n(785893);const a=new i.Ry(1);function s({children:e,isImagePinForUnauthOnTablet:t}){const{isAuthenticated:n}=(0,r.B)();return(0,o.jsxs)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:n?void 0:a,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,o.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},440011:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(667294),r=n(883119),o=n(898781),a=n(773285),s=n(523657),l=n(780280),c=n(700380),d=n(50286),u=n(411465),p=n(398061),h=n(667679),m=n(867820),g=n(52022),f=n(785893);function _({setShowClickthroughOverlay:e,isEligibleForPdp:t,isEligibleForDesktopSocialInviteOverlay:n,inviterFirstName:s}){const l=(0,o.ZP)(),c=(0,g.Z)(),u=(0,h.Z)(),p=(0,i.useRef)(),_=(0,d.ZP)(),v="desktop"===_,y=s&&n,{checkExperiment:x}=(0,a.F)(),b=y&&(l._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",s),w=l._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),S=l._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),I=l._('Login to save this idea and explore more', 'dweb.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account');let P=S;return v&&(P=b||(x("dweb_signup_to_login_modal").group.startsWith("enabled_pin_wash")?I:w)),(0,f.jsx)(r.iP,{onMouseEnter:()=>{y&&(0,m.My)("dweb.main_pin.social.wash.view"),(0,m.My)("dweb.pin.wash.view")},onMouseLeave:()=>{y&&(0,m.My)("dweb.main_pin.social.wash.dismiss"),(0,m.My)("dweb.pin.wash.dismiss")},onTap:({event:e})=>{v&&(e.preventDefault(),c({action:"click",item:"pin-image"}),n&&s&&(0,m.My)("dweb.main_pin.social.wash.click"),(0,m.My)(`dweb.pin.wash.click.${x("dweb_signup_to_login_modal").group}`),u({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:x("dweb_signup_to_login_modal").group.startsWith("enabled_pin_wash")?"login":"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),t&&(0,m.My)("unauth.pdp.pin.img.click",{device:_}))},children:(0,f.jsxs)(r.xu,{zIndex:new r.Ry(2),children:[(0,f.jsx)(r.xu,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:n?"center":void 0,direction:"column",position:"absolute",ref:p,"data-test-id":"main-pin-hover-overlay",children:(0,f.jsx)(r.xu,{paddingY:10,display:"flex",alignItems:"center",maxWidth:240,direction:"column",children:(0,f.jsx)(r.xu,{marginTop:8,children:(0,f.jsx)(r.X6,{size:y?"500":"400",align:"center",color:"light",children:P})})})}),!v&&(0,f.jsx)(r.xu,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:(0,f.jsx)(r.hU,{icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),(0,m.My)("main.pin.wash.cancel"))},accessibilityLabel:l._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),size:"md"})})]})})}var v=n(876437),y=n(349700);function x({setShouldShowDesktopLearningUpsell:e,setHasDismissedDesktopLearningUpsell:t}){const n=(0,o.ZP)(),i=(0,h.Z)(),{checkExperiment:s}=(0,a.F)(),l=s("dweb_unauth_main_pin_learning_upsell").group;return(0,f.jsx)(r.kC,{justifyContent:"center",children:(0,f.jsxs)(r.xu,{alignItems:"center",direction:"row",display:"flex",height:44,width:"94%",marginTop:4,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},paddingX:2,position:"absolute",rounding:"pill",top:!0,zIndex:new r.Ry(1),children:[(0,f.jsx)(r.iP,{fullHeight:!0,onTap:()=>{(0,m.My)(`unauth.dweb.main_pin.learning_upsell.banner.${l}.click`),i({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_dweb_main_pin_learning_upsell",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,f.jsxs)(r.kC,{alignItems:"center",height:"100%",children:[(0,f.jsx)(r.xu,{marginStart:2,children:(0,f.jsx)(r.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:20})}),(0,f.jsx)(r.xu,{marginStart:2,children:(0,f.jsx)(r.xv,{children:(0,y.nk)(n._('If you like this idea, {{ signup }} to see all the details!', 'unauth.dweb.main_pin.learning_upsell.copy', 'copy on the banner upsell that appears on top of the main pin image on dweb, signup: CTA for the copy'),{signup:(0,f.jsx)(r.xv,{inline:!0,weight:"bold",children:n._('sign up', 'unauth.dweb.main_pin.learning_upsell.copy.cta', 'CTA for the copy on the banner upsell that appears on top of the main pin image on dweb')})})})})]})}),"enabled_hover_dismissible"===l&&(0,f.jsx)(r.xu,{onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:e=>{e.preventDefault(),e.stopPropagation()},zIndex:new r.Ry(2),children:(0,f.jsx)(r.hU,{icon:"cancel",accessibilityLabel:"cancel",size:"sm",onClick:()=>{(0,m.My)("unauth.dweb.main_pin.learning_upsell.close_button.click"),e(!1),t(!0)}})})]})})}var b=n(691720),w=n(872482),S=n(67347),I=n(127525);const P=e=>{var t;const n=(0,o.ZP)(),{alt:h,clickthroughOverlayOptions:m,color:g,isFlashlightPage:y,naturalHeight:P,naturalWidth:T,placeholder:k,pwtElementTimingId:C,pwtSurfaceContext:j,setShowClickthroughOverlay:E,setShouldShowDesktopLearningUpsell:A,setHasDismissedDesktopLearningUpsell:F,shouldShowDesktopLearningUpsell:D,shouldShowDesktopSocialUpsell:R,setShouldShowDesktopSocialUpsell:O,showSpinner:L,src:M,stickyFooter:z,isEligibleForPdp:Z,isEligibleForDesktopSocialInviteOverlay:N}=e,B=(0,u.Z)(),U=(0,I.I)(),{checkExperiment:H}=(0,a.F)(),$=!B,{isAuthenticated:K}=(0,l.B)(),W=(0,d.ZP)(),G="desktop"===W,V=K&&!G&&H("auth_mweb_inline_action_bar").anyEnabled,q=(0,i.useRef)(),[Y,X]=(0,i.useState)(!$||!!M&&!!k&&k===M),J=(0,i.useRef)(""),Q=()=>{j&&j.markConstraintComplete("PinPageMainImageRendered")};(0,i.useEffect)((()=>{if(U){var e,t;const i=null!==(e=null===(t=document.getElementById("pin-image-preload"))||void 0===t?void 0:t.getAttribute("href"))&&void 0!==e?e:"";let r="";try{r=document.URL.split("/pin/")[1].slice(0,-1)}catch(n){r="unknown"}(0,S.nP)("www.closeup.preloadImageCheck",{sampleRate:1,tags:{isAuthenticated:K,deviceType:W,isEqual:i===M,shouldRenderPlaceholder:$}}),i!==M&&(0,S.nP)("www.closeup.preloadImageCheckWithId",{sampleRate:.5,tags:{isAuthenticated:K,deviceType:W,pinId:r}});const o=document.querySelector('[data-test-id="pin-closeup-image"]');((null==o?void 0:o.querySelectorAll("img").length)||0)>1&&((0,S.nP)("www.closeup.mainImageCount",{sampleRate:1,tags:{isAuthenticated:K,deviceType:W}}),(0,S.nP)("www.closeup.mainImageCountWithId",{sampleRate:.1,tags:{isAuthenticated:K,deviceType:W,pinId:r}}))}}),[]),(0,i.useEffect)((()=>{const e=new Image;e.onload=()=>X(!0),e.src=M}),[]);const ee=(0,i.useRef)(null===(t=(0,w.a)())||void 0===t?void 0:t.setHasScrolledPastMainContent);(0,i.useEffect)((()=>{const e=(0,c.Z)((()=>{if(q.current){var t;const n=window.scrollY>q.current.offsetTop+q.current.offsetHeight;null===(t=ee.current)||void 0===t||t.call(ee,n),n&&window.removeEventListener("scroll",e)}}),10);window.addEventListener("scroll",e)}),[]);const[te,ne]=(0,i.useState)();(0,i.useEffect)((()=>{q.current&&ne(q.current.scrollHeight)}),[]);const ie=!y&&"tablet"===W,re=$?(0,f.jsx)(s.Z,{alt:h,color:g,elementTiming:C,naturalHeight:P,naturalWidth:T,src:k,onLoad:Q}):null;return(0,f.jsxs)(r.xu,{"data-test-id":"pin-closeup-image",maxHeight:"100%",minHeight:te,maxWidth:"tablet"===W?b.g6:void 0,overflow:z?void 0:"hidden",position:"relative",width:y||"phone"===W?"100%":G?508:b.Hg,rounding:y||"phone"===W?0:6,ref:q,marginTop:"tablet"===W&&V?12:0,children:[!K&&D&&A&&F&&(0,f.jsx)(x,{setShouldShowDesktopLearningUpsell:A,setHasDismissedDesktopLearningUpsell:F}),!K&&R&&(0,f.jsx)(v.Z,{inviterFirstNameRef:J,isDesktop:G,socialContextBannerStyle:{isDismissible:!1,shouldShowSignupUpsellText:!N},setShouldShowSocialUpsellBanner:O}),!K&&m&&(0,f.jsx)(p.Z,{isImagePinForUnauthOnTablet:!1,children:(0,f.jsx)(_,{setShowClickthroughOverlay:E,isEligibleForDesktopSocialInviteOverlay:N,inviterFirstName:J.current,isEligibleForPdp:Z})}),re&&(ie?(0,f.jsx)(r.xu,{rounding:6,overflow:"hidden",children:re}):re),(0,f.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:Y?1:0,transition:Y&&!G?"opacity .5s ease-in-out":void 0,backgroundColor:g}},left:!0,position:$?"absolute":"relative",right:!0,rounding:ie?6:5,overflow:ie?"hidden":void 0,top:!0,children:$?(0,f.jsx)(r.Ee,{alt:h,naturalHeight:P,naturalWidth:T,src:M}):(0,f.jsx)(s.Z,{alt:h,color:g,elementTiming:C,naturalHeight:P,naturalWidth:T,src:M,onLoad:Q})}),L&&(0,f.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:Y?0:1,transition:Y?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!Y&&(0,f.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(r.$j,{accessibilityLabel:n._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),z]})}},633988:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(398061);const o=new i.H3([r.e])},763839:(e,t,n)=>{n.d(t,{w:()=>l,z:()=>s});var i=n(667294),r=n(425288),o=n(785893);const{Provider:a,useMaybeHook:s}=(0,r.Z)("CloseupPreviewContext");function l({children:e}){const[t,n]=(0,i.useState)(Object.freeze({})),r=(0,i.useMemo)((()=>({setData:(e,t)=>n((n=>({...n,[e]:t}))),getData:e=>t[e]})),[t]);return(0,o.jsx)(a,{value:r,children:e})}},876437:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(167912),r=n(883119),o=n(947599),a=n(619277),s=n(116303),l=n(898781),c=n(667679),d=n(867820),u=n(63552),p=n(172071),h=n(785893);function m({isStoryPin:e,inviteText:t,inviterFirstName:n,isThinnerStyle:i,username:o}){const a=t.split(n);return(0,h.jsx)(r.xu,{children:(0,h.jsx)(u.Z,{onTouch:()=>{p.Z.increment("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,h.jsxs)(r.kC,{direction:"row",gap:{row:1,column:0},children:[(0,h.jsx)(r.xv,{inline:!0,size:"300",children:a[0]}),e?(0,h.jsx)(r.xv,{inline:!0,size:"300",weight:"bold",children:(0,h.jsx)(r.rU,{href:"/"+o,target:"blank",onClick:()=>(0,d.My)("mweb_unauth_inviter_profile_click"),children:n})}):(0,h.jsx)(r.xv,{inline:!0,size:i?"200":"300",weight:i?"normal":"bold",children:(0,h.jsx)(r.rU,{href:"/"+o,target:"blank",onClick:()=>(0,d.My)("mweb_unauth_inviter_profile_click_not_story"),children:n})}),(0,h.jsx)(r.xv,{inline:!0,size:i?"200":"300",children:a[1]})]})})})}function g({inviter:e,socialContextBannerStyle:t,setShouldShowSocialUpsellBanner:n}){const{shouldShowSignupUpsellText:i,isDismissible:o}=t,a=(0,l.ZP)(),{username:p}=e,g=e.imageMediumUrl,f=e.firstName,_=(0,c.Z)();return(0,h.jsx)(r.kC,{justifyContent:o?"center":"start",alignItems:"center",children:(0,h.jsx)(r.xu,{children:(0,h.jsx)(r.iP,{fullHeight:!0,onTap:()=>{(0,d.My)("dweb.unauth.social_banner.click"),_({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_unauth_social_context_banner",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,h.jsxs)(r.xu,{alignItems:"center",direction:"row",display:"flex",height:44,width:o?1012:void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},marginTop:2,marginBottom:6,marginStart:o?0:2,paddingX:o?4:2,paddingY:4,rounding:"pill",position:o?"static":"absolute",top:!0,zIndex:new r.Ry(1),children:[(0,h.jsx)(r.xu,{marginTop:8,marginBottom:8,marginEnd:1,width:32,children:(0,h.jsx)(u.Z,{onTouch:e=>{e.stopPropagation(),p&&window.open("/"+p),(0,d.My)("dweb.unauth.social_banner.avatar_click")},pressState:"none",children:null!=g&&g.includes("default")?(0,h.jsx)(r.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:24}):(0,h.jsx)(s.Z,{size:"fit",src:null!=g?g:void 0,name:f})})}),(0,h.jsxs)(r.kC,{flex:"grow",direction:"row",children:[(0,h.jsx)(m,{isStoryPin:!1,inviteText:i?(a._('{{ name }} shared this idea.', 'pin.closeup.long_banner.desktop.shareNotification', 'Long banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",f):(a._('{{ name }} shared this idea ', 'pin.closeup.banner.desktop.shareNotification', 'Banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",f),inviterFirstName:f,username:p,isThinnerStyle:i}),i&&(0,h.jsx)(r.xu,{marginStart:1,marginEnd:2,children:(0,h.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:a._('Sign up to join them', 'pin.header.social_context_dweb', 'label')})})]}),o&&(0,h.jsx)(r.hU,{icon:"cancel",accessibilityLabel:"cancel",size:"sm",onClick:({event:e})=>{e.stopPropagation(),(0,d.My)("unauth.dweb.social_banner.dismiss"),null==n||n(!1)}})]})})})})}var f=n(773285),_=n(50286),v=n(598615),y=n(938917);const x=360;function b({inviter:{imageMediumUrl:e,username:t,firstName:n},isStoryPin:i}){const o=(0,l.ZP)(),{checkExperiment:a}=(0,f.F)(),g=(0,_.ml)(),b=()=>p.Z.increment("mweb_social_unauth.closeup.avatar_click"),w=(0,y.Z)(),S=(0,c.Z)(),I=(o._('{{ name }} shared this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them')).replace("{{ name }}",t),P="undefined"!=typeof window&&window.innerWidth<x,T=t.length>25,k=g&&!i&&a("mweb_social_context_header_upsell").anyEnabled,C=a("mweb_social_context_header_upsell").group;return w&&i?(0,h.jsxs)(r.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"center",minHeight:T?100:80,children:[(0,h.jsx)(r.xu,{marginTop:4,marginBottom:4,width:40,children:(0,h.jsx)(u.Z,{onTouch:b,pressState:"none",children:(0,h.jsx)(s.Z,{size:"fit",src:null!=e?e:void 0,name:n})})}),(0,h.jsx)(r.kC.Item,{flex:"grow",children:(0,h.jsxs)(r.xu,{display:"flex",direction:T?"column":"row",alignItems:"center",justifyContent:T?"start":"between",padding:T?3:0,children:[(0,h.jsxs)(r.kC,{direction:"column",alignItems:"start",gap:{row:0,column:1},wrap:!P,children:[(0,h.jsx)(r.kC,{children:(0,h.jsxs)(r.xv,{align:T?"center":"start",children:[(0,h.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(r.rU,{display:"inlineBlock",href:`/${null!=t?t:""}/`,target:"blank",onClick:()=>(0,d.My)("mweb_unauth_inviter_profile_click"),underline:"hover",children:t})}),I.split(t)[1]]})}),!T&&(0,h.jsx)(r.xv,{size:"100",children:o._('Open Pinterest to see more', 'unauth.mweb.shared.banner.edu', 'education for CTA to open app on shared banner')})]}),(0,h.jsx)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",minWidth:T?0:100,marginTop:T?3:0,children:(0,h.jsx)(v.ZP,{componentType:14161,within:"social-context-header",children:({handleOpenApp:e})=>(0,h.jsx)(r.zx,{onClick:()=>e(),size:"md",text:o._('Open app', 'unauth.mweb.shared.banner.cta', 'CTA to open app on shared banner')})})})]})})]}):(0,h.jsx)(u.Z,{onTouch:()=>{k&&S({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_mobile_unauth_social_context_header"})},pressState:"none",children:(0,h.jsxs)(r.kC,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,h.jsx)(r.xu,{marginTop:4,marginStart:k?2:0,marginBottom:4,width:48,children:(0,h.jsx)(u.Z,{onTouch:b,pressState:"none",children:(0,h.jsx)(s.Z,{src:null!=e?e:void 0,name:n})})}),(0,h.jsxs)(r.kC,{alignItems:k?"start":"center",justifyContent:"start",direction:"column",children:[(0,h.jsx)(r.xu,{marginStart:k?-1:0,children:(0,h.jsx)(m,{isStoryPin:i,inviteText:k&&C.includes("join")?(o._('{{ name }} shared this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n):k&&C.includes("converse")?(o._('{{ name }} sent an idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n):k&&C.includes("explore")?(o._('{{ name }} sent this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n):(o._('{{ name }} shared this idea with you', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n),inviterFirstName:n,username:t,isThinnerStyle:k})}),k&&(0,h.jsx)(r.xu,{marginTop:1,children:(0,h.jsx)(r.xv,{inline:!0,size:"300",weight:"bold",children:C.includes("join")?o._('Tap to join them on Pinterest', 'pin.closeup.header.shareNotification.text', 'header notifying users to tap on area'):C.includes("converse")?o._('Tap to share feedback', 'pin.closeup.header.shareNotification.text', 'header notifying users to tap on area'):C.includes("explore")&&o._('Tap to see more like it', 'pin.closeup.header.shareNotification.text', 'header notifying users to tap on area')})})]})]})})}var w;const S=void 0!==w?w:w=n(669988),I=({children:e,variables:t})=>e((0,i.useLazyLoadQuery)(S,t));function P({inviterFirstNameRef:e,isDesktop:t,isStoryPin:n,setShouldShowSocialUpsellBanner:i,socialContextBannerStyle:s}){return(0,h.jsx)(o.Z,{children:(0,h.jsx)(a.ty,{children:o=>o?(0,h.jsx)(I,{variables:{inviteCode:o},children:o=>{var a,l;const c=null===(a=o.v3GetInviteCodeQuery)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.sender,{firstName:d,imageMediumUrl:u,username:p}=null!=c?c:Object.freeze({});return d&&p?(e&&(e.current=d),t?(0,h.jsx)(g,{inviter:{firstName:d,imageMediumUrl:u,username:p},socialContextBannerStyle:null!=s?s:{isDismissible:!0,shouldShowSignupUpsellText:!0},setShouldShowSocialUpsellBanner:i}):(0,h.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)"}},marginStart:-2,paddingX:2,marginEnd:-2,children:(0,h.jsx)(b,{inviter:{firstName:d,imageMediumUrl:u,username:p},isStoryPin:!!n})})):null}}):null})})}},361115:(e,t,n)=>{n.d(t,{J:()=>a,U:()=>o});var i=n(780280),r=n(50286);const o=({isDesktop:e,viewerType:t})=>"bot"===t?"seo_graphql_pin_page":"auth"===t?e?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":e?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page",a=()=>{const e=(0,r.HG)(),t=(()=>{const{isAuthenticated:e,isBot:t}=(0,i.B)();return t?"bot":e?"auth":"unauth"})();return o({isDesktop:e,viewerType:t})}},865607:(e,t,n)=>{n.d(t,{O:()=>c,Z:()=>d});var i=n(667294),r=n(883119),o=n(898781),a=n(966113),s=n(785893);const l={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,o.ZP)();return(0,s.jsx)(r.u,{link:(0,s.jsx)(r.rU,{href:a.vB,target:"blank",children:(0,s.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:a,size:d}){const u=(0,o.ZP)(),p=(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(r.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),a&&(0,s.jsx)(r.xu,{marginStart:2,children:(0,s.jsx)(r.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(i.Fragment,{children:[n&&!t&&(0,s.jsx)(c,{children:p}),n&&t&&p,e&&!n&&(0,s.jsx)(r.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[d]})]})}},998651:(e,t,n)=>{n.d(t,{L:()=>s,r:()=>a});var i=n(385740),r=n(909499);const o=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function a({query:e,rs:t,scope:n},o){const a=(0,i.BE)(),s=!(null!=a&&a.viewType||null!=a&&a.viewParameter),l=(0,r.wF)(n);if(!s&&l){const{viewType:n,viewParameter:i}=null!=a?a:{};o({event_type:l,view_type:n,view_parameter:i,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?o({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&o({event_type:101,component:0,element:10349,view_type:142})}const s=(e=[])=>{let t=!0;return e.reduce(((e,n)=>{var i;return t&&n.story_type&&o.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})}},96939:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),r=n(65675),o=n(785893);function a({coverImages:e,height:t,isHovered:n,onClick:a,onMouseEnter:s,onMouseLeave:l,textType:c,text:d,url:u,width:p}){const h=e&&(e["236x"]||e["280x280"]);return(0,o.jsx)(r.Z,{backgroundColor:"gray",coverImage:h,height:t,isHovered:n,onClick:a,onMouseEnter:s,onMouseLeave:l,url:u,width:p,children:(0,o.jsx)(i.xu,{alignItems:"center",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:p||"100%",children:"text"===c?(0,o.jsx)(i.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,o.jsx)(i.X6,{align:"center",size:"500",color:"light",children:d})}):(0,o.jsx)(i.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,o.jsx)(i.xv,{align:"center",weight:"bold",children:d})})})})}},654874:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(667294),r=n(883119),o=n(116303),a=n(898781),s=n(564194),l=n(773285),c=n(391143),d=n(940882),u=n(66699),p=n(19121),h=n(65675),m=n(72809),g=n(785893);const f=12,_=24;function v({bubble:e,contextLogData:t,disableTabIndex:n,handleReport:v,height:y,imgSignature:x,isHovered:b,onClick:w,onMouseEnter:S,onMouseLeave:I,referringSource:P,searchBoxRenderStopwatch:T,showFlag:k,slotIndex:C,storyId:j,viewParameter:E,viewType:A,width:F}){const D=(0,a.ZP)(),R=(0,p.Z)(),{id:O,action:L,aux_fields:M,cover_images:z,dominant_colors:Z,identifier_icon_type:N,title:B,story_category:U,curator:H}=e,{checkExperiment:$}=(0,l.F)(),{isAuth:K}=R;let W="",G="";if(K&&5===A){W=$("blp_explore_bubble_image_size").group;const e=W.split("_");e.length>1&&W.startsWith("enabled")&&(G=e[1])}const V=z&&z[0]&&(W.startsWith("enabled")&&G?z[0][G]:z[0]["280x280"]||z[0]["236x"]),q=(0,u.Z)(B&&B.format||"",B&&B.args||{}),Y=Z&&Z.length?Z[0]:"gray",X=(null==L?void 0:L.url)||(0,c.Z)({storyCategory:U,query:q,referringSource:P,bubbleId:O,storyId:j,title:B.format,pinId:null==M?void 0:M.image_pin_id});return(0,g.jsx)(s.Z,{impressionAuxFields:{storyCategory:U,storyIdStr:j},impressionType:"Article",loggingId:O,viewType:A,viewParameter:E,slotIndex:C,contextLogData:{story_id:j,...t},children:(0,g.jsx)(h.Z,{backgroundColor:Y,coverImage:V,disableTabIndex:n,height:y,id:O,isHovered:b,onClick:w,onMouseEnter:S,onMouseLeave:I,searchBoxRenderStopwatch:T,url:X,width:F,children:({isHovered:e})=>(0,g.jsxs)(i.Fragment,{children:[H&&26!==U&&(0,g.jsx)(r.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,g.jsx)(o.Z,{outline:!0,size:"xs",src:H.image_small_url,name:H.full_name})}),N&&N!==d.J&&(0,g.jsx)(r.xu,{alignItems:"center",color:"default",display:"flex",height:_,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:_,children:(0,g.jsx)(r.JO,{icon:(0,d.Z)(N),accessibilityLabel:D._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:f})}),(0,g.jsx)(r.xu,{display:"flex",height:y,width:F||"100%",position:"absolute",top:!0,padding:3,alignItems:26===U?"end":"center",justifyContent:"center",children:(0,g.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[y>200?(0,g.jsx)(r.X6,{size:"500",align:"center",color:"light",children:q}):(0,g.jsx)(r.xv,{align:"center",color:"light",weight:"bold",children:q}),H&&26===U&&(0,g.jsxs)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,g.jsx)(r.xu,{marginEnd:2,children:(0,g.jsx)(o.Z,{outline:!0,size:"xs",src:H.image_small_url,name:H.full_name})}),(0,g.jsx)(r.xv,{size:"100",color:"light",children:H.full_name})]})]})}),R.isAuth&&R.isEmployee&&k?(0,g.jsx)(r.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,g.jsx)(m.Z,{handleReport:v,imgSignature:x||"",isVisible:e})}):null]})})})}},65675:(e,t,n)=>{n.d(t,{A:()=>a,Z:()=>s});var i=n(667294),r=n(883119),o=n(785893);const a={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s({backgroundColor:e,children:t,coverImage:n,disableTabIndex:s,height:l,id:c,isHovered:d,onClick:u,onMouseDown:p,onMouseEnter:h,onMouseLeave:m,searchBoxRenderStopwatch:g,url:f,width:_}){var v,y;const[x,b]=(0,i.useState)(!1),w=()=>{h?h():b(!0)},S=()=>{m?m():b(!1)},I=d||x,P=I?a.hoverOverlay:a.bubbleOverlay;return(0,o.jsx)(r.iP,{href:f,onBlur:S,onFocus:w,onMouseDown:p,onMouseEnter:w,onMouseLeave:S,onTap:()=>{null==u||u(c)},role:"link",rounding:4,tabIndex:s?-1:void 0,children:(0,o.jsx)(r.zd,{rounding:4,width:_||"100%",height:l,children:null!=n&&n.url?(0,o.jsxs)(r.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(v=n.height)&&void 0!==v?v:1,naturalWidth:null!==(y=n.width)&&void 0!==y?y:1,onLoad:()=>{null==g||g.stop()},role:"presentation",src:n.url,children:[(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:P},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:I}):t]}):(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},92331:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(883119),r=n(407043),o=n(444445),a=n(564194),s=n(676142),l=n(940882),c=n(654874),d=n(785893);const u=103,p=o.yF;function h({contextLogData:e,bubbles:t,id:n,referringSource:o,slotIndex:h,storyType:m,title:g,titleIcon:f,viewType:_,viewParameter:v}){const{logContextEvent:y}=(0,r.v)(),x={story_type:m,...e,content_ids:t.map((({type:e,id:t})=>e+":"+t)).join("|")};return(0,d.jsx)(a.Z,{viewType:_,componentType:200,viewParameter:v,loggingId:n,objectIdStr:n,contextLogData:x,impressionType:"Story",slotIndex:h,children:(0,d.jsxs)(i.xu,{children:[g&&(0,d.jsxs)(i.xu,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof f&&f!==l.J&&(0,d.jsx)(i.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,d.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:(0,l.Z)(f),size:14})}),(0,d.jsx)(i.xv,{weight:"bold",children:(0,s.Z)(g)})]}),t.map(((e,t)=>(0,d.jsx)(i.xu,{paddingY:1,flex:"none",children:(0,d.jsx)(c.Z,{bubble:e,onClick:e=>{y({event_type:101,object_id_str:e,view_type:_,view_parameter:v,component:200,aux_data:x})},referringSource:o,height:u,width:p,storyId:n,viewType:_,viewParameter:v,slotIndex:t,contextLogData:x})},`bubble-${e.id}`)))]})})}},666389:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),r=n(883119);const o={backgroundColor:"transparent"},a={backgroundColor:"rgba(216, 216, 216, 0.37)"},s={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},l={outline:"0"};var c=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{hovered:!1}),d(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),d(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t,color:n="subtle"}=this.props,i=Object.freeze({height:e,width:e}),d={border:0,display:"block",background:"transparent",cursor:"pointer",...l},u={...i,...{...s,...o,...this.state.hovered?a:{}}};return(0,c.jsx)("button",{type:"button",style:d,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,c.jsx)("div",{style:u,children:(0,c.jsx)(r.xu,{rounding:"circle",children:(0,c.jsx)(r.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:n})})})})}}const p=u},72809:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),r=n(883119),o=n(214494),a=n(121151),s=n(499128),l=n(898781),c=n(343341),d=n(666389),u=n(116674),p=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.PureComponent{constructor(...e){var t;super(...e),t=this,h(this,"state",{showModal:!1,reportType:null}),h(this,"handleDismiss",(()=>this.setState({showModal:!1}))),h(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),h(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await o.Z.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),h(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({hideToast:e})=>(0,p.jsx)(s.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')}))),this.handleDismiss())})),h(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,p.jsxs)(i.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(d.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,p.jsx)(a.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(r.xu,{children:[(0,p.jsx)(r.xu,{padding:5,children:(0,p.jsx)(r.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,p.jsxs)(r.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,p.jsxs)(r.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(r.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(r.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(r.xu,{flex:"grow",children:(0,p.jsx)(r.__,{htmlFor:"textType",children:(0,p.jsx)(r.xu,{paddingX:2,children:(0,p.jsx)(r.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(r.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(r.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(r.xu,{flex:"grow",children:(0,p.jsx)(r.__,{htmlFor:"imageType",children:(0,p.jsx)(r.xu,{paddingX:2,children:(0,p.jsx)(r.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(r.iz,{}),(0,p.jsxs)(r.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(r.xu,{margin:2,children:(0,p.jsx)(r.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,p.jsx)(r.xu,{margin:2,children:(0,p.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion'),disabled:!this.state.reportType})})]})]})]})})]})}}function g(e){const t=(0,l.ZP)(),{reportImage:n}=(0,u.f)();return(0,p.jsx)(m,{...e,i18n:t,reportImage:n,toastManagerContext:(0,c.F9)()})}},90221:(e,t,n)=>{n.d(t,{N:()=>a});const i=e=>`BREAK_IN_${e}`,r=new Map,o=e=>{const t=r.get(e);if(t)return t;const n=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:i(e)});return r.set(e,n),n},a=({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),o(e),...t.slice(e)]},679031:(e,t,n)=>{n.d(t,{G9:()=>u,c$:()=>h,cn:()=>m,gG:()=>p,kk:()=>d});var i=n(883119),r=n(50286),o=n(19121),a=n(63552),s=n(885149),l=n(720946),c=n(785893);const d=({isDesktop:e})=>{const t=(0,l.pinRepPaddingInBoint)({isDesktop:e});return t?-t:0},u=-2,p=()=>{const e=(0,r.HG)(),t=(0,l.pinRepPaddingInBoint)({isDesktop:e}),n=t?-t:0;return(0,c.jsx)(i.xu,{marginTop:n,marginBottom:n,paddingY:t})},h=({children:e})=>{const t=(0,r.HG)();return!(0,o.Z)().isAuth&&t?(0,c.jsx)(s.x,{children:e}):e},m=({children:e})=>(0,c.jsx)(a.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:e})},245376:(e,t,n)=>{function i(e){return e&&5!==e?4===e?"stela":null:"related_products"}n.d(t,{Z:()=>i})},116485:(e,t,n)=>{n.d(t,{AA:()=>o,E9:()=>g,EU:()=>v,IO:()=>_,Jd:()=>h,KH:()=>d,QR:()=>c,Uw:()=>r,ZR:()=>y,dy:()=>l,eA:()=>p,fo:()=>m,k7:()=>a,rT:()=>f,tz:()=>u,u9:()=>x,zR:()=>s,zu:()=>i});const i="OPEN_UNAUTH",r="openUnauthType",o="_isAfterLogin",a="_lastVisitedPages",s="_lastVisitedPagesBeforeLogin",l="_lastVisitedBoardPages",c="_lastVisitedPagesBeforeNavPage",d="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,h="_unauthInviteCode",m="_unauthReferrerString",g="unauthTopicsFollowed",f=["US","CA","NZ","AU"],_=new Set(["GB","IE"]),v=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),y=new Set(["BR","MX","AR","CL","CO","PE"]),x="ad_img"},844887:(e,t,n)=>{n.d(t,{DZ:()=>d,Dv:()=>u,Es:()=>c,HW:()=>l});var i=n(773285),r=n(844974),o=n(116485);const a=e=>e>=Date.now()-72e5,s=(e,t)=>{const n=[];if(e)for(const i of e)t&&!i.is_shared||a(i.ts)&&n.push(i);return n},l=()=>{const e=(0,r.qn)(o.zR),t=e?JSON.parse(e):[],n=s(t,!1),i=s(t,!0),l=n.map((e=>e.first_pin_image_signature)),c=i.map((e=>e.first_pin_image_signature)),d=(e=>{const t={};if(e)for(const n of e)n.is_shared&&a(n.ts)&&n.pin_id&&(t[n.pin_id]={inviteCode:n.pin_invite_code});return t})(t),u=(0,r.qn)(o.dy),p=u?JSON.parse(u):[];return{extraPlpImages:l,plpImageRenderData:n,extraBlpImages:s(p,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:c,sharedPinData:d}},c=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){if(e[n].id!==t[n].id)return!1}return!0},d=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null,u=()=>{const{checkExperiment:e}=(0,i.F)(),{anyEnabled:t,group:n}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:t,interestsLimit:t?Number(n.slice(-1)):NaN}}},691720:(e,t,n)=>{n.d(t,{Hg:()=>r,T_:()=>a,g6:()=>o,w6:()=>i});const i=(e,t)=>Array.from({length:t-e},((t,n)=>n+e)),r=508,o=600;function a(e,t){if(!t.startsWith("en"))return e;return e.split(" ").map((e=>e===e.toUpperCase()?e:e.toLowerCase())).join(" ")}},698629:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),r=n(883119),o=n(444445),a=n(391254),s=n(50286),l=n(619623),c=n(785893);const d="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,c.jsx)(r.xu,{padding:1,children:(0,c.jsx)("div",{className:"tall"===e?d:u})}),h=({children:e})=>(0,c.jsx)(r.kC,{direction:"column",gap:{row:0,column:2},children:e}),m=({partialViewportWidth:e})=>{const t="desktop"===(0,s.ZP)(),n=t?o.yF:o.tG;return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(a.Z,{unsafeCSS:[{name:d,height:250},{name:u,height:150}].map((({name:e,height:t})=>(0,l.Z)({name:e,width:n,height:t}))).join("")}),(0,c.jsx)(r.xu,{marginStart:o.qG,marginEnd:o.qG,children:t?(0,c.jsxs)(r.kC,{direction:"row",gap:{row:o.jC,column:0},children:[(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"tall"})}),(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"short"})}),(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"tall"})}),!e&&(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"short"})})]}):(0,c.jsxs)(r.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,c.jsxs)(h,{children:[(0,c.jsx)(p,{size:"tall"}),(0,c.jsx)(p,{size:"short"}),(0,c.jsx)(p,{size:"tall"})]}),(0,c.jsxs)(h,{children:[(0,c.jsx)(p,{size:"short"}),(0,c.jsx)(p,{size:"tall"}),(0,c.jsx)(p,{size:"short"}),(0,c.jsx)(p,{size:"tall"})]})]})})]})}},619623:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({name:e,width:t,height:n})=>{const i=`${n}${"number"==typeof n?"px":""}`,r="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${r} ${i};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${i};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${r}px 0;\n  }\n  100% {\n      background-position: ${r}px 0;\n  }\n}\n`}},633083:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),r=n(643010),o=n(785893);const a=48;function s({color:e,image:t,isSelected:n,title:s}){var l,c,d;return(0,o.jsxs)(i.xu,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,r.Yc)()?n?"#fff":"#767676":n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,o.jsx)(i.zd,{height:a,rounding:"circle",width:a,children:(0,o.jsx)(i.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(l=t.height)&&void 0!==l?l:1,naturalWidth:null!==(c=t.width)&&void 0!==c?c:1,src:null!==(d=t.url)&&void 0!==d?d:""})}),(0,o.jsx)(i.xu,{marginStart:2,marginEnd:3,children:(0,o.jsx)(i.xv,{color:n?"inverse":(0,r.Yc)()?"light":"dark",weight:"bold",children:s})})]})}},722545:(e,t,n)=>{n.d(t,{ZP:()=>te,Bi:()=>J,gv:()=>Q});var i=n(167912),r=n(616550),o=n(883119),a=n(934494),s=n(898781),l=n(773285),c=n(418614),d=n(280446),u=n(667294),p=n(656226),h=n(572551),m=n(444445),g=n(784590),f=n(785893);const _=({data:e,itemIdx:t})=>(0,f.jsx)(p.default,{pin:e,pinId:e.id,authDesktopSurface:"RelatedProductsFeed",slotIndex:t,viewParameter:3334,viewType:72});function v({resourceOptions:e}){const t=(0,s.ZP)(),n=(0,g.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),{data:i,isAtEnd:r,isLoaded:a,isFetching:l,fetchMore:c}=n,d=(0,u.useRef)(null);if(!a)return(0,f.jsx)(o.kC,{alignItems:"stretch",alignSelf:"center",justifyContent:"center",children:(0,f.jsx)(o.$j,{accessibilityLabel:t._('Loading related products', 'Label for loading spinner', 'Label for loading spinner'),show:!0})});const p=Array.isArray(i)?i:null==i?void 0:i.results;return(0,f.jsx)(o.xu,{display:"flex",maxWidth:"100%",ref:d,children:p&&(0,f.jsx)(h.default,{columnWidth:m.yF,isAtEnd:r,isFetching:l,renderItem:e=>(0,f.jsx)(_,{...e}),items:p,loadItems:()=>{l||r||c()},paddingStyle:"simplified",scrollContainerRef:d,virtualize:!1})})}var y=n(361259),x=n(528264),b=n(647945),w=n(362810);class S extends u.PureComponent{constructor(...e){var t,n,i;super(...e),i=({data:e,itemIdx:t})=>{const{resourceOptions:{image_signature:n},visualLiveSearchResource:i}=this.props,r=i&&i.data&&i.data.search_identifier,o=`${window.location.pathname}products/${window.location.search}`;return"story"===e.type?(0,f.jsx)(w.Z,{story:e,dangerouslySetActionUrl:o,slotIndex:t}):(0,f.jsx)(p.default,{pin:e,pinId:e.id,authDesktopSurface:"FlashlightResultGrid",auxData:{search_identifier:r,image_signature:n},slotIndex:t,viewData:{search_identifier:r},viewType:72})},(n="renderItem")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{visualLiveSearchResource:e,onSearchIdChange:t}=this.props,n=e&&e.data&&e.data.search_identifier;n&&t(n)}componentDidUpdate({visualLiveSearchResource:{data:e}}){const{visualLiveSearchResource:{data:t}}=this.props,n=t&&t.search_identifier,i=e&&e.search_identifier;n&&n!==i&&this.props.onSearchIdChange(n)}render(){const{hasSimplifiedPinGridExpLoaded:e,visualLiveSearchResource:t}=this.props,{data:n,isFetching:i,fetchMore:r}=t,a=n&&n.results,s=n&&n.search_identifier;return(0,f.jsxs)(o.xu,{children:[a&&s&&(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.Rk,{columnWidth:m.yF,renderItem:({data:e,itemIdx:t})=>this.renderItem({data:e,itemIdx:t}),gutterWidth:m.P2,items:a,loadItems:r,minCols:1,scrollContainer:()=>window})}),(0,f.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Loading search results...', 'Accessibility label for loading visual search results', 'Accessibility label for loading visual search results'),show:i||!s||!e})]})}}function I(e){const t=(0,s.ZP)(),{hasSimplifiedPinGridExpLoaded:n}=(0,y.$)(),{checkExperiment:i}=(0,l.F)(),{anyEnabled:r}=i("web_flashlight_unified_feed"),{resourceOptions:o,pin:a,viewParameter:c}=e,d=(0,g.Z)({name:"VisualLiveSearchResource",options:o}),{visualSearchFlashlightUnifiedResource:p}=(0,b.Z)({resourceOptions:o});return(0,f.jsx)(u.Fragment,{children:r?(0,f.jsx)(x.Z,{imageSignature:a.image_signature,isProductOnlyFeed:!1,pin:a,variant:"flashlight",viewParameter:c,viewType:72,visualSearchFlashlightUnifiedResource:p}):(0,f.jsx)(S,{...e,visualLiveSearchResource:d,hasSimplifiedPinGridExpLoaded:n,i18n:t})})}var P=n(99739),T=n(119403),k=n(407043),C=n(666763),j=n(788606),E=n(305791),A=n(780280),F=n(430323),D=n(826067),R=n(829407),O=n(229428),L=n(975540),M=n(94047),z=n(297852),Z=n(427806),N=n(697335);const B=20,U=60;let H=0,$="";function K({pin:e}){const{logContextEvent:t}=(0,k.v)(),n=(0,s.ZP)(),i=(0,r.useHistory)(),a=(0,A.B)(),{checkExperiment:c}=(0,l.F)(),{anyEnabled:p}=c("web_flashlight_unified_feed"),{id:h}=(0,r.useParams)(),{pinId:m}=(0,d.Z)(h||""),g=(0,r.useLocation)(),_=(0,D.mB)(g.search),{x:y,y:x,w:b,h:w,cropSource:S}=function(e){return Object.keys(e).reduce(((t,n)=>({...t,[n]:parseInt(e[n],10)})),{})}(_),{imageSignature:K}=_,W=function(...e){return e.every(Number.isInteger)}(y,x,b,w)?{x:y,y:x,w:b,h:w}:null,[G,V]=(0,u.useState)(""),q=g.pathname.includes("/products")?"products":"flashlight";function Y({origCrop:e,cropSource:t,trafficSource:n,title:r}){const o=window.location.pathname+window.location.search,a=(0,z.Z)({cropArea:e,pinId:m,cropSource:t,isUnified:!1,imageSignature:K,title:r,trafficSource:n});a!==o&&(i.replace(a),i.replace({pathname:`/pin/${m}/visual-search/`,query:{...e,cropSource:t,imageSignature:K},search:(0,M.Z)({cropArea:e,cropSource:t,imageSignature:K,title:r,trafficSource:n}),state:{internalNavigation:!0}}))}const X=(0,u.useRef)();(0,u.useEffect)((()=>(X.current&&$===m&&(X.current.scrollTop=H),()=>{X.current&&(H=X.current.scrollTop,$=m)})));const J=S||5,Q=p&&4===J?3462:3050;if((0,R.Z)((()=>{if(!W&&e){const{image_signature:t}=e,n=K||t,{width:r,height:o}=(0,E.Z)({pin:e,imageSignature:n}),a=(0,z.Z)({cropArea:{h:(null!=o?o:1)-2*C.S,w:(null!=r?r:1)-2*C.S,x:C.S,y:C.S},pinId:m,view:q,imageSignature:K});i.replace(a)}p||t({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:m}})})),!e)return null;const{image_signature:ee}=e,te=K||ee,{width:ne,height:ie,url:re}=(0,E.Z)({pin:e,imageSignature:te});""===re&&i.push(`/pin/${m}/visual-search/`);const oe=(0,P.Z)({initialCropArea:W,pin:e,imageSignature:te}),ae={pin_id:m,image_signature:te,crop:(0,L.Z)({cropArea:oe,scaledWidth:ne,scaledHeight:ie}),crop_source:J,is_shopping:!1,entry_source:"flashlight"},se=!(g&&g.state&&g.state.internalNavigation),le=a&&a.isRTL||!1,ce=ne+B,de=ce+16,ue=!p||p&&(5===J||6===J),pe=!!e.visual_objects&&te===ee&&(0,O.m)(e.visual_objects)||[];return(0,f.jsx)(F.Z,{view:72,objectId:G,children:(0,f.jsxs)(u.Fragment,{children:[(0,f.jsx)(Z.Z,{text:n._('Visual Search Page', 'pin.flashlight.accessibilityhiddenheading', 'accessibility label for flashlight page')}),ue&&(0,f.jsx)(T.Z,{pinId:m,title:"products"===q?n._('Shop similar items', 'Header explaining results of flashlight products search', 'Header explaining results of flashlight products search'):n._('More Ideas', 'Header explaining results of flashlight search', 'Header explaining results of flashlight search'),variant:"flashlight",viewParameter:Q,viewType:72}),(0,f.jsx)(N.c,{children:t=>{var n;return"products"===q?(0,f.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:U}},children:[(0,f.jsx)(v,{resourceOptions:ae}),";"]}):(0,f.jsxs)(o.xu,{display:"flex",paddingX:12,children:[(0,f.jsx)(o.xu,{bottom:!0,overflow:"auto",position:"fixed",dangerouslySetInlineStyle:{__style:{width:ce,height:"inherit",top:t+U,marginBottom:10}},ref:X,children:(0,f.jsx)(o.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:ne,height:ie}},children:(0,f.jsxs)(o.zd,{height:ie,rounding:2,width:ne,children:[(0,f.jsx)(o.Ee,{alt:null!==(n=e.description)&&void 0!==n?n:"",naturalHeight:ie,naturalWidth:ne,src:re}),(0,f.jsx)(j.Z,{showAnimation:se,imageSignature:te,imageSize:{h:ie,w:ne},initialCropArea:oe,onChange:Y,pin:e,spotlightAreas:pe,viewParameter:Q})]})})}),(0,f.jsx)(o.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{top:U,marginLeft:le?void 0:de,marginRight:le?de:void 0}},children:(0,f.jsx)(I,{resourceOptions:ae,onSearchIdChange:V,pin:e,viewParameter:Q})})]})}})]})})}var W;const G=void 0!==W?W:W=n(957872);function V(e){var t,n,i;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(n=e.url)&&void 0!==n?n:"",height:null!==(i=e.height)&&void 0!==i?i:0}}function q(e){const t=[];return e.forEach((({additionalImages:e,spec:n})=>{var i;t.push(...null!==(i=function({additionalImages:e,spec:t}){const n=[];return null==e||e.forEach((e=>{var i;e.canonicalImage&&n.push({canonical_images:{[t]:V(e.canonicalImage)},image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:""})})),n}({additionalImages:e,spec:n}))&&void 0!==i?i:[])})),t}function Y(e){return null==e?void 0:e.map((e=>{var t,n,i,r,o;return{additional_images:null!==(t=q([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==t?t:[],variant_set:null!==(i=e.variantSet,n={variants:null!==(o=null==i?void 0:i.variants,r=null==o?void 0:o.map((e=>{var t,n;return{additional_images:null!==(n=e.additionalImages,t=null==n?void 0:n.map((e=>{var t,n;return{canonical_images:null!==(t=e.canonicalImages)&&void 0!==t?t:{},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""}})))&&void 0!==t?t:[]}})))&&void 0!==r?r:[]})&&void 0!==n?n:{}}}))}function X(e){const t={};return e.forEach((e=>{const{image:n,spec:i}=e;n&&(t[i]=V(n))})),t}function J(){var e,t,n,o,a,s,l;const{id:c}=(0,r.useParams)(),{pinId:u}=(0,d.Z)(c||""),p=function({pinId:e}){return{query:G,variables:{pinId:e}}}({pinId:u}),h=null===(e=(0,i.useLazyLoadQuery)(G,p.variables).v3GetPinQuery)||void 0===e?void 0:e.data;if(!h)return null;var m,g,f,_,v;return{id:null!==(t=h.entityId)&&void 0!==t?t:"",is_eligible_for_related_products:null!==(n=h.isEligibleForRelatedProducts)&&void 0!==n&&n,description:null!==(o=h.description)&&void 0!==o?o:"",image_signature:null!==(a=h.imageSignature)&&void 0!==a?a:"",visual_objects:null!==(v=h.visualObjects,s=null==v?void 0:v.map((e=>{var t,n,i,r,o,a,s,l,c,d,u,p,h,m,g;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(n=e.h)&&void 0!==n?n:0,index:null!==(i=e.index)&&void 0!==i?i:0,is_stela:null!==(r=e.isStela)&&void 0!==r&&r,label:null!==(o=e.label)&&void 0!==o?o:"",label_id:null!==(a=e.labelId)&&void 0!==a?a:0,label_x:null!==(s=e.labelX)&&void 0!==s?s:0,label_y:null!==(l=e.labelY)&&void 0!==l?l:0,max_annotation_num_documents:null!==(c=e.maxAnnotationNumDocuments)&&void 0!==c?c:0,score:null!==(d=e.score)&&void 0!==d?d:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,title:null!==(p=e.title)&&void 0!==p?p:"",w:null!==(h=e.x)&&void 0!==h?h:0,x:null!==(m=e.w)&&void 0!==m?m:0,y:null!==(g=e.y)&&void 0!==g?g:0}})))&&void 0!==s?s:[],images:null!==(l=X([{image:h.imageOrig,spec:"orig"},{image:h.image736x,spec:"736x"},{image:h.image564x,spec:"564x"},{image:h.image474x,spec:"474x"},{image:h.image236x,spec:"236x"}]))&&void 0!==l?l:{},rich_metadata:(f=h.richMetadata,{products:null!==(_=Y(null==f?void 0:f.products))&&void 0!==_?_:[]}),rich_summary:(m=h.richSummary,{products:null!==(g=Y(null==m?void 0:m.products))&&void 0!==g?g:[]}),type:"pin"}}function Q(){const{data:e,isLoaded:t}=(0,c.Z)({name:"PinResource",getOptions:({routeData:{params:{id:e}}})=>({id:e,field_set_key:"detailed",fetch_visual_search_objects:!0})});return t&&e?e:null}const ee=(0,a.Z)({useGraphQLAdapter:J,useLegacyAdapter:Q});function te(){const{checkExperiment:e}=(0,l.F)(),t=(0,s.ZP)();return(0,f.jsx)(ee,{input:e("auth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:null,suspense:{fallback:(0,f.jsx)(o.$j,{accessibilityLabel:t._('Loading Pin data', 'authDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:null},children:({data:e})=>!!e&&(0,f.jsx)(K,{pin:e})})}},712055:(e,t,n)=>{n.d(t,{Z:()=>a,f:()=>s});var i=n(214494),r=n(254176);function o(e){return i.Z.create("BoardFollowResource",{board_id:e})}function a(e){return t=>{o(e).callCreate().catch((()=>{t((0,r.md)(e,!1))})),t((0,r.md)(e,!0))}}function s(e){return t=>{o(e).callDelete().catch((()=>{t((0,r.md)(e,!0))})),t((0,r.md)(e,!1))}}},884183:(e,t,n)=>{n.d(t,{By:()=>l,IT:()=>s,N6:()=>r,br:()=>o,lU:()=>a});var i=n(186656);const r=(e,t)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}),o=(e,t)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}),a=(e,t,n)=>r=>{(0,i.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(t,n),r("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})},s=(e,t,n,r)=>o=>{(0,i.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:t}}).then(n,r),o("PERSONAL"===t?(e=>({type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}))(e):(e=>({type:"CLEAR_RECENT_SEARCH",payload:{query:e}}))(e))},l=e=>t=>{t((e=>({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}}))(e))}},70090:(e,t,n)=>{n.d(t,{ZN:()=>a,bJ:()=>l,fv:()=>s,hr:()=>o,lD:()=>c});var i=n(214494);function r(e,t){return i.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const o=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),a=(e,t)=>n=>{r(e,t).callCreate().catch((()=>n(o(e,!1)))),n(o(e,!0))},s=(e,t)=>n=>{r(e,t).callDelete().catch((()=>n(o(e,!0)))),n(o(e,!1))},l=e=>t=>{const n=e.reduce(((e,t)=>({...e,[t.id]:!t.is_followed})),{});return i.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:n}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:n})=>{t(o(e,!n))}))}))},c=(e,t="")=>n=>i.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((t=>{const i=e[t];n(o(t,i))}))}))},461773:(e,t,n)=>{n.d(t,{KF:()=>d,ZN:()=>s,fv:()=>c,kE:()=>p,yA:()=>l});var i=n(214494),r=n(186656),o=n(90326);function a(e,t){return i.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function s(e,t=null){return n=>{a(e,t).callCreate().catch((()=>n((0,o.P_)(e,!1)))),n((0,o.P_)(e,!0))}}function l(e,t=null){return async n=>{n((0,o.P_)(e,!0)),await a(e,t).callCreate().catch((t=>{throw n((0,o.P_)(e,!1)),t}))}}function c(e,t=null){return n=>{a(e,t).callDelete().catch((()=>n((0,o.P_)(e,!0)))),n((0,o.P_)(e,!1))}}function d(e,t=null){return async n=>{n((0,o.P_)(e,!1)),await a(e,t).callDelete().catch((t=>{throw n((0,o.P_)(e,!0)),t}))}}const u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,r.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch((()=>t(u(e,!1)))),t(u(e,!0)))}},492583:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},422946:(e,t,n)=>{n.d(t,{J:()=>g,Z:()=>y});var i=n(932995),r=n(338739),o=n(648284),a=n(998651),s=n(59644),l=n(483025),c=n(819063),d=n(492583);const u=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${d.Z.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:()=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:()=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const{data:t}=e.resource_response,{story_type:n}=t?t.objects[0]:{story_type:""};return`explore-${n.slice(15)}:${t.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:()=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:()=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},h={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:d.Z.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:d.Z.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:d.Z.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?d.Z.AGGREGATED_COMMENT_REPLIES:d.Z.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:d.Z.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:d.Z.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:d.Z.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:d.Z.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:d.Z.PROFILE_BOARDS,id:(0,s.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:i,query_pin_sigs:r,query:s,user:l},response:c})=>{var u;return{type:d.Z.SEARCH_PINS,id:(0,o.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:i,query:s,selectedPinImgSig:r,scope:n,user:l}),items:null!==(u=c.resource_response.data)&&void 0!==u&&u.results?(0,a.L)(c.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:d.Z.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:d.Z.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:d.Z.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:d.Z.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:d.Z.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:d.Z.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:d.Z.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:d.Z.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:d.Z.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:d.Z.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:d.Z.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},m=(e,{pinId:t,oldFeedId:n,newFeedId:i})=>n===i?e:((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:[{type:"pin",id:t},...e[n]]}:e)(((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:e[n].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:n}),{pinId:t,feedId:i}),g=(e,t)=>e in p?p[e](t):null,f=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,_=(e,t)=>e.map((({id:e,schema:n})=>n?{id:e,type:n,trackingParams:"pin"===n?t.pins[e].tracking_params:void 0,user_id:void 0}:null)).filter(Boolean),v=(e,t,n)=>Object.keys(e).reduce(((i,r)=>{const o=e[r]||[],a=o.filter((e=>!(e.type===t&&e.id===n)));return o.length!==a.length&&(i[r]=a),i}),{...e}),y=(e={},t)=>{switch(t.type){case r.zP:case r.aW:{const{payload:i}=t,{resource:o,options:a,normalizedResponse:s,schema:u}=i;if(s&&o in p){const n=((e,t,n)=>{const i=n||l.Z[e];if(i===c.LR)return t.result;if(i===c.sN)return t.result.map((e=>({id:e,schema:"board"})));if(i===c.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(i===c.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(i===c.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof i){const e=Object.entries(i).find((([e,t])=>t===c.LR));if(e)return t.result[e[0]]}return null})(o,s,u);if(n&&Array.isArray(n)){const i=p[o](a);if("ShoppingFeedModularizedResource"===o){const{board_id:t,saved_products_only:i}=null!=a?a:{},r=`board-shop-related:${t}`,o=`board-shop-saved:${t}`,l=`board-shop-saved-preview:${t}`,c=[...e[r]||[]],d=[...e[o]||[]],u=[...e[l]||[]];return _(n,s.entities).forEach((e=>{var n;i?d.push(e):s.entities.pins&&(null===(n=s.entities.pins[e.id])||void 0===n?void 0:n.board)===t?u.push(e):c.push(e)})),{...e,[r]:c,[o]:d,[l]:u}}if("BoardToolsFeedResource"===o||"SectionToolsFeedResource"===o)return{...e,[i]:n};{const o=(t.type===r.aW&&e[i]||[]).concat(_(n,s.entities));return{...e,[i]:o}}}}else{var n;const{data:o}=i.response.resource_response;if(null===(n=i.options)||void 0===n||!n.redux_normalize_feed)return e;const a=h[i.resource](i);if(a){const{type:n,id:i,items:s,reversed:l}=a;let c=(s||o||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===d.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,n)));l&&(c=c.reverse());const u=`${n}:${i}`,p=e[u];if(p||t.type!==r.aW){const n=p||[];let i=c;return t.type===r.aW&&(i=l?c.concat(n):n.concat(c)),{...e,[u]:i}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:r,itemType:o,targetItemId:a,sourceItemId:s}}=t,l=`${n}:${r}`,c=e[l]||[];let u=-1,p=-1;if([d.Z.BOARDFEED,d.Z.BOARD_SECTION_PINS,d.Z.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=c.findIndex((e=>e.type===o&&e.id===s)),p=c.findIndex((e=>e.type===o&&e.id===a))),-1!==u&&-1!==p)return{...e,[l]:(0,i.Z)(c,u,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:r,itemType:o,itemIds:a=[]}}=t,s=`${n}:${i}`,l=e[s]||[];if(l&&l.length>0&&(n===d.Z.BOARD_SECTION_PINS||n===d.Z.BOARDFEED)){const t=l.filter((e=>{const t=a.includes(e.id);return!(e.type===o&&(r&&!t||!r&&t))})),n=!!t.find((e=>"pin"===e.type));return{...e,[s]:n?t:[]}}if(l&&l.length>0&&n===d.Z.BOARD_SECTIONS){const t=l.filter((e=>{const t=a.includes(e.id);return!(e.type===o&&t)}));return{...e,[s]:t}}if(l&&l.length>0&&(n===d.Z.AGGREGATED_COMMENTS||n===d.Z.BOARDLESS_PINS||n===d.Z.PROFILE_PINS_FEED||n===d.Z.STORY_PINS_FEED||n===d.Z.UNIFIED_COMMENTS||n===d.Z.TRIED_IT_FEED||n===d.Z.STORY_PIN_DATA)){const t=l.filter((e=>{const t=a.includes(e.id);return!(e.type===o&&t)}));return{...e,[s]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:r,itemIds:o=[],prepend:a}}=t,s=`${n}:${i}`,l=e[s]||[];if(l&&(n===d.Z.BOARD_SECTION_PINS||n===d.Z.BOARDFEED||n===d.Z.BOARDLESS_PINS)){const t=o.map((e=>({id:e,type:r})));let n=0;"story"===(l[0]||{}).type&&(n=1),"story"===(l[1]||{}).type&&(n=2);const i=[...l.slice(0,n),...t,...l.slice(n)];return{...e,[s]:i}}if(l&&n===d.Z.BOARD_SECTIONS){const t=[...o].reverse().map((e=>({id:e,type:"boardsection"}))),n=l?[...t,...l]:[...t];return{...e,[s]:n}}if(n===d.Z.AGGREGATED_COMMENTS||n===d.Z.AGGREGATED_COMMENT_REPLIES||n===d.Z.PROFILE_PINS_FEED||n===d.Z.STORY_PINS_FEED||n===d.Z.UNIFIED_COMMENTS){const t=o.map((e=>({id:e,type:r}))),n=l?[...a?t:l,...a?l:t]:t;return{...e,[s]:n}}if(n===d.Z.TRIED_IT_FEED){const t=o.map((e=>({id:e,type:r}))),n=l?[...t,...l]:t;return{...e,[s]:n}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,r=`${n}:${i}`;if(e[r]||[])return{...e,[r]:null};break}case"APPEND_FEED_ITEMS":{const{payload:{id:n,items:i,options:r}}=t,o=e[n];if(o){let t;return t=r.isPrepend?o[0]&&"story"===o[0].type?[].concat(o[0],i,o.slice(1)):i.concat(o):o.concat(i),{...e,[n]:t}}return{...e,[n]:i}}case"PIN_DELETE":{const{payload:{pinId:n}}=t;return v(e,"pin",n)}case"BOARD_ARCHIVE":{const{payload:{boardId:n,username:i}}=t,r=`profile-boards:${null!=i?i:""}`;if(e[r])return{...e,[r]:e[r].filter((e=>e.id!==n))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:n}}=t,i="archived-boards";if(e[i])return{...e,[i]:e[i].filter((e=>e.id!==n))};break}case"BOARD_DELETE":{const{payload:{boardId:n}}=t;return v(e,"board",n)}case"BOARD_SECTION_DELETE":{const{payload:{boardSectionId:n}}=t;return v(e,"boardsection",n)}case"PINS_MOVE":{const{payload:{source:n,target:i,pinIds:r,userId:o}}=t,a=n.boardlessPins&&o&&`boardless-pins:${o}`||n.boardId&&f(n.boardId,n.sectionId),s=f(i.boardId,i.sectionId);return r.reduce(((e,t)=>m(e,{pinId:t,oldFeedId:a,newFeedId:s})),e)}case"PINS_MOVE_ALL":{const{payload:{source:n,target:i,excludePinIds:r}}=t,o=f(n.boardId,n.sectionId),a=f(i.boardId,i.sectionId),s={...e,[o]:r.map((e=>({type:"pin",id:e})))};return delete s[a],s}case"PIN_EDIT":{const{payload:{pinId:n,boardId:i,section:r,source:{boardId:o,sectionId:a}}}=t,s=f(o,a),l=f(i,null==r?void 0:r.id);return m(e,{pinId:n,oldFeedId:s,newFeedId:l})}case r.AF:if(u.has(t.payload.resource)){const n=t.payload.response.resource_response.data,{board:i}=n;let r;if("quick_saves"===i.layout)r=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;r=e?`board-section-pins:${e}`:`boardfeed:${i.id}`}if(e[r]){const t={...e},i={id:n.id,type:"pin",trackingParams:null==n?void 0:n.tracking_params};return t[r]=[i].concat(e[r]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const n=t.payload.normalizedResponse.result,i=`board-sections:${t.payload.normalizedResponse.entities.boardsections[n].board}`;if(e[i]){const t={...e},r={id:n,type:"boardsection"};return t[i]=[r].concat(e[i]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const n={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},i=["aggregated-comments","unified-comments"];let r={...e};for(const o of i){const i=`${o}:${t.payload.options.objectId}`;e[i]&&(r={...r,[i]:[n].concat(r[i])})}return r}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const n=`${d.Z.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[n]:[...e[n]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:n}=t.payload.options;if("reaction"===t.payload.options.action_type){const i=`reactions:${t.payload.options.pin_id}`,r={...e},o={id:`${n}:${t.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return r[i]=[o].concat(e[i]),r}if("unreaction"===t.payload.options.action_type){const i=`${n}:${t.payload.options.user_id}`;return v(e,"reaction",i)}}break;case"COMPLETE_STORY":{const{payload:{storyId:n}}=t;return v(e,"story",n)}}return e}},761881:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>(e=>(t,n)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,n)])(e)},962551:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),r=n(643010),o=n(785893);function a({guide:e,guidedQuery:t,isSlot0Style:n=!1}){const{dominant_color:a,display:s}=e,l=(0,o.jsx)(i.iP,{role:"link",tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:a,whiteSpace:n?void 0:"nowrap"}},"data-test-id":"one-bar-module-3",minWidth:n?void 0:84,padding:4,rounding:"pill",children:(0,o.jsx)(i.xv,{align:n?"start":"center",color:n?(0,r.Yc)()?"inverse":"default":"inverse",lineClamp:n?2:void 0,size:"200",weight:n?"normal":"bold",children:s})})});return n?l:(0,o.jsx)(i.xu,{flex:"none",marginStart:-7,paddingX:4,children:l})}const s={REPLACE:-1,PREPEND:0,APPEND:1};function l({guides:e,isSlot0Style:t=!1,query:n}){const r=({position:e,term:t})=>e===s.REPLACE?t:e===s.PREPEND?`${t} ${n}`:`${n} ${t}`,l=()=>e.map((e=>(0,o.jsx)(a,{guide:e,guidedQuery:r(e),isSlot0Style:t},e.display)));return t?(0,o.jsx)(i.xu,{padding:2,children:(0,o.jsx)(i.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:l()})}):(0,o.jsx)(i.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,o.jsx)(i.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:l()})})}},620862:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),r=n(898781),o=n(785893);function a({buttonText:e,handleDrawerClose:t,isDrawerOpen:n,onClick:a,largeSize:s=!1,reversed:l=!1,invertWhenDrawerIsOpen:c=!1,hasProductFiltersApplied:d=!1}){const u=(0,r.ZP)(),p=c&&n,h=(0,o.jsx)(i.JO,{accessibilityLabel:"",icon:"filter",color:p?"light":"dark"},"filterIcon"),m=e&&(0,o.jsx)(i.xv,{align:"center",color:p?"inverse":"default",weight:"bold",children:e},e),g=l?[m,h]:[h,m];return(0,o.jsx)(i.iP,{onTap:()=>{n?t():a()},rounding:"pill",accessibilityLabel:u._('Filter', 'productsFilterButton', 'Button to filter products results'),children:(0,o.jsxs)(i.xu,{position:"relative",children:[(0,o.jsx)(i.xu,{display:"flex",justifyContent:"center",alignContent:"center",color:p?"dark":"secondary",rounding:"pill",minHeight:40,paddingX:4,dangerouslySetInlineStyle:s?{__style:{padding:"18px"}}:void 0,children:(0,o.jsx)(i.kC,{gap:{row:2,column:0},alignItems:"center",children:g})}),d&&(0,o.jsx)(i.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",rounding:"pill",top:!0,right:!0})]})})}},905732:(e,t,n)=>{n.d(t,{Z:()=>ge});var i=n(667294),r=n(883119),o=n(112690),a=n(898781),s=n(79113),l=n(245376),c=n(116303),d=n(63552),u=n(785893);function p({cropSource:e,domainFilters:t,handleDomain:n,pinId:s}){const p=(0,a.ZP)(),h=(0,o.Z)();(0,i.useEffect)((()=>{h({event_type:120,component:13469,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,l.Z)(e)})}})}),[]);return(0,u.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,u.jsx)(r.xu,{paddingY:4,children:(0,u.jsx)(r.xv,{children:p._('Merchants', 'FeedFiltering.DomainFilter.Merchants', 'Area that lists the Merchants filters')})}),t.map(((e,t)=>(0,u.jsx)(d.Z,{onTouch:()=>{var i,r;n(t),r=null!==(i=e.domain)&&void 0!==i?i:"",h({event_type:102,component:13469,view_parameter:3396,view_type:72,element:11376,aux_data:{pin_id:s,commerce_data:JSON.stringify({select:!0,domain:r})}})},pressState:"none",children:(0,u.jsxs)(r.xu,{alignItems:"center",display:"flex",marginBottom:3,children:[(0,u.jsx)(r.xu,{marginEnd:2,children:(0,u.jsx)(c.Z,{name:e.label||"",size:"sm",src:e.image_url})}),(0,u.jsx)(r.xu,{flex:"grow",children:(0,u.jsx)(r.xv,{children:e.label})}),e.selected?(0,u.jsx)(r.xu,{children:(0,u.jsx)(r.JO,{accessibilityLabel:p._('checked merchant filter', 'FeedFiltering.DomainFilters.MerchantsCheckmark', 'checkmark when merchant is selected'),color:"default",icon:"check"})}):null]},e.domain)},e.domain)))]})}var h=n(542473),m=n.n(h),g=Math.sqrt(50),f=Math.sqrt(10),_=Math.sqrt(2);function v(e,t,n){var i,r,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(a=function(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=g?10:o>=f?5:o>=_?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=g?10:o>=f?5:o>=_?2:1)}(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),i=Math.round(t/a);for(n*a<e&&++n,i*a>t&&--i,o=new Array(r=i-n+1);++s<r;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(e*a),i=Math.round(t*a);for(n/a<e&&++n,i/a>t&&--i,o=new Array(r=i-n+1);++s<r;)o[s]=(n+s)/a}return i&&o.reverse(),o}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function S(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=T(e);if(t){var r=T(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}(this,n)}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var R="react-compound-slider:";function O(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return t.val>n.val?e?-1:1:n.val>t.val?e?1:-1:0}}function L(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.findIndex((function(e){return e.key===t}));if(-1!==r){var o=e[r],a=o.key;return o.val===n?e:[].concat(A(e.slice(0,r)),[{key:a,val:n}],A(e.slice(r+1))).sort(O(i))}return e}function M(e,t){if(!e)return[0,0];var n=e.getBoundingClientRect();return[t?n.top:n.left,t?n.bottom:n.right]}function z(e){var t=e.type,n=void 0===t?"":t,i=e.touches;return!i||i.length>1||"touchend"===n.toLowerCase()&&i.length>0}function Z(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function N(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=0;return{handles:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var r=t.getValue(e);return e!==r&&(i+=1,m()(!n,"".concat(R," Invalid value encountered. Changing ").concat(e," to ").concat(r,"."))),r})).map((function(e,t){return{key:"$$-".concat(t),val:e}})).sort(O(e)),changes:i}}function B(e,t,n,i,r){for(var o=-1,a=!0,s=0;s<e.length;s++){var l=e[s],c=t[s];if(!c||c.key!==l.key)return e;c.val!==l.val&&(o=s,a=c.val-l.val>0)}if(-1===o)return e;for(var d=a?n:-n,u=0;u<t.length;u++){var p=t[u],h=t[u+1];if(h&&p.val===h.val){if(u===o){var m=h.val+d;if(r(m)===m){var g=B(t,L(t,h.key,h.val+d,i),n,i,r);return g===t?e:g}return e}var f=p.val+d;if(r(f)===f){var _=B(t,L(t,p.key,p.val+d,i),n,i,r);return _===t?e:_}return e}}return t}function U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return t&&t(e)}))}}var H=function(){return{value:0,percent:0}},$=function(e){P(n,e);var t=j(n);function n(){var e;b(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getRailProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props,i=n.emitMouse,r=n.emitTouch;return x(x({},t),{},{onMouseDown:U(t&&t.onMouseDown,i),onTouchStart:U(t&&t.onTouchStart,r)})},e}return S(n,[{key:"render",value:function(){var e=this.getRailProps,t=this.props,n=t.getEventData,r=t.activeHandleID,o=void 0===r?"":r,a=(0,t.children)({getEventData:n||H,activeHandleID:o,getRailProps:e});return a&&i.Children.only(a)}}]),n}(i.Component),K=function(e){P(n,e);var t=j(n);function n(){var e;b(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).autofocus=function(e){e.target instanceof HTMLElement&&e.target.focus()},e.getHandleProps=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.props,r=i.emitKeyboard,o=i.emitMouse,a=i.emitTouch;return x(x({},n),{},{onKeyDown:U(n&&n.onKeyDown,(function(e){return r&&r(e,t)})),onMouseDown:U(n&&n.onMouseDown,e.autofocus,(function(e){return o&&o(e,t)})),onTouchStart:U(n&&n.onTouchStart,(function(e){return a&&a(e,t)}))})},e}return S(n,[{key:"render",value:function(){var e=this.getHandleProps,t=this.props,n=t.activeHandleID,r=void 0===n?"":n,o=t.children,a=t.handles,s=o({handles:void 0===a?[]:a,activeHandleID:r,getHandleProps:e});return s&&i.Children.only(s)}}]),n}(i.Component),W=function(){function e(){b(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return S(e,[{key:"createInterpolator",value:function(e,t){var n=this,i=e[0],r=e[1],o=t[0],a=t[1];return r<i?function(e){return n.interpolateValue(a,o)(n.deinterpolateValue(r,i)(e))}:function(e){return n.interpolateValue(o,a)(n.deinterpolateValue(i,r)(e))}}},{key:"interpolateValue",value:function(e,t){return t-=e=+e,function(n){return e+t*n}}},{key:"deinterpolateValue",value:function(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(){return t}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(e){var t=this.domain,n=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(t,n)))(+e)}},{key:"setDomain",value:function(e){return this.domain=[e[0],e[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(e){return this.range=[e[0],e[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(e){var t=this.domain;return v(t[0],t[t.length-1],e||10)}}]),e}(),G=function(){return{value:0,percent:0}},V=function(e){P(n,e);var t=j(n);function n(){return b(this,n),t.apply(this,arguments)}return S(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.values,r=e.scale,o=void 0===r?new W:r,a=e.count,s=void 0===a?10:a,l=e.getEventData,c=void 0===l?G:l,d=e.activeHandleID,u=t({getEventData:c,activeHandleID:void 0===d?"":d,ticks:(n||o.getTicks(s)).map((function(e){return{id:"$$-".concat(e),value:e,percent:o.getValue(e)}}))});return u&&i.Children.only(u)}}]),n}(i.Component),q=function(){return{value:0,percent:0}},Y=function(e){P(n,e);var t=j(n);function n(){var e;b(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getTrackProps=function(t){var n=e.props,i=n.emitMouse,r=n.emitTouch;return x(x({},t||{}),{},{onMouseDown:U(t&&t.onMouseDown,i),onTouchStart:U(t&&t.onTouchStart,r)})},e}return S(n,[{key:"render",value:function(){for(var e=this.getTrackProps,t=this.props,n=t.children,r=t.left,o=void 0===r||r,a=t.right,s=void 0===a||a,l=t.scale,c=void 0===l?new W:l,d=t.handles,u=void 0===d?[]:d,p=t.getEventData,h=void 0===p?q:p,m=t.activeHandleID,g=void 0===m?"":m,f=c.getDomain(),_=[],v=0;v<u.length+1;v++){var y=u[v-1],x=u[v];0===v&&!0===o?y={id:"$",value:f[0],percent:0}:v===u.length&&!0===s&&(x={id:"$",value:f[1],percent:100}),y&&x&&_.push({id:"".concat(y.id,"-").concat(x.id),source:y,target:x})}var b=n({getEventData:h,activeHandleID:g,tracks:_,getTrackProps:e});return b&&i.Children.only(b)}}]),n}(i.Component);function X(e,t,n){return Math.min(Math.max(e,t),n)}var J=S((function e(){var t=this;b(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(e){return t.domain=[e[0],e[1]],t},this.setRange=function(e){return t.range=[e[0],e[1]],t},this.setStep=function(e){return t.step=e,t},this.getValue=function(e){var n=E(t.domain,2),i=n[0],r=n[1],o=E(t.range,2),a=o[0],s=o[1],l=t.step,c=(X(e,i,r)-i)/(r-i);return X(l*Math.round(c*(s-a)/l)+a,a<s?a:s,s>a?s:a)}})),Q="undefined"!=typeof window&&"undefined"!=typeof document,ee=function(){},te=[0,100],ne=function(e){P(n,e);var t=j(n);function n(){var e;b(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={step:.1,values:[],domain:te,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},e.slider=i.createRef(),e.onKeyDown=function(t,n){var i=["ArrowRight","ArrowUp"],r=["ArrowDown","ArrowLeft"],o=C(e),a=o.state.handles,s=o.props,l=s.step,c=void 0===l?.1:l,d=s.reversed,u=void 0!==d&&d,p=s.vertical,h=void 0!==p&&p,m=s.domain,g=void 0===m?[0,100]:m,f=t.key||"".concat(t.keyCode);if(i.concat(r).includes(f)){if(h){var _=[r,i];i=_[0],r=_[1]}t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var v=a.find((function(e){return e.key===n}));if(v){var y=v.val,x=y;i.includes(f)?x=function(e,t,n,i){var r=i?e-t:e+t;return i?Math.max(n[0],r):Math.min(n[1],r)}(y,c,g,u):r.includes(f)&&(x=function(e,t,n,i){var r=i?e+t:e-t;return i?Math.min(n[1],r):Math.max(n[0],r)}(y,c,g,u));var b=a.map((function(e){return e.key===n?{key:e.key,val:x}:e}));e.submitUpdate(b,!0)}}},e.onMouseDown=function(t,n){e.onStart(t,n,!1)},e.onTouchStart=function(t,n){z(t)||e.onStart(t,n,!0)},e.getEventData=function(t,n){var i,r=C(e),o=r.state,a=o.pixelToStep,s=o.valueToPerc,l=r.props.vertical;return a.setDomain(M(e.slider.current,l)),n&&t instanceof TouchEvent?i=a.getValue(Z(l,t)):t instanceof MouseEvent&&(i=a.getValue(l?t.clientY:t.pageX)),{value:i,percent:s.getValue(i)}},e.onMouseMove=function(t){var n=C(e),i=n.state,r=i.handles,o=i.pixelToStep,a=i.activeHandleID,s=void 0===a?"":a,l=n.props,c=l.vertical,d=l.reversed,u=void 0!==d&&d;o.setDomain(M(e.slider.current,c));var p=L(r,s,o.getValue(c?t.clientY:t.pageX),u);e.submitUpdate(p)},e.onTouchMove=function(t){var n=C(e),i=n.state,r=i.handles,o=i.pixelToStep,a=i.activeHandleID,s=n.props,l=s.vertical,c=s.reversed;if(null!==o&&!z(t)){o.setDomain(M(e.slider.current,l));var d=L(r,a,o.getValue(Z(l,t)),c);e.submitUpdate(d)}},e.onMouseUp=function(){var t=C(e),n=t.state,i=n.handles,r=void 0===i?[]:i,o=n.activeHandleID,a=t.props,s=a.onChange,l=void 0===s?ee:s,c=a.onSlideEnd,d=void 0===c?ee:c;l(r.map((function(e){return e.val}))),d(r.map((function(e){return e.val})),{activeHandleID:o}),e.setState({activeHandleID:""}),Q&&(document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp))},e.onTouchEnd=function(){var t=C(e),n=t.state,i=n.handles,r=n.activeHandleID,o=t.props,a=o.onChange,s=void 0===a?ee:a,l=o.onSlideEnd,c=void 0===l?ee:l;s(i.map((function(e){return e.val}))),c(i.map((function(e){return e.val})),{activeHandleID:r}),e.setState({activeHandleID:""}),Q&&(document.removeEventListener("touchmove",e.onTouchMove),document.removeEventListener("touchend",e.onTouchEnd))},e}return S(n,[{key:"componentDidMount",value:function(){var e=this.state.pixelToStep,t=this.props.vertical;e.setDomain(M(this.slider.current,t))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){Q&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(e,t,n){var i=this.state.handles,r=this.props.onSlideStart,o=void 0===r?ee:r;n||e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),i.find((function(e){return e.key===t}))?(this.setState({activeHandleID:t}),o(i.map((function(e){return e.val})),{activeHandleID:t}),n?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(e,n))}},{key:"handleRailAndTrackClicks",value:function(e,t){var n,i=this,r=this.state,o=r.handles,a=r.pixelToStep,s=this.props,l=s.vertical,c=s.reversed,d=void 0!==c&&c,u=this.slider;a.setDomain(M(u.current,l)),n=t?a.getValue(Z(l,e)):a.getValue(l?e.clientY:e.pageX);for(var p="",h=1/0,m=0;m<o.length;m++){var g=o[m],f=g.key,_=g.val,v=Math.abs(_-n);v<h&&(p=f,h=v)}var y=L(o,p,n,d);this.setState({activeHandleID:p},(function(){i.submitUpdate(y,!0),t?i.addTouchEvents():i.addMouseEvents()}))}},{key:"addMouseEvents",value:function(){Q&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){Q&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,i=n.mode,r=void 0===i?1:i,o=n.step,a=void 0===o?.1:o,s=n.onUpdate,l=void 0===s?ee:s,c=n.onChange,d=void 0===c?ee:c,u=n.reversed,p=void 0!==u&&u,h=this.state.valueToStep.getValue;this.setState((function(n){var i=n.handles,o=[];if("function"==typeof r)o=r(i,e,a,p,h),m()(Array.isArray(o),"Custom mode function did not return an array.");else switch(r){case 1:o=function(e,t){return t}(0,e);break;case 2:o=function(e,t){for(var n=0;n<e.length;n++){if(e[n].key!==t[n].key)return e;if(t[n+1]&&t[n].val===t[n+1].val)return e}return t}(i,e);break;case 3:o=B(i,e,a,p,h);break;default:o=e,m()(!1,"".concat(R," Invalid mode value."))}return l(o.map((function(e){return e.val}))),t&&d(o.map((function(e){return e.val}))),{handles:o}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.handles,r=t.valueToPerc,o=t.activeHandleID,a=this.props,s=a.className,l=a.rootStyle,c=void 0===l?{}:l,d=a.rootProps,u=void 0===d?{}:d,p=a.component,h=void 0===p?"div":p,m=a.disabled,g=void 0!==m&&m,f=a.flatten,_=void 0!==f&&f,v=n.map((function(e){var t=e.key,n=e.val;return{id:t,value:n,percent:r.getValue(n)}})),y=i.Children.map(this.props.children,(function(t){return!0===function(e){if(!(0,i.isValidElement)(e))return!1;var t=e.type,n=t?t.name:"";return n===K.name||n===$.name||n===V.name||n===Y.name}(t)?i.cloneElement(t,{scale:r,handles:v,activeHandleID:o,getEventData:e.getEventData,emitKeyboard:g?ee:e.onKeyDown,emitMouse:g?ee:e.onMouseDown,emitTouch:g?ee:e.onTouchStart}):t}));return _?i.createElement(i.Fragment,null,i.createElement(h,x(x({},u),{},{style:c,className:s,ref:this.slider})),y):i.createElement(i.Fragment,null,i.createElement(h,x(x({},u),{},{style:c,className:s,ref:this.slider}),y))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,i,r=e.step,o=void 0===r?.1:r,a=e.values,s=e.domain,l=void 0===s?te:s,c=e.reversed,d=void 0!==c&&c,u=e.onUpdate,p=void 0===u?ee:u,h=e.onChange,g=void 0===h?ee:h,f=e.warnOnChanges,_=void 0!==f&&f,v=t.valueToPerc,y=t.valueToStep,x=t.pixelToStep,b={};if(v&&y&&x||(v=new W,y=new J,x=new J,b.valueToPerc=v,b.valueToStep=y,b.pixelToStep=x),t.domain===te||null===t.step||null===t.domain||null===t.reversed||o!==t.step||l[0]!==t.domain[0]||l[1]!==t.domain[1]||d!==t.reversed){var w=E(l,2),S=w[0],I=w[1];y.setStep(o).setRange([S,I]).setDomain([S,I]),!0===d?(v.setDomain([S,I]).setRange([100,0]),x.setStep(o).setRange([I,S])):(v.setDomain([S,I]).setRange([0,100]),x.setStep(o).setRange([S,I])),m()(I>S,"".concat(R," Max must be greater than min (even if reversed). Max is ").concat(I,". Min is ").concat(S,"."));var P=N(a||t.values,d,y,_),T=P.handles;(P.changes||void 0===a||a===t.values)&&(p(T.map((function(e){return e.val}))),g(T.map((function(e){return e.val})))),b.step=o,b.values=a,b.domain=l===te?A(l):l,b.handles=T,b.reversed=d}else if(n=a,i=t.values,!(n===i||n.length===i.length&&n.reduce(function(e){return function(t,n,i){return t&&e[i]===n}}(i),!0))){var k=N(a,d,y,_),C=k.handles;k.changes&&(p(C.map((function(e){return e.val}))),g(C.map((function(e){return e.val})))),b.values=a,b.handles=C}return Object.keys(b).length?b:null}}]),n}(i.PureComponent),ie=n(643010),re=n(892819),oe=n(780280);const ae=({domain:[e,t],handle:{id:n,value:i,percent:r},getHandleProps:o,touched:a,activeHandleID:s})=>(0,u.jsx)("div",{"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":i,role:"slider",style:{left:`${r}%`,position:"absolute",marginLeft:"-11px",marginTop:"-5px",border:"1px solid white",zIndex:2,width:15,height:15,cursor:"pointer",borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.2)",backgroundColor:"black",transform:a&&s===n?"scale(2)":""},...o(n)}),se=({source:e,target:t,getTrackProps:n,backgroundColor:i})=>(0,u.jsx)("div",{style:{position:"absolute",height:5,zIndex:1,backgroundColor:i||"black",borderRadius:7,cursor:"pointer",left:`${e.percent}%`,width:t.percent-e.percent+"%"},...n()});const le=function({cropSource:e,currencyType:t,minPrice:n,maxPrice:s,lowerBound:c,upperBound:d,handlePriceChange:p}){const h=(0,a.ZP)(),m=(0,re.Z)(),g=(0,o.Z)(),{locale:f}=(0,oe.B)(),_={position:"absolute",width:"100%",height:5,borderRadius:7,cursor:"pointer",backgroundColor:(0,ie.Yc)()?"#454545":"lightGrey"},v=[Math.ceil(c),Math.ceil(d)],y=[Math.ceil(n),Math.ceil(s)],[x,b]=(0,i.useState)([!1,!1]);(0,i.useEffect)((()=>{g({event_type:120,component:13468,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,l.Z)(e)})}})}),[]);const w={currency:t,style:"currency",minimum_fraction_digits:0,maximum_fraction_digits:2};return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(r.xu,{paddingY:4,children:(0,u.jsx)(r.xv,{children:h._('Price range', 'FeedFiltering.PriceFilter.PriceRange', 'Area that lists the price slider')})}),(0,u.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3,children:[(0,u.jsx)(r.xv,{weight:"bold",children:(0,u.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:x[0]?"translateZ(0) translateY(0) scale(1.25)":""}},children:m(f,y[0],w)})}),(0,u.jsx)(r.xv,{weight:"bold",children:(0,u.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:x[1]?"translateZ(0) translateY(0) scale(1.25)":"",textAlign:"right"}},children:m(f,y[1],{...w,uplimit:d})})})]},"priceSliderValues"),(0,u.jsxs)(ne,{domain:v,mode:2,onChange:()=>{b([!1,!1])},onUpdate:e=>{p(e);const[t,n]=y,[i,r]=e;t!==i?b([!0,!1]):n!==r&&b([!1,!0])},rootStyle:{margin:"5%",position:"relative",width:"90%"},step:1,values:y,children:[(0,u.jsx)($,{children:({getRailProps:e})=>(0,u.jsx)("div",{style:_,...e()})}),(0,u.jsx)(K,{children:({handles:e,getHandleProps:t,activeHandleID:n})=>(0,u.jsx)("div",{className:"slider-handles",children:e.map(((e,i)=>(0,u.jsx)(ae,{activeHandleID:n,domain:v,getHandleProps:t,handle:e,touched:x[i]},e.id)))})}),(0,u.jsx)(Y,{left:!1,right:!1,children:({tracks:e,getTrackProps:t})=>(0,u.jsx)("div",{className:"slider-tracks",children:e.map((({id:e,source:n,target:i})=>(0,u.jsx)(se,{getTrackProps:t,source:n,target:i,backgroundColor:(0,ie.Yc)()?"white":"black"},e)))})})]}),(0,u.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginTop:12,children:(0,u.jsx)(r.xv,{children:h._('Drag to change price', 'FeedFiltering.PriceFilter.PriceDragText', 'Area that instructs how to use price slider')})})]})};function ce({domains:e,prices:t}){return!(!e||""===e)||!!(t&&t.length>0)}function de(e){return e?e.filter((e=>e.selected)).map((e=>e.domain)).join(","):null}function ue({minPrice:e,maxPrice:t,priceFilters:n}){const{min_value:i,suggested_max_value:r}=n||{};return e!==i||t!==r?[e,t]:[]}function pe({currentPrice:e,currencyType:t,lowerBound:n,upperBound:i,handlePriceChange:r,cropSource:o}){const a=e[0],s=e[1];return(0,u.jsx)(le,{cropSource:o,currencyType:t,handlePriceChange:r,lowerBound:n,maxPrice:s,minPrice:a,upperBound:i})}const he=function({cropSource:e,initialProductFilters:t,pinId:n,productFilters:s,submitFilters:l,updateShowIndicator:c}){const d=(0,a.ZP)(),h=(0,o.Z)(),{domainFilters:m}=s,{priceFilters:g}=s,{min_value:f,suggested_max_value:_,currency_type:v}=g||{},y=null==t?void 0:t.domains;let x=[];y&&(x=y.split(",")),m&&m.forEach((e=>{e.selected=x.includes(e.domain)}));const[b,w]=(null==t?void 0:t.prices)||[],S=b||f,I=w||_,[P,T]=(0,i.useState)(m),[k,C]=(0,i.useState)([S,I]);return(0,i.useEffect)((()=>{T(m),C([S,I]);const e={domains:de(m)||"",prices:ue({minPrice:S,maxPrice:I,priceFilters:g})};c(ce(e))}),[m,S,I]),(0,u.jsxs)(i.Fragment,{children:[(0,u.jsxs)(r.xu,{children:[g&&Object.values(g).length>0&&(0,u.jsx)(pe,{cropSource:e,currencyType:v,currentPrice:k,handlePriceChange:e=>{C(e)},lowerBound:f,upperBound:_}),P&&(0,u.jsx)(p,{cropSource:e,domainFilters:P,handleDomain:e=>{if(!P)return;const t=!P[e].selected,n=[...P.slice(0,e),{...P[e],selected:t},...P.slice(e+1)];T(n)},pinId:n})]}),(0,u.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,u.jsx)(r.zx,{color:"red",onClick:()=>{h({event_type:102,view_parameter:3396,view_type:72,element:11546});const e=de(P)||"",[t,n]=k,i={domains:e,prices:ue({minPrice:t,maxPrice:n,priceFilters:g})};l(i),c(ce(i))},size:"lg",text:d._('Confirm', 'FeedFilterContainer.FeedFiltering.ConfirmButton', 'Confirms filter selection'),type:"submit"})})]})},me=({heading:e,onDismiss:t,onReset:n})=>{const i=(0,a.ZP)();return(0,u.jsx)(r.xu,{children:(0,u.jsxs)(r.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,u.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(r.hU,{accessibilityLabel:i._('Close', 'SlidingModal.FeedFilterContainer.IconButton', 'Close filters menu'),icon:"cancel",onClick:t,padding:5,size:"lg",iconColor:"gray"})}),(0,u.jsx)(r.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,u.jsx)(r.xv,{align:"center",weight:"bold",children:e})}),(0,u.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginRight:15}},display:"flex",children:(0,u.jsx)(r.zx,{fullWidth:!0,onClick:n,text:i._('Reset', 'SlidingModal.FeedFilterContainer.ResetButton', 'Reset filters')})})]})})};const ge=function({closeFiltersModal:e,cropSource:t,initialProductFilters:n,isOpen:c,pinId:d,productFilters:p,submitFilters:h,updateShowIndicator:m}){const g=(0,a.ZP)(),f=(0,o.Z)();return(0,i.useEffect)((()=>{f({event_type:13,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,l.Z)(t)})}})}),[]),(0,u.jsx)(r.xu,{marginEnd:2,children:(0,u.jsxs)(s.Z,{allowClickAndDrag:!0,isOpen:c,accessibilityModalLabel:g._('Filters', 'flashlightPage.slidingModal.accessibilityModalLabel', 'Modal label for product filters'),children:[(0,u.jsx)(me,{heading:g._('Filters', 'flashlightPage.slidingModal.heading', 'heading for this mobile modal'),onDismiss:e,onReset:()=>{h({domains:"",prices:[]}),m(!1),e(),f({event_type:102,view_parameter:3396,view_type:72,element:11545})}}),(0,u.jsx)(r.xu,{paddingX:5,paddingY:5,children:(0,u.jsx)(he,{cropSource:t,initialProductFilters:n,productFilters:p,pinId:d,submitFilters:({domains:t,prices:n})=>{h({domains:t,prices:n}),e()},updateShowIndicator:m})})]})})}},163321:(e,t,n)=>{n.d(t,{Z:()=>g,e:()=>p});var i=n(702664),r=n(240684),o=n(883119),a=n(332611),s=n(131108),l=n(599997),c=n(46584),d=n(785893);const u=(0,r.ZP)({resolved:{},chunkName:()=>"storyPins-duplo-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(67631),n.e(19596)]).then(n.bind(n,881999)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 881999}}),p=Object.freeze({white:"inverse",black:"default"}),h={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function m({titleText:e,videoPin:t,videoPlaceholderImage:n}){return(0,d.jsx)(u,{fallback:(0,d.jsx)(o.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:n||t.metadata.thumbnail}),aspectRatio:l.q4,controls:!1,poster:n||t.metadata.thumbnail,src:t.url})}function g({buttonAction:e,buttonCustomization:t,buttonText:n,experience:r,hideCompleteButton:u,imageAlt:p,imageUrl:g,openNewTab:f,storyType:_,titleText:v,titleTextColor:y,titleTextCustomization:x,videoPin:b,videoPlaceholderImage:w}){var S;const I=(0,i.useDispatch)(),{experience_id:P,placement_id:T}=r||{},k=(0,c.Z)({onVisibilityChanged:e=>{e&&r&&"viewed"!==r.status&&(r.status="viewed",I((0,a.UT)(T,P,!1,!0)))}}),C=(0,l.zn)(_),j=C?s.f8:s.hm,E=C?s.sH:s.HI,A=!C,{color:F,fontStyle:D,fontWeight:R,horizontalAlignment:O,fontSize:L}=(0,l.Mf)(x||{},"mweb"),{button_background_color:M,button_text_color:z}=t||{};return(0,d.jsx)(o.xu,{position:"relative",padding:1,marginBottom:2,ref:k,children:(0,d.jsxs)(o.rU,{accessibilityLabel:v,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),r&&I((0,a.CK)(T,P,!1,!0))},target:f?"blank":null,children:[(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,d.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,d.jsx)(o.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===_&&b?(0,d.jsx)(m,{titleText:v,videoPin:b,videoPlaceholderImage:w}):g&&(0,d.jsx)(o.Ee,{alt:p||v||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:g,fit:"cover"})}),A&&(0,d.jsx)(o.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:h.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,d.jsx)(j,{children:(0,d.jsx)(o.xv,{align:O,color:y,italic:"italics"===D,weight:R,children:(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(S=F||y)&&void 0!==S?S:void 0,fontSize:L}},children:v})})})]})}),!u&&(0,d.jsx)(E,{children:(0,d.jsx)(o.xu,{display:"flex",rounding:"pill",color:C?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:M}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,d.jsx)(o.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{color:z}},children:n})})})})]})})}},706794:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),r=n(702664),o=n(883119),a=n(773285),s=n(19121),l=n(861411),c=n(350118),d=n(491563),u=n(785893);const p=43,h=2;function m({slotIndex:e,storyId:t,exactMatch:n=!1}){const{isAuth:m}=(0,s.Z)(),{checkExperiment:g}=(0,a.F)(),f=(0,c.S6)(),{action:_,aux_fields:v,objects:y,story_type:x,title:b}=(0,r.useSelector)((({stories:e})=>e[t])),w=y[0].id,S=y.slice(1,3).map((({id:e})=>f(e)));return!n&&S.length<2?null:g(m?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(l.qS,{auxData:{content_ids:S.map((e=>null==e?void 0:e.id)),story_id:t,story_type:x,...v},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:p,viewType:h,children:({impressionTrackerRef:e})=>(0,u.jsxs)(o.xu,{ref:e,children:[b&&(0,u.jsx)(o.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(o.xv,{align:"center",children:b.format})}),(0,u.jsx)(d.Z,{action:_,auxData:v,isPinnerAuthorityHero:n,userId:w,userPins:n?void 0:S,userSearchRepStyle:n,viewParameter:p,viewType:h})]})}):(0,u.jsx)(l.Hs,{auxData:{content_ids:S.map((e=>null==e?void 0:e.id)),story_id:t,story_type:x,...v},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:p,viewType:h,children:(0,u.jsxs)(i.Fragment,{children:[b&&(0,u.jsx)(o.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(o.xv,{align:"center",children:b.format})}),(0,u.jsx)(d.Z,{action:_,auxData:v,isPinnerAuthorityHero:n,userId:w,userPins:n?void 0:S,userSearchRepStyle:n,viewParameter:p,viewType:h})]})})}},687866:(e,t,n)=>{n.d(t,{UG:()=>h,ZP:()=>g,aG:()=>m});var i=n(667294),r=n(883119),o=n(116303),a=n(898781),s=n(940882),l=n(52022),c=n(57791),d=n(785893);const u=12,p=24,h={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},m={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function g({backgroundColor:e,bubbleId:t,bubbleUrl:n,coverImageUrl:g,curator:f,font:_,format:v,height:y,identifierIconType:x,onTap:b,pwtSurfaceContext:w,referringSource:S,subtitle:I,title:P,buttonFormat:T,contentAlign:k="center",textAlign:C="center",width:j="100%"}){const E=(0,a.ZP)(),A=(0,l.Z)(),[F,D]=(0,i.useState)("string"==typeof y?void 0:y),R=e=>{if(e){const t=e.offsetWidth,n="string"==typeof y?Number.parseFloat(y):100;D(t*n/100)}};if(!F)return(0,d.jsx)(r.xu,{ref:R,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof y?Number.parseFloat(y)+"%":"100%",width:j}}});const O=v===h.article,L=v===h.interest,M=_||F>250&&"lg"||F>140&&v&&[h.medium,h.small,h.article].includes(v)&&"md"||F<120&&v&&v===h.small&&"xs"||"sm";return(0,d.jsx)(r.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":S,children:(0,d.jsx)(c.MZ,{to:n,isAppUpsellDisabled:!0,onTouch:()=>{b&&(A({action:"click",item:"search-suggestion"}),b(t))},rounding:4,children:(0,d.jsxs)(r.zd,{rounding:4,children:[(0,d.jsx)(r.xu,{width:j,height:F,children:g&&(0,d.jsx)(r.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{w&&w.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:g})}),(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:m.bubbleOverlay,height:F,width:j,position:"absolute",top:!0,left:!0}),f&&!O&&(0,d.jsx)(r.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,d.jsx)(o.Z,{outline:!0,size:"xs",src:f.image_small_url,name:f.full_name})}),!!x&&x!==s.J&&(0,d.jsx)(r.xu,{alignItems:"center",color:"default",display:"flex",height:p,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:p,children:(0,d.jsx)(r.JO,{icon:(0,s.Z)(x),accessibilityLabel:E._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:u})}),(0,d.jsx)(r.xu,{display:"flex",position:"absolute",top:!0,width:j,height:F,padding:O||L?6:F>100?3:1,alignItems:O||L?"end":"center",justifyContent:k,children:(0,d.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[I&&(0,d.jsx)(r.xv,{align:C,color:"light",size:"lg"===M?"300":"100",overflow:"normal",children:I}),["lg","md"].includes(M)?(0,d.jsx)(r.X6,{align:C,size:"md"===M&&L?"500":"lg"===M?"600":"400",color:"light",overflow:"normal",children:P}):(0,d.jsx)(r.xv,{align:C,color:"light",size:"sm"===M?"300":"100",overflow:"normal",weight:"bold",children:P}),f&&O&&(0,d.jsxs)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,d.jsx)(r.xu,{marginEnd:2,children:(0,d.jsx)(o.Z,{outline:!0,size:"xs",src:f.image_small_url,name:f.full_name})}),(0,d.jsx)(r.xv,{size:"100",color:"light",weight:"bold",children:f.full_name})]}),T&&(0,d.jsx)(r.xu,{marginTop:4,children:(0,d.jsx)(r.zx,{role:"link",text:T.text,href:T.href,size:T.size,accessibilityLabel:T.accessibilityLabel})})]})})]})})})}},368156:(e,t,n)=>{n.d(t,{Z:()=>v});var i,r=n(667294),o=n(702664),a=n(167912),s=n(883119),l=n(112690),c=n(934494),d=n(940882),u=n(149230),p=n(861411),h=n(30439),m=n(785893);const g=void 0!==i?i:i=n(16143);function f({auxData:e,pattern:t,slotIndex:n,storyId:i,viewType:o,viewParameter:a,storyData:{storyType:c,referringSource:g,hasTitle:f,titleFormat:_,identifierIconName:v,actionUrl:y,actionText:x,bubblesData:b,storyGraphqlRef:w}}){const S=(0,l.Z)(),I={story_type:c,story_id:i,content_ids:b.map((({type:e,id:t})=>e+":"+t)).join("|"),...e};return(0,m.jsx)(p.Hs,{loggingId:i,objectIdStr:i,viewParameter:a,viewType:o,slotIndex:n,component:200,auxData:I,children:(0,m.jsxs)(r.Fragment,{children:[f&&(0,m.jsxs)(s.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof v&&v!==d.J&&(0,m.jsx)(s.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,m.jsx)(s.JO,{accessibilityLabel:"",color:"default",icon:(0,d.Z)(v),size:14})}),(0,m.jsx)(s.xv,{weight:"bold",children:_})]}),(0,m.jsx)(h.Z,{pattern:t,referringSource:g,storyId:i,viewParameter:a,viewType:o,storyGraphqlRef:w}),y&&x&&(0,m.jsx)(s.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,m.jsx)(s.zx,{role:"link",accessibilityLabel:x,color:"gray",onClick:()=>{S({view_type:o,view_parameter:a,aux_data:I,event_type:102})},text:x,href:y,rel:(0,u.Z)(y)?"nofollow":void 0,target:(0,u.Z)(y)?"blank":void 0,size:"md"})})]})})}const _=(0,c.Z)({useGraphQLAdapter:({storyGraphqlRef:e})=>{const t=(0,a.useFragment)(g,e),{storyType:n,storyTitle:i,referringSource:r,displayOptions:o,action:s,objects:l}=t,c=null==o?void 0:o.identifierIconName;return{storyType:n,referringSource:r,hasTitle:!!i,titleFormat:null==i?void 0:i.format,identifierIconName:c,actionUrl:null==s?void 0:s.url,actionText:(null==s?void 0:s.text)||void 0,bubblesData:(null==l?void 0:l.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||""}))).filter(Boolean))||[],storyGraphqlRef:t}},useLegacyAdapter:({storyId:e})=>{const t=(0,o.useSelector)((({stories:t})=>t[e])),{story_type:n,referring_source:i,title:r,display_options:a,action:s,objects:l}=t,c=l.map((e=>e.id))||[],d=(0,o.useSelector)((({articles:e})=>c.map((t=>{const n=e[t];return{type:n.type,id:n.id}}))));return{storyType:n,referringSource:i,hasTitle:!!r,titleFormat:null==r?void 0:r.format,identifierIconName:null==a?void 0:a.identifier_icon_name,actionUrl:null==s?void 0:s.url,actionText:null==s?void 0:s.text,bubblesData:d}}});function v({storyGraphqlRef:e,storyId:t,...n}){return(0,m.jsx)(_,{input:e?{enabled:!0,data:{storyGraphqlRef:e}}:{enabled:!1,data:{storyId:t}},children:({data:e})=>(0,m.jsx)(f,{...n,storyId:t,storyData:e})})}},30439:(e,t,n)=>{n.d(t,{Z:()=>m});var i,r=n(702664),o=n(167912),a=n(883119),s=n(934494),l=n(687866),c=n(936819),d=n(785893);const u=void 0!==i?i:i=n(165103);function p({storyData:{storyType:e,bubblesData:t},onTouch:n,pattern:i=[l.UG.medium],pwtSurfaceContext:r,referringSource:o,storyId:s,viewParameter:u,viewType:p}){const h=t.map((({type:e,id:t})=>e+":"+t)).join("|");return(0,d.jsx)(a.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:t.map(((t,m)=>{var g;const f=i[m%i.length];return(0,d.jsx)(a.xu,{paddingY:1,width:[l.UG.small,l.UG.extra_small].includes(f)?"calc(50% - 4px)":"100%","data-test-id":`bubble-${m}`,children:(0,d.jsx)(c.ZP,{auxData:{content_ids:h,story_type:e,grid_index:m},bubbleId:t.id,format:f,height:([l.UG.medium,l.UG.extra_small].includes(f)?"50%":f===l.UG.article&&"73%")||"100%",onTouch:n,pwtSurfaceContext:r,referringSource:o,slotIndex:m,storyId:s,viewParameter:u,viewType:p,bubbleGraphqlRef:"ExploreArticle"===(null===(g=t.bubbleGraphqlRef)||void 0===g?void 0:g.__typename)?t.bubbleGraphqlRef:null})},`bubble-${m}`)}))})}const h=(0,s.Z)({useGraphQLAdapter:({storyGraphqlRef:e})=>{var t;const n=(0,o.useFragment)(u,e);return{storyType:n.storyType,bubblesData:(null===(t=n.objects)||void 0===t?void 0:t.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||"",bubbleGraphqlRef:e}))).filter(Boolean))||[]}},useLegacyAdapter:({storyId:e})=>{const t=(0,r.useSelector)((({stories:t})=>t[e])),n=t.objects.map((e=>e.id))||[],i=(0,r.useSelector)((({articles:e})=>n.map((t=>{const n=e[t];return{id:n.id,type:n.type}}))));return{storyType:t.type,bubblesData:i}}});function m({storyGraphqlRef:e,storyId:t,...n}){return(0,d.jsx)(h,{input:e?{enabled:!0,data:{storyGraphqlRef:e}}:{enabled:!1,data:{storyId:t}},children:({data:e})=>(0,d.jsx)(p,{...n,storyId:t,storyData:e})})}},936819:(e,t,n)=>{n.d(t,{Bp:()=>v,VM:()=>_,ZP:()=>x});var i,r=n(702664),o=n(167912),a=n(613316),s=n(112690),l=n(934494),c=n(773285),d=n(826067),u=n(19121),p=n(861411),h=n(687866),m=n(785893);const g=void 0!==i?i:i=n(902856),f=({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:r,title:o})=>{const s=null!=e&&(0,a.y)(e),l=(0,d.XP)({q:t,rs:n||void 0,b_id:i,source_id:r}),c=s&&o?(0,a.x)({title:o,id:i,articleType:"discover"}):`/discover/article/${i}/`;return s?c:"/search/pins/"+(l?"?"+l:"")},_=e=>{var t,n,i,r,o,a,s,l,c;return{actionUrl:null===(t=e.action)||void 0===t?void 0:t.url,coverImage236xUrl:null===(n=e.cover_images[0]["236x"])||void 0===n?void 0:n.url,coverImage474xUrl:null===(i=e.cover_images[0]["474x"])||void 0===i?void 0:i.url,coverImage136x136Url:null===(r=e.cover_images[0]["136x136"])||void 0===r?void 0:r.url,coverImage170xUrl:null===(o=e.cover_images[0]["173x"])||void 0===o?void 0:o.url,coverImage222xUrl:null===(a=e.cover_images[0]["222x"])||void 0===a?void 0:a.url,coverImage90x90Url:null===(s=e.cover_images[0]["90x90"])||void 0===s?void 0:s.url,curatorFullName:null===(l=e.curator)||void 0===l?void 0:l.full_name,curatorImageSmallUrl:null===(c=e.curator)||void 0===c?void 0:c.image_small_url,dominantColors:e.dominant_colors,id:e.id,identifierIconType:e.identifier_icon_type,storyCategory:e.story_category,titleFormat:e.title.format}};function v({auxData:e,bubbleData:{actionUrl:t,coverImage236xUrl:n,coverImage474xUrl:i,coverImage136x136Url:r,coverImage170xUrl:o,coverImage222xUrl:a,coverImage90x90Url:l,curatorFullName:d,curatorImageSmallUrl:g,dominantColors:_,id:v,identifierIconType:y,storyCategory:x,titleFormat:b},font:w,format:S,height:I,onTouch:P,pwtSurfaceContext:T,referringSource:k,slotIndex:C,storyId:j,viewParameter:E,viewType:A,width:F="100%"}){const D=(0,s.Z)(),R=(0,u.Z)(),{checkExperiment:O}=(0,c.F)();if(!((n||i||r||o||a||l)&&b))return null;const L=d&&g?{full_name:d,image_small_url:g}:void 0,{isAuth:M}=R,z={"236x":n,"474x":i,"136x136":r,"170x":o,"222x":a,"90x90":l};let Z="",N="";if(M&&5===A){Z=O("blp_explore_bubble_image_size").group;const e=Z.split("_");e.length>1&&(N=e[1])}const B=Z.startsWith("enabled")&&N?z[N]:z["474x"]||z["236x"],U=t||f({storyCategory:x,query:b,referringSource:k,bubbleId:v,storyId:j,title:b}),H=S===h.UG.article?13865:200,$=S===h.UG.article?102:6940,K=_&&_.length?_[0]:void 0;return(0,m.jsx)(p.fv,{auxData:{story_id:j,...e},impressionData:{storyCategory:x,storyIdStr:j},impressionType:"articleImpressions",loggingId:j,slotIndex:C,viewParameter:E,viewType:A,children:(0,m.jsx)(h.ZP,{backgroundColor:K,bubbleId:v,bubbleUrl:U,coverImageUrl:B,curator:L,font:w,format:S,height:I,identifierIconType:y,onTap:t=>{D({component:H,event_type:$,object_id_str:t,view_parameter:E,view_type:A,aux_data:{article_id:t,grid_index:C,...e}}),P&&P({query:b})},pwtSurfaceContext:T,referringSource:k,title:b,width:F})})}const y=(0,l.Z)({useGraphQLAdapter:({bubbleGraphqlRef:e})=>{var t,n,i,r,a,s,l,c,d,u;const p=(0,o.useFragment)(g,e);return{actionUrl:null===(t=p.action)||void 0===t?void 0:t.url,coverImage236xUrl:null===(n=p.coverImage236x)||void 0===n?void 0:n[0].url,coverImage474xUrl:null===(i=p.coverImage474x)||void 0===i?void 0:i[0].url,coverImage136x136Url:null===(r=p.coverImage136x136)||void 0===r?void 0:r[0].url,coverImage170xUrl:null===(a=p.coverImage170x)||void 0===a?void 0:a[0].url,coverImage222xUrl:null===(s=p.coverImage222x)||void 0===s?void 0:s[0].url,coverImage90x90Url:null===(l=p.coverImage90x90)||void 0===l?void 0:l[0].url,curatorFullName:null===(c=p.curator)||void 0===c?void 0:c.fullName,curatorImageSmallUrl:null===(d=p.curator)||void 0===d?void 0:d.imageSmallUrl,dominantColors:p.dominantColors,id:p.entityId||"",identifierIconType:p.identifierIconType,storyCategory:p.storyCategory,titleFormat:null===(u=p.articleTitle)||void 0===u?void 0:u.format}},useLegacyAdapter:({bubbleId:e})=>{const t=(0,r.useSelector)((({articles:t})=>t[e]));return _(t)}});function x({bubbleGraphqlRef:e,bubbleId:t,...n}){return(0,m.jsx)(y,{input:e?{enabled:!0,data:{bubbleGraphqlRef:e}}:{enabled:!1,data:{bubbleId:t}},children:({data:e})=>(0,m.jsx)(v,{...n,bubbleData:e})})}},946036:(e,t,n)=>{n.d(t,{q:()=>r,z:()=>i});const i=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"],r="checklist_education_feed_card"},566102:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(730568);const r=({containerTypeIsItemGrid:e,storyType:t})=>"BUBBLE_ONE_COL"===t||e&&!(0,i.Z)({storyType:t})},730568:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(946036);const r=({storyType:e})=>i.z.includes(e)},201155:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(883119),r=n(499128),o=n(898781),a=n(784590),s=n(50286),l=n(785893);const c=28,d=40,u=48,p=48,h=28,m="#696969";function g({ideaPinImages:e}){const t={1:c,2:d,3:u},n=e.map(((e,t)=>{var n,r,o;return(0,l.jsx)(i.xu,{height:p,width:h,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,l.jsx)(i.Ee,{alt:"",src:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",color:m,fit:"cover",naturalHeight:null!==(r=null==e?void 0:e.height)&&void 0!==r?r:1,naturalWidth:null!==(o=null==e?void 0:e.width)&&void 0!==o?o:1})},t)}));return(0,l.jsx)(i.kC,{justifyContent:"center",children:(0,l.jsx)(i.kC,{justifyContent:"start",width:t[e.length],children:n})})}const f=3,_=5e3;function v({handleHide:e,text:t,userId:n,href:c,imageUrl:d}){const u=(0,o.ZP)(),p=(0,s.HG)(),h=(0,a.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),m=Array.isArray(t)?t.join(" "):t;if(0===(h.data||[]).length)return(0,l.jsx)(r.ZP,{duration:_,onHide:e,text:m,href:c,thumbnail:d?{image:(0,l.jsx)(i.Ee,{alt:u._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:d})}:void 0});const v=(h.data||[]).slice(0,f).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[p?"236x":"170x"]})),y=(0,l.jsx)(g,{ideaPinImages:v});return(0,l.jsx)(r.ZP,{href:c,duration:_,onHide:e,_dangerouslySetThumbnail:y,text:m})}},182476:(e,t,n)=>{n.d(t,{Z:()=>S});var i,r=n(702664),o=n(167912),a=n(883119),s=n(780280),l=n(815613),c=n(70090),d=n(898781),u=n(892819),p=n(633083),h=n(785893);const m=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:r,locale:o,nameTextSize:s,renderAsPill:l,showFollowerCount:c,topicName:m,followerCount:g,image:f})=>{var _;const v=(0,d.ZP)(),y=(0,u.Z)(),x=(0,h.jsx)(a.JO,{accessibilityLabel:v._('Selected', ' - ', ' -- '),color:"inverse",icon:i?"check":"check-circle",size:i?12:24});return l?(0,h.jsx)(p.Z,{color:e||"#767676",image:f,isSelected:null!=r&&r,title:m}):(0,h.jsxs)(a.xu,{position:"relative","aria-selected":r,children:[(0,h.jsx)(a.zd,{rounding:i||n?4:2,children:(0,h.jsxs)(a.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,h.jsx)(a.xu,{bottom:!0,left:!0,padding:i&&r?1:0,position:"absolute",right:!0,rounding:i&&r?4:0,top:!0,children:(0,h.jsx)(a.Ee,{alt:m,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(_=f.url)&&void 0!==_?_:""})}),(0,h.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:r?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:i&&r?"4px solid #767676":"none"}},rounding:i?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),i&&r&&(0,h.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),n?(0,h.jsx)(a.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,h.jsx)(a.xv,{align:"center",color:"light",size:s,weight:"bold",children:m})}):(0,h.jsxs)(a.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,h.jsx)(a.xv,{color:"inverse",size:s,weight:"bold",children:m}),c&&g>=0&&(0,h.jsx)(a.xu,{paddingY:1,children:(0,h.jsxs)(a.xv,{color:"inverse",size:"100",children:[(0,h.jsx)(a.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:y(o,g,{shortform:!0,shortform_maximum_fraction_digits:1})}),v._('followers', ' - ', ' -- ')]})})]}),r&&(0,h.jsx)(a.xu,{margin:2,position:"absolute",right:!0,top:!0,children:i?(0,h.jsx)(a.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:x}):x})]})},g=void 0!==i?i:i=n(133132),f=({topicRef:e,...t})=>{var n,i,r,a,s,l;const c=(0,o.useFragment)(g,e),d=c.images?{url:null!==(n=c.images.url)&&void 0!==n?n:"",width:null!==(i=c.images.width)&&void 0!==i?i:0,height:null!==(r=c.images.height)&&void 0!==r?r:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,h.jsx)(m,{backgroundColor:null!==(a=c.background_color)&&void 0!==a?a:"",topicName:null!==(s=c.name)&&void 0!==s?s:"",followerCount:null!==(l=c.follower_count)&&void 0!==l?l:0,image:d,...t})},_=({topic:e,topicBlob:t,topicInfoForContextualExp:n,...i})=>{const r=n||e||t||{},o=r.images["236x"]||r.images["400x"]||r.images["474x"]||r.images.orig||{height:1,url:"",width:1},a=r.follower_count||-1;return(0,h.jsx)(m,{backgroundColor:r.background_color,topicName:r.name,followerCount:a,image:o,...i})};var v;const y=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:o="lg",onTouch:d,padding:u=2,renderAsPill:p,showFollowButton:m=!1,showFollowerCount:g=!1,shouldClickthrough:v=!1,topic:y,viewParameter:x,viewType:b})=>{const w=(0,r.useDispatch)(),{locale:S}=(0,s.B)(),I=(0,h.jsxs)(a.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==y.type?(0,h.jsx)(_,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:S,nameTextSize:o,renderAsPill:p,showFollowerCount:g,topic:y.topic,topicBlob:y.topicBlob,topicInfoForContextualExp:y.topicInfoForContextualExp}):(0,h.jsx)(f,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:S,nameTextSize:o,renderAsPill:p,showFollowerCount:g,topicRef:y.topicRef}),!!y&&m&&(0,h.jsx)(a.xu,{paddingY:2,children:(0,h.jsx)(l.Z,{textType:t?"AddRemove":"FollowFollowing",followEventType:601,id:y.id,invertColors:t,inline:t,isFollowed:y.is_followed,onFollow:e=>w((0,c.ZN)(e)),onUnfollow:e=>w((0,c.fv)(e)),size:"md",unfollowEventType:602,viewParameter:x||void 0,viewType:b||void 0})})]});let P="/";return y&&(P=`/topics/${y.id}`),v&&y.slug?(0,h.jsx)(a.iP,{role:"link",onTap:({event:e})=>{null==d||d(e)},tapStyle:"compress",rounding:2,href:P,children:(0,h.jsx)(a.xu,{padding:u,children:I})}):I},x=void 0!==v?v:v=n(964820),b=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:n,isLego:i,isSelected:r=!1,nameTextSize:a="lg",onTouch:s,padding:l=2,renderAsPill:c,showFollowButton:d=!1,showFollowerCount:u=!1,shouldClickthrough:p=!1,viewParameter:m,viewType:g})=>{var f,_;const v=(0,o.useFragment)(x,e);return(0,h.jsx)(y,{decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:r,nameTextSize:a,onTouch:s,padding:l,renderAsPill:c,showFollowButton:d,showFollowerCount:u,shouldClickthrough:p,viewParameter:m,viewType:g,topic:{id:null!==(f=v.entityId)&&void 0!==f?f:"",type:"graphql",is_followed:null!==(_=v.is_followed)&&void 0!==_&&_,topicRef:v}})},w=({id:e,topic:t,topicBlob:n,topicInfoForContextualExp:i,decreaseNamePadding:o=!1,isHomefeedTuner:a,isLego:s,isSelected:l=!1,nameTextSize:c="lg",onTouch:d,padding:u=2,renderAsPill:p,showFollowButton:m=!1,showFollowerCount:g=!1,shouldClickthrough:f=!1,viewParameter:_,viewType:v})=>{const x=(0,r.useSelector)((({topics:t})=>t[e])),b=null!=t?t:x;return(0,h.jsx)(y,{decreaseNamePadding:o,isHomefeedTuner:a,isLego:s,isSelected:l,nameTextSize:c,onTouch:d,padding:u,renderAsPill:p,showFollowButton:m,showFollowerCount:g,shouldClickthrough:f,viewParameter:_,viewType:v,topic:{id:e,is_followed:!(null==b||!b.is_followed),topic:b,topicBlob:n,topicInfoForContextualExp:i,type:"resource"}})},S=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:r="lg",onTouch:o,padding:a=2,renderAsPill:s,showFollowButton:l=!1,showFollowerCount:c=!1,shouldClickthrough:d=!1,viewParameter:u,viewType:p,...m})=>m.topicRef?(0,h.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:r,onTouch:o,padding:a,renderAsPill:s,showFollowButton:l,showFollowerCount:c,shouldClickthrough:d,viewParameter:u,viewType:p,topicRef:m.topicRef}):(0,h.jsx)(w,{id:m.id,decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:r,onTouch:o,padding:a,renderAsPill:s,showFollowButton:l,showFollowerCount:c,shouldClickthrough:d,topic:m.topic,topicBlob:m.topicBlob,topicInfoForContextualExp:m.topicInfoForContextualExp,viewParameter:u,viewType:p})},116674:(e,t,n)=>{n.d(t,{X:()=>d,f:()=>c});var i=n(667294),r=n(425288),o=n(623568);function a(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var s=n(785893);const{Provider:l,useHook:c}=(0,r.Z)("ReportData");function d({children:e}){const[t,n]=(0,i.useReducer)(a,null),r=(0,i.useCallback)((()=>n({type:"REPORT_CONTENT_DISMISS"})),[]),c=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"aggregatedComment"}})),[]),d=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"conversation"}})),[]),u=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"pin"}})),[]),p=(0,i.useCallback)(((e,t,i)=>{const{id:r,is_downstream_promotion:a,promoter:s,rich_metadata:l,rich_summary:c,videos:d}=e,u=(0,o.VX)(l,c),p=(0,o.jL)(a,!!s);let h;if((0,o.iR)(d)&&d){const{video_list:e={}}=d,t=e[Object.keys(e)[0]];h=t&&t.duration}n({type:"REPORT_CONTENT_SHOW",payload:{id:r,isProduct:u,isPromoted:p,videoDuration:h,viewParameter:t,viewType:i,type:"pin"}})}),[]),h=(0,i.useMemo)((()=>({reportData:t,dismiss:r,reportComment:c,reportConversation:d,reportImage:u,reportPin:p})),[t,r,c,d,u,p]);return(0,s.jsx)(l,{value:h,children:e})}},491563:(e,t,n)=>{n.d(t,{Z:()=>I});var i=n(667294),r=n(702664),o=n(883119),a=n(112690),s=n(116303),l=n(898781),c=n(892819),d=n(349700),u=n(780280),p=n(149230),h=n(57791),m=n(815613),g=n(861411),f=n(461773),_=n(698330),v=n(785893);const y={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},x=({height:e,image:t,width:n})=>{var i,r,a;const s=(0,l.ZP)();return(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,v.jsxs)(o.xu,{position:"relative",children:[(0,v.jsx)(o.GH,{width:n,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,v.jsx)(o.Ee,{alt:s._('pin image', 'alt text for pin image', 'alt text for pin image'),color:t.dominant_color||void 0,naturalWidth:null!==(i=t.width)&&void 0!==i?i:1,naturalHeight:null!==(r=t.height)&&void 0!==r?r:1,src:null!==(a=t.url)&&void 0!==a?a:""})}),(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:y,height:e,width:n,position:"absolute",top:!0,left:!0})]}):(0,v.jsx)(o.xu,{color:"secondary",width:n,height:e})})};var b=n(865673);const w=60,S=117;function I({action:e,auxData:t,isPinnerAuthorityHero:n=!1,userSearchRepStyle:y=!1,onFollowUser:I,onUnfollowUser:P,userId:T,userPins:k,viewParameter:C,viewType:j,truncateName:E=!1}){const A=(0,l.ZP)(),F=(0,c.Z)(),D=(0,r.useDispatch)(),{locale:R}=(0,u.B)(),O=(0,a.Z)(),[L,M]=(0,i.useState)(y?window.innerWidth-16:null),z=(0,_.mN)()(T);if(!z)return null;const{contextual_pin_image_urls:Z,explicitly_followed_by_me:N,follower_count:B=0,full_name:U,image_medium_url:H,is_verified_merchant:$,recent_pin_images:K,username:W,verified_identity:G}=z,V=e=>L?(L-(e-1))/e:0,q=y?1.6*V(4):S,Y=(null==k?void 0:k.map((e=>{var t;return null==e||null===(t=e.images)||void 0===t?void 0:t["236x"]})))||[],X=(null==K?void 0:K["222x"])||(null==K?void 0:K["192x"])||[];let J=(null==Z?void 0:Z["222x"])||(null==Z?void 0:Z["192x"])||[];n&&0===J.length&&(J=X);const Q=y&&J.length<=0;let ee=y?J.concat(X).slice(0,4):Y.concat(X).slice(0,2);0===ee.length&&(ee=[void 0,void 0]);const te=!Q&&(L?(0,v.jsx)(o.zd,{rounding:4,children:(0,v.jsx)(o.kC,{children:ee.map(((e,t)=>(0,v.jsx)(x,{height:q,image:e,width:V(ee.length)},`pinImage-${t}`)))})}):(0,v.jsx)(o.xu,{height:q,ref:e=>{e&&M(e.offsetWidth)},width:"100%"})),ne=e=>(0,v.jsx)(o.kC,{justifyContent:"center",children:(0,v.jsx)(o.xu,{marginTop:e,height:w,width:w,children:(0,v.jsx)(s.Z,{outline:!0,name:null!=U?U:"",src:null!=H?H:""})})}),ie=e=>(0,v.jsxs)(o.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,v.jsx)(o.kC,{alignItems:"stretch",maxWidth:(y?(L||0)/2:L)||void 0,children:(0,v.jsx)(o.xv,{align:e,weight:"bold",lineClamp:E?1:void 0,children:$||null!=G&&G.verified?(0,v.jsx)(b.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=U?U:"",verifiedType:$?"verifiedMerchant":"verifiedIdentity",truncate:E}):U})}),(0,v.jsx)(o.xv,{inline:!0,size:"100",align:e,children:(0,d.nk)(A.ngettext('{{followers}} follower', '{{followers}} followers', B, 'PinnerAuthority.followersCount', 'Count of a user\'s followers'),{followers:F(R,B,{shortform:!0})})})]}),re=(0,v.jsx)(o.kC,{justifyContent:"center",children:e&&e.url?(0,v.jsx)(o.zx,{role:"link",accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{O({event_type:9029,object_id_str:T,view_type:j,view_parameter:C,aux_data:t})},rel:(0,p.Z)({url:e.url})?"nofollow":void 0,target:(0,p.Z)({url:e.url})?"blank":void 0}):(0,v.jsx)(m.Z,{id:T,isSecondaryButton:!0,isFollowed:N,onFollow:e=>{I&&I(),D((0,f.ZN)(e))},onUnfollow:e=>{P&&P(),D((0,f.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:C,viewType:j})});return(0,v.jsx)(g.Cy,{loggingId:T,objectIdStr:T,slotIndex:0,viewParameter:C,viewType:j,children:({impressionTrackerRef:e})=>(0,v.jsx)(o.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,v.jsx)(h.MZ,{to:`/${W}/`,onTouch:()=>{O({event_type:43,object_id_str:T,view_parameter:C,view_type:j})},children:(0,v.jsxs)(o.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[te,y?(0,v.jsx)(o.xu,{width:"100%",children:(0,v.jsxs)(o.kC,{justifyContent:"between",alignItems:"center",children:[(0,v.jsxs)(o.kC,{alignItems:"center",gap:{row:2,column:0},children:[ne(),ie("start")]}),re]})}):(0,v.jsxs)(o.kC,{direction:"column",gap:{row:0,column:2},children:[ne(-10),ie("center"),re]})]})})})})}},152028:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),r=n(81226),o=n(898781),a=n(785893);const s=24;function l({duration:e}){const t=(0,o.ZP)();return(0,a.jsxs)(i.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:s,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,a.jsx)(i.JO,{accessibilityLabel:t._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,a.jsx)(i.xu,{marginStart:1,children:(0,a.jsx)(i.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,r.Z)(e)})})]})}},926749:(e,t,n)=>{n.d(t,{ZP:()=>I});var i=n(667294),r=n(23279),o=n.n(r),a=n(883119),s=n(407043),l=n(722767),c=n(121630),d=n(944546);function u(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:r,videoEndTime:o,isAudible:a,height:s,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}},component:g,objectId:f,view:_,viewParameter:v,...y}=e;return{component:g,object_id_str:f,view_type:_,view_parameter:v,aux_data:{...y},event_data:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:r,endVideoTime:o,isAudible:a,height:s,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}}}}var p=n(158103),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=[0,.25,.5,.75,.95,.97],f=[0,.5,.8,.99,1],_="-64px 0px 0px 0px",v={rootMargin:_,threshold:f},y={rootMargin:_,threshold:d.iM},x=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function b(){return(new Date).getTime()}function w(e){return!!e.volume&&e.volume>0}class S extends i.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,i.createRef)()),m(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),m(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),m(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),m(this,"handleLoop",(()=>{this.videoTime=0})),m(this,"handleTimeChange",(e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,r=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const r of i){const i=r*n;if(e<=i&&t>i)return r}return null}(this.videoTime,i,this.currentInterval.videoDuration,g);if("number"==typeof r&&this.props.playing&&!t&&n){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*r),quartilePercentValue:r})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)})),m(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),m(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),m(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),m(this,"handleVisibilityChange",(e=>{if(0===e.length)return;const t=e.slice(-1)[0],n=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],r=t[n+1];if(null==r)return i;if(i<=e&&e<r)return i}return null}(Number.parseFloat(t.intersectionRatio.toFixed(2)),f);"number"==typeof n&&(this.visible=n>=.5),null==n||n===this.currentInterval.viewability||this.fullscreen||(0===n?this.startNewInterval({viewability:n,playbackState:x.PAUSED}):this.startNewInterval({viewability:n}))})),m(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),m(this,"handleClose",(()=>{this.startNewInterval()})),m(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=b();this.handleWindowResize=o()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:w(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};w(e)&&!w(this.props)?n.isAudible=!1:!w(e)&&w(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?x.PLAYING:x.PAUSED:x.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:n,contextLogData:i,logContextEvent:r}=this.props,{height:o,width:a,windowHeight:s,windowWidth:l,viewability:c,...d}=t;if(null!=o&&null!=a&&null!=s&&null!=l&&null!=c){const t={...d,height:o,width:a,windowHeight:s,windowWidth:l,viewability:n||c};r({event_type:e,...u({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=b();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:s,aspectRatio:d,backgroundColor:u,captions:m,contextLogData:g,controls:f,cropHeight:_,hlsConfig:x,inAdsDesktopVideoExperiment:b,isAutoPlay:w,loop:S,objectFit:I,onLoadedChange:P,onControlsPause:T,onControlsPlay:k,onSeek:C,onVolumeChange:j,playbackRate:E,playing:A,playsInline:F,poster:D,preload:R,rootMargin:O,src:L,surface:M,videoStartTime:z,volume:Z}=this.props,{seeking:N}=this.state,B=b?y:v;return void 0!==O&&(B.rootMargin=M?(0,c.e)(M):O),(0,h.jsx)(l.Z,{options:B,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(a.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:_?{display:"flex",alignItems:"center",height:`${_}px`}:{}},children:(0,h.jsx)(p.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:s,aspectRatio:_?236/_:d,backgroundColor:u,captions:m,contextLogData:g,controls:f,hlsConfig:x,isAutoPlay:w,loop:S,objectFit:I,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:P,onLoop:this.handleLoop,onControlsPause:T,onControlsPlay:k,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:C,onTimeChange:this.handleTimeChange,onVolumeChange:j,playbackRate:E,playing:!N&&A,onPlay:()=>{},onPlayError:()=>{},playsInline:F,poster:D,preload:R,src:L,videoStartTime:z,visible:this.visible,volume:Z})})})}}function I(e){const{logContextEvent:t}=(0,s.v)();return(0,h.jsx)(S,{...e,logContextEvent:t})}m(S,"defaultProps",a.nk.defaultProps)},140093:(e,t,n)=>{n.d(t,{Z:()=>tn});var i=n(50286),r=n(19121),o=n(167912),a=n(616550),s=n(883119),l=n(934494),c=n(898781),d=n(773285),u=n(42447),p=n(784590),h=n(280446),m=n(667294),g=n(702664),f=n(834911),_=n(737022),v=n(558068),y=n(542554),x=n(276602),b=n(430323),w=n(826067),S=n(829407),I=n(229428),P=n(156637),T=n(604344),k=n(112690),C=n(440011),j=n(785893);function E({pinDominantColor:e,url:t,closeupImageWidth:n,closeupImageHeight:i}){const r=(0,c.ZP)();return(0,j.jsx)(C.Z,{alt:r._('Pin image', 'flashlight.cropper.closeupImage', 'Pin closeup image'),color:e,isFlashlightPage:!0,naturalHeight:i,naturalWidth:n,placeholder:t,showSpinner:!1,src:t})}const A=9,F=24,D=e=>{const{alt:t,src:n,top:i,left:r}=e;return(0,j.jsx)(s.xu,{position:"absolute",height:F,width:F,dangerouslySetInlineStyle:{__style:{top:i,left:r}},children:(0,j.jsx)(s.Ee,{alt:t,color:"transparent",naturalHeight:F,naturalWidth:F,src:n})})};var R=n(604077),O=n.n(R),L=n(777506),M=n.n(L),z=n(641696),Z=n.n(z),N=n(105879),B=n.n(N);const U=2,H={backgroundColor:"#000000",opacity:"0.4"};function $({closeupImage:e,closeupImageDims:t,cropArea:{x:n,y:i,w:r,h:o},disableBorder:a,disableHandles:l,onTouchStart:d,onTouchMove:u,onTouchEnd:p,pinDominantColor:h}){var g;const f=(0,c.ZP)(),_=null!==(g=null==e?void 0:e.url)&&void 0!==g?g:"",{closeupImageWidth:v,closeupImageHeight:y}=t,x=Math.floor(y*i),b=Math.floor(v*n),w=Math.floor(y*o),S=Math.floor(v*r),I=b+S,P=x+w;return(0,j.jsxs)(s.xu,{onTouchMove:u,onTouchStart:d,onTouchEnd:p,position:"relative",children:[(0,j.jsx)(E,{pinDominantColor:h,url:_,closeupImageWidth:v,closeupImageHeight:y}),(0,j.jsxs)(m.Fragment,{children:[(0,j.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:H},height:x,left:!0,position:"absolute",top:!0,width:"100%"}),(0,j.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...H,top:x}},left:!0,height:w,position:"absolute",width:b}),(0,j.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...H,top:x,left:I}},height:w,position:"absolute",right:!0}),(0,j.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...H,top:P}},bottom:!0,left:!0,position:"absolute",width:"100%"})]}),!l&&(0,j.jsxs)(s.xu,{"data-test-id":"CropperHandles",children:[(0,j.jsx)(D,{alt:f._('Top left cropper handle', 'flashlight.cropper.topLeftHandle', 'top left handle for cropping image'),src:Z(),top:x-A,left:b-A}),(0,j.jsx)(D,{alt:f._('Top right cropper handle', 'flashlight.cropper.topRightHandle', 'top right handle for cropping image'),src:B(),top:x-A,left:I-(F-A)}),(0,j.jsx)(D,{alt:f._('Bottom left cropper handle', 'flashlight.cropper.bottomLeftHandle', 'bottom left handle for cropping image'),src:O(),top:P-(F-A),left:b-A}),(0,j.jsx)(D,{alt:f._('Bottom right cropper handle', 'flashlight.Cropper.BottomLeftHandle', 'bottom right handle for cropping image'),src:M(),top:P-(F-A),left:I-(F-A)})]}),(0,j.jsx)(s.xu,{"data-test-id":"CroppedArea",position:"absolute",rounding:2,height:w+2*U,width:S+2*U,dangerouslySetInlineStyle:{__style:{top:x-U,left:b-U,border:a?void 0:`${U}px solid #ffffff`}}})]})}var K=n(391254),W=n(523563),G=n(599611);const V=16,q=32;function Y({auxData:e,style:t,onClick:n,x:i,y:r,viewParameter:o}){const a=(0,c.ZP)(),l=(0,k.Z)(),d=V,u=q;return(0,S.Z)((()=>{l({aux_data:e,event_type:120,element:1260,view_parameter:o,view_type:72})})),(0,j.jsx)("div",{"data-test-id":"dot",onClick:n,onKeyPress:n,role:"button",style:{position:"absolute",top:r-u/2,left:i-u/2,outline:"none",...t},"aria-label":a._('Select a specific item on image', 'dot.accessibilityLabel', 'Accessibility label for <Dot /> component'),tabIndex:"0",children:(0,j.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.1)",width:u,height:u,border:"none",borderRadius:u,cursor:n?"pointer":"default"}},children:(0,j.jsx)(s.xu,{color:"light",position:"absolute",padding:0,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:d,height:d,border:"none",borderRadius:d,top:(u-d)/2,left:(u-d)/2}}})})})}var X=n(100183);const J="flashlightDotPop",Q=(0,X.Ll)([`\n  ${J} {\n      0% {\n          opacity: 0;\n          transform: scale(0);\n      }\n\n      100% {\n          opacity: 1;\n          transform: scale(1);\n      }\n  }\n`,"labelReveal {\n    0% {\n      transform: scale(0, 1)\n    }\n\n    100% {\n      transform: scale(1, 1)\n    }\n  }\n"]),ee=e=>{const t=parseFloat((.1*e).toFixed(2));return{animation:`${J} 0.3s ease-out ${t}s both`}},te=.04;function ne({closeupImageTop:e,cropArea:t,entryPoint:n,imageHeight:i,imageTop:r,imageWidth:o,onDotTap:a,setCropArea:s,shouldUpdateUnifiedFeed:l,viewParameter:c,visualObjects:d}){const u=(0,k.Z)(),p=l?{commerce_data:JSON.stringify({entrypoint:n})}:{},h="shopping"===n?1221:1260;return(0,j.jsxs)(m.Fragment,{children:[(0,j.jsx)(K.Z,{unsafeCSS:Q}),d.map(((n,d)=>{const{x:m=0,y:g=0,w:f=0,h:_=0,is_stela:v,label:y}=n,x={x:m,y:g,h:_,w:f};if((0,W.Z)(t,x,te))return null;const b=(0,G.Z)({cropArea:n,scaledWidth:o,scaledHeight:i}),w=Math.floor(b.x+b.w/2),S=Math.floor(b.y+r+b.h/2)-e,I=ee(d);return(0,j.jsx)(Y,{auxData:p,onClick:function(){u({view_parameter:c,view_type:72,element:h,event_type:102,aux_data:p}),a({cropArea:x,cropSource:v?4:1,label:y,reload:!0,fromUnifiedFeed:l}),null==s||s(x)},style:I,x:w,y:S,viewParameter:c},JSON.stringify(x))}))]})}var ie=n(691720);const re=F/2,oe={OUTSIDE:0,INSIDE:1,LEFT_CROPPER:2,RIGHT_CROPPER:3,TOP_CROPPER:4,BOTTOM_CROPPER:5,TOP_LEFT_HANDLE:6,TOP_RIGHT_HANDLE:7,BOTTOM_LEFT_HANDLE:8,BOTTOM_RIGHT_HANDLE:9,NONE:10};function ae({closeupImage:e,closeupImageDims:t,cropArea:n,entryPoint:i,handleChangeCloseupImageTop:r,handleCropperChange:o,pinDominantColor:a,visualObjects:l,viewParameter:c}){const d=(0,k.Z)(),u=(0,m.useRef)(),[p,h]=(0,m.useState)(0),[g,f]=(0,m.useState)(0),[_,v]=(0,m.useState)(oe.NONE),[y,x]=(0,m.useState)(n),{x:b,y:w,w:S,h:I}=y,{closeupImageTop:P,closeupImageMinTop:T,closeupImageWidth:C,closeupImageHeight:E,minCropperWidthRatio:D,minCropperHeightRatio:R}=t,O={top:P};return(0,j.jsxs)(s.xu,{overflow:"hidden",position:"fixed",dangerouslySetInlineStyle:{__style:O},ref:u,maxWidth:ie.g6,width:"100%",children:[(0,j.jsx)($,{closeupImage:e,closeupImageDims:t,cropArea:y,onTouchEnd:()=>{if(![oe.NONE,oe.OUTSIDE].includes(_)){const e=_===oe.INSIDE?7603:7604;d({event_type:e,view_parameter:c,view_type:72})}o({cropArea:y,cropSource:6,fromUnifiedFeed:!1,reload:!0})},onTouchMove:e=>{const{clientX:t,clientY:n}=e.touches[0];if(h(t),f(n),_===oe.NONE){const e=((e,t)=>{const n=t-P,i=e-(u.current?u.current.getBoundingClientRect().left:0),r=E*w,o=E*(w+I),a=C*b,s=C*(S+b);return n>r+re&&n<o-re&&i>a+re&&i<s-re?oe.INSIDE:i<=a+re&&i>=a-re&&n>=r+(F-A)&&n<=o-(F-A)?oe.LEFT_CROPPER:i<=s+re&&i>=s-re&&n>=r+(F-A)&&n<=o-(F-A)?oe.RIGHT_CROPPER:i<=s-(F-A)&&i>=a+(F-A)&&n>=r-re&&n<=r+re?oe.TOP_CROPPER:i<=s-(F-A)&&i>=a+(F-A)&&n>=o-re&&n<=o+re?oe.BOTTOM_CROPPER:i<=a-A+F&&i>=a-re&&n>=r-re&&n<=r+F-A?oe.TOP_LEFT_HANDLE:i<=s+re&&i>=s-(F-A)&&n>=r-re&&n<=r+F-A?oe.TOP_RIGHT_HANDLE:i<=a-A+F&&i>=a-re&&n>=o-(F-A)&&n<=o+re?oe.BOTTOM_LEFT_HANDLE:i<=s+re&&i>=s-(F-A)&&n>=o-(F-A)&&n<=o+re?oe.BOTTOM_RIGHT_HANDLE:oe.OUTSIDE})(t,n);v(e)}if(null!=D&&null!=R&&null!=T){const e=n-g,i=(t-p)/C,o=e/E,a=Math.min(b+S-D,Math.max(0,b+i)),s=S+(b-a),l=Math.min(w+I-R,Math.max(0,w+o)),c=I+(w-l),d=Math.min(1-b,Math.max(D,S+i)),u=Math.min(1-w,Math.max(R,I+o));switch(_){case oe.OUTSIDE:r(Math.floor(Math.max(T,Math.min(0,P+e))));break;case oe.INSIDE:x((e=>({...e,x:Math.max(0,Math.min(1-S,b+i)),y:Math.max(0,Math.min(1-I,w+o))})));break;case oe.LEFT_CROPPER:x((e=>({...e,x:a,w:s})));break;case oe.RIGHT_CROPPER:x((e=>({...e,w:d})));break;case oe.TOP_CROPPER:x((e=>({...e,y:l,h:c})));break;case oe.BOTTOM_CROPPER:x((e=>({...e,h:u})));break;case oe.TOP_LEFT_HANDLE:x({x:a,w:s,y:l,h:c});break;case oe.TOP_RIGHT_HANDLE:x((e=>({...e,w:d,y:l,h:c})));break;case oe.BOTTOM_LEFT_HANDLE:x((e=>({...e,h:u,x:a,w:s})));break;case oe.BOTTOM_RIGHT_HANDLE:x((e=>({...e,h:u,w:d})))}}},onTouchStart:e=>{const{clientX:t,clientY:n}=e.touches[0];h(t),f(n),v(oe.NONE)},pinDominantColor:a}),!!l.length&&0!==E&&0!==C&&(0,j.jsx)(s.xu,{"data-test-id":"FlashlightDots",children:(0,j.jsx)(ne,{closeupImageTop:P,cropArea:y,entryPoint:i,imageHeight:E,imageTop:P,imageWidth:C,onDotTap:o,setCropArea:x,shouldUpdateUnifiedFeed:!1,viewParameter:c,visualObjects:l})})]})}var se=n(427806);const le=e=>({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}});var ce=n(884183),de=n(422946),ue=n(761881),pe=n(618446),he=n.n(pe);function me({closeupImage:e,closeupImageDims:t,cropArea:n,handleChangeCloseupImageTop:i,handleCropperChange:r,pinDominantColor:o,visualObjects:a,viewParameter:l,viewType:c}){const d=(0,k.Z)(),[u,p]=(0,m.useState)(0),{closeupImageHeight:h,closeupImageWidth:g,closeupImageTop:f}=t;return(0,j.jsxs)(s.xu,{overflow:"hidden",position:"fixed",dangerouslySetInlineStyle:{__style:{top:f}},maxWidth:ie.g6,width:"100%",children:[(0,j.jsx)($,{closeupImage:e,closeupImageDims:t,cropArea:n,disableBorder:!0,disableHandles:!0,onTouchStart:e=>{const{clientY:t}=e.touches[0];p(t)},onTouchMove:e=>{e.preventDefault();const{closeupImageTop:n,closeupImageMinTop:r}=t;if(i&&r){const{clientY:t}=e.touches[0];p(t);const o=t-u;i(Math.floor(Math.max(r,Math.min(0,n+o))))}},onTouchEnd:()=>{d({view_parameter:l,view_type:c,element:11677,event_type:102}),he()(n,{x:0,y:0,h:1,w:1})||r({cropArea:{x:0,y:0,h:1,w:1},cropSource:5,reload:!0,fromUnifiedFeed:!0})},pinDominantColor:o}),!!a.length&&0!==h&&0!==g&&(0,j.jsx)(s.xu,{"data-test-id":"FlashlightDots",children:(0,j.jsx)(ne,{closeupImageTop:f,cropArea:n,entryPoint:"shopping",imageHeight:h,imageTop:f,imageWidth:g,onDotTap:r,shouldUpdateUnifiedFeed:!0,viewParameter:l,visualObjects:a})})]})}var ge=n(643010),fe=n(766935),_e=n(124580),ve=n(780280),ye=n(223815),xe=n(867820),be=n(245376);const we="modalReveal",Se=(0,X.Ll)([`\n  ${we} {\n      0% {\n          transform: translate(0%, 100%);\n      }\n\n      100% {\n        transform: translate(0%, 0%);\n      }\n  }\n`]);var Ie=n(63552),Pe=n(905732);function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ke=()=>{};function Ce({filterIconShown:e,isRTL:t}){const n=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight";return e?{[n]:38,[i]:50,marginTop:15,marginBottom:15}:{[n]:-10,[i]:50,marginTop:15,marginBottom:15}}const je={mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",overscrollBehavior:"none",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,ge.Yc)()?void 0:"1px solid #efefef",borderRadius:"16px",overscrollBehavior:"none",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom",width:"100vw",zIndex:1}}},Ee=0,Ae=1,Fe=2;class De extends m.Component{constructor(...e){super(...e),Te(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,startY:0,scrollDirection:Ee,shouldAnimate:!1,addedEvent:!1,filterModalIsOpen:!1,showIndicator:!1}),Te(this,"onScroll",(0,fe.Z)((()=>{const{logContextEvent:e,viewParameter:t,viewType:n}=this.props;e({event_type:110,view_parameter:t,view_type:n})}),1e3)),Te(this,"onTouchStart",(e=>{const{clientY:t}=e.touches[0];this.setState({startY:t,shouldAnimate:!1,scrollDirection:Ee})})),Te(this,"onTouchMove",(e=>{!this.state.addedEvent&&this.modal&&(this.modal.addEventListener("touchmove",this.preventPullToRefresh,{passive:!1}),this.setState({addedEvent:!0})),e.preventDefault();const{clientY:t}=e.touches[0],{startY:n,currentDistanceFromTop:i}=this.state,{canMoveModal:r,entryPoint:o,onDismiss:a,logContextEvent:s,maxDistanceFromTop:l,viewParameter:c}=this.props,d=t-n;r&&void 0!==l&&(("CloseupShop"===o||"CloseUpMainPinDrawer"===o)&&d>20&&i>l&&a?(s({event_type:108,view_parameter:c,view_type:427}),this.setState({currentDistanceFromTop:l,startY:0,scrollDirection:Ee},(()=>a(e)))):(d>0&&i>=0&&(i<l||"CloseupShop"===o||"CloseUpMainPinDrawer"===o)&&window.scrollY<=0||d<0&&i<=l&&i>=0)&&this.setModalPosition(t))})),Te(this,"onTouchEnd",(()=>{const{minDistanceFromTop:e,entryPoint:t}=this.props;this.state.addedEvent&&this.modal&&(this.modal.removeEventListener("touchmove",this.preventPullToRefresh),this.setState({addedEvent:!1})),this.props.shouldSnapToEnds&&this.state.scrollDirection===Fe?(this.header&&_e.Z.removeObstruction("top",this.header),this.setState({currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0}),t&&(0,xe.My)(`mweb.${t}.snap_to_bottom`)):this.props.shouldSnapToEnds&&this.state.scrollDirection===Ae&&(this.setState({currentDistanceFromTop:e||0,shouldAnimate:!0}),this.header&&_e.Z.addObstruction("top",this.header),t&&(0,xe.My)(`mweb.${t}.sliding_modal.snap_to_top`))})),Te(this,"handleHeaderTouch",(()=>{const{maxDistanceFromTop:e,minDistanceFromTop:t,entryPoint:n}=this.props,{currentDistanceFromTop:i,scrollDirection:r}=this.state;r===Ee&&(i===e?(this.setState({currentDistanceFromTop:t||0,shouldAnimate:!0}),(0,xe.My)(`mweb.${n}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({currentDistanceFromTop:e,shouldAnimate:!0}),(0,xe.My)(`mweb.${n}.sliding_modal.header_touch.snap_to_bottom`)))})),Te(this,"handleCloseIconTouch",(e=>{const{currentDistanceFromTop:t}=this.state,{onDismiss:n,logContextEvent:i,maxDistanceFromTop:r,viewParameter:o,viewType:a}=this.props;e.stopPropagation(),n&&(i({aux_data:{commerce_data:JSON.stringify({snapped_top:0===t})},element:75,event_type:102,view_parameter:o,view_type:a}),this.setState({currentDistanceFromTop:r,startY:0,scrollDirection:Ee},(()=>n(e))))})),Te(this,"getMaskStyles",(()=>{const{entryPoint:e,overrideZDepth:t}=this.props,{baseStyles:n}=je.mask;return n.zIndex=t?t-1:n.zIndex,{__style:{...n,..."CloseupShop"===e?{backgroundColor:"rgba(255,255,255, 1)",height:"50%",top:"70%"}:Object.freeze({})}}})),Te(this,"getModalStyles",(()=>{const{entryPoint:e,overrideZDepth:t,shouldSnapToEnds:n}=this.props,{currentDistanceFromTop:i,shouldAnimate:r}=this.state,{baseStyles:o}=je.modal;return o.zIndex=t||o.zIndex,o.border=this.props.noBorder?void 0:o.border,{__style:{...o,boxShadow:"CloseupShop"===e?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,animation:`${we} 0.3s ease-out both`,zIndex:"CloseUpMainPinDrawer"===e?4:void 0,borderRadius:"CloseUpMainPinDrawer"===e?"24px":void 0,top:i>-1?i:void 0,...n&&r?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}}})),Te(this,"setModalPosition",(e=>{const{startY:t,currentDistanceFromTop:n}=this.state,{maxDistanceFromTop:i,snapToEndThreshold:r,entryPoint:o}=this.props;if(i){const a=e-t,s="CloseupShop"===o||"CloseUpMainPinDrawer"===o?Math.max(0,n+a):Math.min(i,Math.max(0,n+a)),l=Math.floor(s);let c=Ee;if(r){const e=Math.floor(r*i),t=Math.floor((1-r)*i);a<0?c=l>t?Fe:Ae:a>0&&(c=l>e?Fe:Ae)}this.setState({startY:e,currentDistanceFromTop:l,scrollDirection:c})}})),Te(this,"preventBackgroundScroll",(e=>{e.preventDefault()})),Te(this,"preventPullToRefresh",(e=>{const{canMoveModal:t}=this.props,{currentDistanceFromTop:n,startY:i}=this.state,{clientY:r}=e.touches[0],o=r-i;t&&n>=0&&0===window.scrollY&&o>0&&e.preventDefault()})),Te(this,"openFiltersModal",(e=>{e.stopPropagation(),this.setState({filterModalIsOpen:!0})})),Te(this,"closeFiltersModal",(()=>{this.setState({filterModalIsOpen:!1})})),Te(this,"buttonTap",(()=>{const{cropSource:e,logContextEvent:t}=this.props;let n="";n="related_products"===(0,be.Z)(e)?3455:3456,t({event_type:102,view_parameter:n,view_type:72,element:11735})})),Te(this,"updateShowIndicator",(e=>{this.setState({showIndicator:e})}))}componentDidMount(){const{isOpen:e,entryPoint:t}=this.props;e&&_e.Z.pause(),"CloseupShop"!==t&&"CloseUpMainPinDrawer"!==t||window.addEventListener("scroll",this.onScroll)}componentDidUpdate(e,t){const{domainFilters:n,priceFilters:i,cropSource:r,isOpen:o,logContextEvent:a,maxDistanceFromTop:s,setHasDraggedDrawerToFullScreen:l,minDistanceFromTop:c,entryPoint:d}=this.props,{currentDistanceFromTop:u}=this.state;if(o&&!e.isOpen?_e.Z.pause():!o&&e.isOpen&&_e.Z.resume(),"CloseUpMainPinDrawer"===d&&s<e.maxDistanceFromTop&&u>s&&this.handleHeaderTouch(),t.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&u===(c||0)&&l&&l(!0),n&&i&&(!he()(n,e.domainFilters)||!he()(i,e.priceFilters))){let e="";e="related_products"===(0,be.Z)(r)?3455:3456,a({event_type:13,view_parameter:e,view_type:72,element:11735})}}componentWillUnmount(){const{entryPoint:e,isOpen:t}=this.props;this.header&&_e.Z.removeObstruction("top",this.header),t&&_e.Z.resume(),this.state.addedEvent&&this.modal&&this.modal.removeEventListener("touchmove",this.preventPullToRefresh),"CloseupShop"!==e&&"CloseupShop"!==e||window.removeEventListener("scroll",this.onScroll)}render(){const{mobileAccessibilityCloseIconLabel:e,canMoveModal:t,children:n,childPaddingX:i,childPaddingY:r,cropSource:o,domainFilters:a,entryPoint:l,heading:c,headerChildren:d,mobileHideCloseIcon:u,isOpen:p,isRTL:h,location:m,minDistanceFromTop:g,noDivider:f,noMaskOnBackground:_,onDismiss:v,pinId:y,priceFilters:x,submitFilters:b=(()=>{}),showHandle:S}=this.props,{currentDistanceFromTop:I,filterModalIsOpen:P,showIndicator:T}=this.state,k=!_||"CloseupShop"===l&&I<=0?this.getMaskStyles():{},C=this.getModalStyles(),E=v||ke,A=t&&I<=(g||0),F={};a&&(F.domainFilters=a),x&&(F.priceFilters=x);const D=Object.keys(F).length>0;return p&&(0,j.jsx)(ye.Z,{allowClickAndDrag:!0,children:(0,j.jsx)(s.mh,{children:(0,j.jsxs)(s.xu,{display:"inlineBlock",role:"dialog","aria-label":c,children:[("CloseupShop"===l||"CloseUpMainPinDrawer"===l)&&(0,j.jsx)(K.Z,{unsafeCSS:Se}),(0,j.jsx)(Ie.Z,{onTouch:E,pressState:"none",accessibilityLabel:this.props.i18n._('Close', 'duplo.sldingmodal.accessibilityCloseLabel', 'Accessibility label for close button in modal'),children:(0,j.jsx)(s.xu,{dangerouslySetInlineStyle:k,left:!0,onTouchMove:this.preventBackgroundScroll,position:"fixed",top:!0})}),(0,j.jsx)(s.xu,{ref:e=>this.modal=e,children:(0,j.jsx)(s.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:C,left:!0,onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,position:A?"absolute":"fixed",children:(0,j.jsx)(Ie.Z,{onTouch:this.handleHeaderTouch,pressState:"none",accessibilityLabel:this.props.i18n._('View all search results', 'SlidingModal.Header.a11yLabel', 'Accessibility label for header of search results in flashlight'),children:(0,j.jsxs)(s.xu,{position:"relative",children:[S&&(0,j.jsx)(s.xu,{display:"flex",top:!0,marginTop:2,justifyContent:"center",children:(0,j.jsx)("svg",{width:"40",height:"4",viewBox:"0 0 40 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,j.jsx)("rect",{width:"40",height:"4",rx:"2",fill:"#767676"})})}),e&&!u&&(0,j.jsx)(s.Le,{top:0,children:(0,j.jsxs)(s.xu,{ref:e=>{this.header=e},color:"default",rounding:"CloseUpMainPinDrawer"===l?6:2,marginBottom:"CloseUpMainPinDrawer"===l?-5:void 0,children:[(0,j.jsxs)(s.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,j.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,j.jsx)(s.hU,{accessibilityLabel:e,icon:"CloseupShop"===l||"CloseUpMainPinDrawer"===l?"cancel":"arrow-back",iconColor:"CloseUpMainPinDrawer"===l?"darkGray":"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,j.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:Ce({filterIconShown:D,isRTL:h})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,j.jsx)(s.X6,{align:"center",size:"400",accessibilityLevel:2,children:c})}),D&&(0,j.jsxs)(s.xu,{children:[(0,j.jsxs)(s.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,j.jsx)(s.hU,{accessibilityLabel:this.props.i18n._('Filters', 'flashlightPage.slidingModal.filterIconButton', 'Icon button appears when filters are available'),iconColor:"darkGray",icon:"filter",onClick:({event:e})=>{this.openFiltersModal(e),this.buttonTap()},size:"md"}),T&&(0,j.jsx)(s.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",rounding:"pill",top:!0,right:!0})]}),(0,j.jsx)(Pe.Z,{closeFiltersModal:this.closeFiltersModal,cropSource:o,initialProductFilters:{domains:(0,w.mB)(null==m?void 0:m.search).domains,prices:[parseInt((0,w.mB)(null==m?void 0:m.search).min,10),parseInt((0,w.mB)(null==m?void 0:m.search).max,10)]},isOpen:P,pinId:y,productFilters:F,submitFilters:b,updateShowIndicator:this.updateShowIndicator})]})]}),d||null,!f&&(0,j.jsx)(s.iz,{})]})}),(0,j.jsx)(s.xu,{overflow:A?"auto":void 0,paddingX:i,paddingY:r,children:n})]})})})})]})})})}}function Re(e){const{filterFeedKey:t}=e,n=(0,c.ZP)(),i=(0,k.Z)(),{isRTL:r}=(0,ve.B)(),o=(0,g.useSelector)((({productFilters:e})=>(t&&e[t]||{}).categoryFilters)),a=(0,g.useSelector)((({productFilters:e})=>(t&&e[t]||{}).domainFilters)),s=(0,g.useSelector)((({productFilters:e})=>(t&&e[t]||{}).priceFilters));return(0,j.jsx)(De,{...e,categoryFilters:o,domainFilters:a,i18n:n,isRTL:r,logContextEvent:i,priceFilters:s})}Te(De,"defaultProps",{childPaddingX:3,childPaddingY:3});const Oe=.6,Le=.4,Me=50,ze=.1,Ze=.8,Ne=35,Be=0,Ue=1;function He(e){return e.preventDefault()}function $e(){return Math.min(ie.g6,window.innerWidth)}function Ke(e,t){return Math.floor($e()/t*e)}function We(e,t){var n;if(!t)return null===(n=e.images)||void 0===n?void 0:n["736x"];const{carousel_slots:i=[]}=(0,f.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary})||{},r=i.find((e=>t===e.image_signature));return r?{...(0,_.Z)(r.images)}:void 0}function Ge(e,t){let n=0,i=0;let r=0;if(e&&e.images){var o,a,s,l;const c=We(e,t);n=$e(),i=Ke(null!==(o=null==c?void 0:c.height)&&void 0!==o?o:1,null!==(a=null==c?void 0:c.width)&&void 0!==a?a:1),r=function(e,t){const n=Math.floor(Oe*window.innerHeight);return Math.min(n,Ke(e,t))}(null!==(s=null==c?void 0:c.height)&&void 0!==s?s:1,null!==(l=null==c?void 0:c.width)&&void 0!==l?l:1)}return{closeupImageWidth:n,closeupImageHeight:i,closeupImageMinTop:r-i,closeupImageTop:0,minCropperWidthRatio:n?Me/n:0,minCropperHeightRatio:i?Me/i:0,modalTop:r}}function Ve(e,t,n,i,r){const o="shopping"===n,a=o?1:Le,s=o?0:ze;let l=i?Number(i):a,c=r?Number(r):s;e>0&&t>0&&!o&&(i||(l=(t-2*t*ze)/e),r||(c=t*ze/e));return{h:l,y:c}}const qe=(0,ue.Z)((e=>`visual-search:${e}`)),Ye=(0,ue.Z)((e=>`related-products-unified:${e}`));function Xe({pin:e}){var t;const n=(0,x.E)(),i=(0,c.ZP)(),o=(0,g.useDispatch)(),l=(0,a.useHistory)(),{previous:d}=(0,v.Hv)(),u=(0,a.useLocation)(),{isAuth:p}=(0,r.Z)(),f=(0,a.useRouteMatch)(),{pinId:_}=(0,h.Z)(f.params.id||""),{x:k,y:C,w:E,h:A,source:F,tab:D,domains:R,min:O,max:L,image_signature:M,q:z,rs:Z}=(0,w.mB)(u.search),N=(0,g.useSelector)((e=>qe(e,_))),B=(0,g.useSelector)((e=>Ye(e,_))),U=(0,m.useRef)(!1),[H,$]=(0,m.useState)({reload:!1,fromUnifiedFeed:!1}),[K,W]=(0,m.useState)((()=>{const t=Ge(e,M);t.closeupImageTop=0;const{closeupImageHeight:n,modalTop:i=0}=t,r=Ve(n,i,F,Number(A),Number(C)),o="shopping"===F?0:ze;let a=Be;!D||"1"!==D&&"0"!==D||(a="1"===D?Ue:Be);let s=5;return E&&A&&(s=Number(E)>=Ze&&Number(A)>=Ze?5:6),{closeupImageDims:t,cropSource:s,selectedTabIndex:a,domains:R,prices:[parseInt(O,10),parseInt(L,10)],x:k?Number(k):o,w:E?Number(E):1-2*o,y:r.y,h:r.h,imageSignature:M}}));if((0,m.useEffect)((()=>{U.current&&(U.current=!1,H.reload&&function(e,t){const n=F?"&source=shopping":"";(e=>{o((0,ce.By)(e))})(e),t?((0,T.cV)(`related-products-unified:${e}`),l.replace(`/pin/${e}/visual-search/?x=${K.x}&y=${K.y}&h=${K.h}&w=${K.w}${n}&tab=${K.selectedTabIndex}`)):((0,T.cV)(`visual-search:${e}`),l.replace(`/pin/${e}/visual-search/?x=${K.x}&y=${K.y}&h=${K.h}&w=${K.w}&tab=${K.selectedTabIndex}`))}(_,H.fromUnifiedFeed))})),(0,m.useEffect)((()=>{if(e){const t=Ge(e,K.imageSignature),{closeupImageHeight:n,modalTop:i=0}=t,r=Ve(n,i,F,Number(A),Number(C));W((e=>({...e,closeupImageDims:t,...r})))}}),[e]),(0,m.useEffect)((()=>{(N&&N.length>0||B&&B.length>0)&&n&&n.markConstraintComplete("VisualSearchFeedLoaded")})),(0,S.Z)((()=>{var e;return window.addEventListener("touchmove",He,{passive:!0}),e=K.cropSource,o(le(e)),()=>window.removeEventListener("touchmove",He)})),!e||0===K.closeupImageDims.modalTop)return null;const G=F||"flashlight",V="shopping"===G,q=(Y=K.selectedTabIndex,X=K.cropSource,Y===Ue?4===X?3456:3455:3050);var Y,X;const J=e.visual_objects||[],Q=K.imageSignature?[]:(0,I.m)(J),ee=(0,I.k)(J),te={x:K.x,y:K.y,w:K.w,h:K.h},[ne,re]=K.prices,oe=K.selectedTabIndex===Ue,ue=`related-products-unified:${_}:${K.x}:${K.y}:${K.w}:${K.h}:${String(oe)}`,pe=We(e,K.imageSignature),he=p?(K.closeupImageDims.modalTop||0)-5:K.closeupImageDims.closeupImageHeight||0,ge={name:"VisualLiveSearchResource",options:{pin_id:_,crop:{x:K.x,y:K.y,w:K.w,h:K.h},crop_source:K.cropSource,image_signature:K.imageSignature}},fe={closeupImage:pe,closeupImageDims:K.closeupImageDims,cropArea:te,handleChangeCloseupImageTop:function(e){W((t=>({...t,closeupImageDims:{...t.closeupImageDims,closeupImageTop:e}})))},handleCropperChange:function({cropArea:e,cropSource:t,reload:n,fromUnifiedFeed:i}){W((n=>({...n,...e,cropSource:t,domains:"",prices:[]}))),$({reload:n,fromUnifiedFeed:i}),U.current=!0},pinDominantColor:e.dominant_color||"#efefef",viewParameter:q},_e=Q.some((e=>!0===e.is_stela));return(0,j.jsx)(P.Z,{viewType:72,viewParameter:q,auxData:V?{commerce_data:JSON.stringify({entrypoint:G,pin_is_stela:_e})}:void 0,children:(0,j.jsx)(b.Z,{view:72,children:(0,j.jsxs)(y.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,j.jsx)(se.Z,{text:i._('Visual Search Page', 'flashlight.accessibilityhiddenheading.fullpage', 'accessibility label for flashlight page')}),(0,j.jsxs)(s.xu,{color:"default",dangerouslySetInlineStyle:{__style:{overscrollBehavior:"none",touchAction:"none"}},height:"100vw",margin:"auto",maxWidth:ie.g6,children:[V?(0,j.jsx)(me,{...fe,visualObjects:ee,viewType:72}):(0,j.jsx)(ae,{...fe,visualObjects:Q,entryPoint:G}),(0,j.jsx)(Re,{mobileAccessibilityCloseIconLabel:i._('Close visual search results', 'close visual search results and go back to pin', 'close visual search results and go back to pin'),canMoveModal:!0,childPaddingX:0,childPaddingY:0,cropSource:K.cropSource,entryPoint:G,filterFeedKey:ue,heading:V?i._('Shop now', 'flashlight.slidingModal.shoppingHeader', 'Visual product results'):i._('Visual search', 'Visual search results', 'Visual search results'),isOpen:!0,location:u,maxDistanceFromTop:he,minDistanceFromTop:Ne,noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:function(){0!==d.length?l.goBack():l.replace(`/pin/${_}/`)},pinId:_,shouldSnapToEnds:!0,snapToEndThreshold:.3,viewParameter:q,viewType:72,children:(0,j.jsx)(s.xu,{color:"default",paddingX:3,children:V?(0,j.jsx)(T.ZP,{resourceConfig:{name:"VisualSearchFlashlightUnifiedResource",options:{crop:te,crop_source:K.cropSource,pin_id:_,search_query:z,source:Z,is_shopping:oe,entry_source:G,domains:K.domains,price_min:ne,price_max:re}},feedItemProps:{auxData:{commerce_data:JSON.stringify({entrypoint:G,pin_is_stela:_e})},viewType:72,viewParameter:q},feedKey:`related-products-unified:${_}`,trafficSource:oe?"shop_feed":"flashlight"}):(0,j.jsx)(T.ZP,{resourceConfig:ge,feedItemProps:{viewParameter:3050,viewType:72},feedKey:null!==(t=(0,de.J)(ge.name,ge.options))&&void 0!==t?t:"",trafficSource:"flashlight"})})})]})]})})})}var Je,Qe=n(350118);const et=void 0!==Je?Je:Je=n(190706);function tt(e){var t,n,i;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(n=e.url)&&void 0!==n?n:"",height:null!==(i=e.height)&&void 0!==i?i:0}}function nt(e){const t=[];return e.forEach((({additionalImages:e,spec:n})=>{var i;t.push(...null!==(i=function({additionalImages:e,spec:t}){const n=[];return null==e||e.forEach((e=>{var i;e.canonicalImage&&n.push({canonical_images:{[t]:tt(e.canonicalImage)},image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:""})})),n}({additionalImages:e,spec:n}))&&void 0!==i?i:[])})),t}function it(e){return null==e?void 0:e.map((e=>{var t,n;return{id:null!==(t=e.itemId)&&void 0!==t?t:"",additional_images:null!==(n=nt([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==n?n:[]}}))}function rt(e){const t={};return e.forEach((({image:e,spec:n})=>{e&&(t[n]=tt(e))})),t}const ot=(0,l.Z)({useGraphQLAdapter:function({pinId:e}){var t,n,i,r,a;const s=null===(t=(0,o.useLazyLoadQuery)(et,{pinId:e}).v3GetPinQuery)||void 0===t?void 0:t.data;return s?{pin:{id:null!==(n=s.entityId)&&void 0!==n?n:"",dominant_color:null!==(i=s.dominantColor)&&void 0!==i?i:"",visual_objects:null!==(f=s.visualObjects,r=null==f?void 0:f.map((e=>{var t,n,i,r,o,a,s,l,c,d,u,p,h,m;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(n=e.h)&&void 0!==n?n:0,index:null!==(i=e.index)&&void 0!==i?i:0,is_stela:null!==(r=e.isStela)&&void 0!==r&&r,label:null!==(o=e.label)&&void 0!==o?o:"",label_id:null!==(a=e.labelId)&&void 0!==a?a:0,label_x:null!==(s=e.labelX)&&void 0!==s?s:0,label_y:null!==(l=e.labelY)&&void 0!==l?l:0,max_annotation_num_documents:null!==(c=e.maxAnnotationNumDocuments)&&void 0!==c?c:0,score:null!==(d=e.score)&&void 0!==d?d:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(h=e.w)&&void 0!==h?h:0,y:null!==(m=e.y)&&void 0!==m?m:0}})))&&void 0!==r?r:[],images:null!==(a=rt([{image:s.imageOrig,spec:"orig"},{image:s.image736x,spec:"736x"},{image:s.image564x,spec:"564x"},{image:s.image474x,spec:"474x"},{image:s.image236x,spec:"236x"}]))&&void 0!==a?a:{},rich_metadata:(m=s.richMetadata,{products:null!==(g=it(null==m?void 0:m.products))&&void 0!==g?g:[]}),rich_summary:(p=s.richSummary,{products:null!==(h=it(null==p?void 0:p.products))&&void 0!==h?h:[]}),carousel_data:(l=s.carouselData,{carousel_slots:null!==(u=null==l?void 0:l.carouselSlots,c=null==u?void 0:u.map((e=>{var t,n;return{image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:"",images:null!==(n=rt([{image:e.imageOrig,spec:"orig"},{image:e.image736x,spec:"736x"},{image:e.image564x,spec:"564x"},{image:e.image474x,spec:"474x"},{image:e.image236x,spec:"236x"}]))&&void 0!==n?n:{}}})))&&void 0!==c?c:[],index:null!==(d=null==l?void 0:l.index)&&void 0!==d?d:0}),type:"pin"}}:null;var l,c,d,u,p,h,m,g,f},useLegacyAdapter:function({pinId:e}){const{data:t}=(0,p.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),n=(0,Qe.S6)()(e),i=null!=t?t:n;return i?{pin:i}:null}});function at(){const{checkExperiment:e}=(0,d.F)(),t=(0,c.ZP)(),n=(0,a.useRouteMatch)(),{pinId:i}=(0,h.Z)(n.params.id||"");return(0,j.jsx)(ot,{input:e("mweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:i},suspense:{fallback:(0,j.jsx)(s.$j,{accessibilityLabel:t._('Loading Pin data', 'mobileFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:i}},children:({data:e})=>!!e&&(0,j.jsx)(u.Z,{constraints:["VisualSearchFeedLoaded"],surface:"flashlight",children:(0,j.jsx)(Xe,{pin:e.pin})})})}var st=n(116303),lt=n(349700);const ct=()=>{(0,xe.NC)("click_best_pin_board",!0)},dt=()=>{(0,xe.NC)("click_best_pin_profile",!0)},ut=e=>{const{pinner:t}=e,{username:n,full_name:i}=t,r=t.image_medium_url||t.image_small_url,o=`/${n}/`;return(0,j.jsx)(s.iP,{fullWidth:!1,rounding:"circle",role:"link",href:o,onTap:dt,children:(0,j.jsx)(st.Z,{size:"sm",src:null!=r?r:"",name:null!=i?i:"",outline:!0})})},pt=e=>{const t=(0,c.ZP)(),{board:n,pinner:i}=e,{name:r,privacy:o,url:a}=n,l=n.id||"",{username:d,full_name:u}=i,p=`/${d}/`,h=(0,j.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:(0,j.jsx)(s.rU,{display:"inlineBlock",href:p,onClick:dt,underline:"hover",children:u})},u);return"protected"===o?(0,lt.nk)(t._('{{ pinnerName }} saved this Pin', 'Showing who saved this pin, but not which board (private board), on closeup', 'Showing who saved this pin, but not which board (private board), on closeup'),{pinnerName:h}):(0,lt.nk)(t._('{{ pinnerName }} saved to {{ boardName }}', 'Showing who saved this pin to which board on closeup', 'Showing who saved this pin to which board on closeup'),{pinnerName:h,boardName:(0,j.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:(0,j.jsx)(s.rU,{href:null!=a?a:"",onClick:ct,children:r},"board")},l)})},ht=e=>{const{pin:t}=e,{pinner:n={},board:i={}}=t;return(0,j.jsxs)(s.xu,{display:"flex",direction:"row",alignItems:"center",marginTop:3,"data-test-id":"pin-attribution",children:[(0,j.jsx)(ut,{pinner:n}),(0,j.jsx)(s.xu,{marginEnd:2}),(0,j.jsx)(s.xv,{size:"200",children:(0,j.jsx)(pt,{board:i,pinner:n})})]})},mt=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="underline")},gt=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="none")};var ft=n(692627);function _t({pageType:e,pinCreditPrefix:t,pin:n,pinLink:i}){var r,o;const a=(0,c.ZP)(),l=(0,k.Z)();if("topic"!==e.page&&(!n.domain||"Uploaded by user"===n.domain))return null;const d="topic"!==e.page||e.isAuth?"100":"200",u="topic"===e.page&&!!n.native_creator,p=u?null===(r=n.native_creator)||void 0===r?void 0:r.full_name:n.domain;return(0,j.jsx)(s.xu,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2,children:(0,j.jsx)(s.rU,{display:"inlineBlock",href:u?`/${(null===(o=n.native_creator)||void 0===o?void 0:o.username)||""}/`:i,onClick:()=>{var t,i,r;"topic"===e.page?(0,xe.NC)("click_topic_best_pin_link"):l({event_type:12,view_type:3,object_id_str:n.id,component:85,view_parameter:(0,ft.Z)({hasPin:!!n,hasPinRichMetadata:!!n.rich_metadata,hasPinRichMetadataProducts:!(null===(t=n.rich_metadata)||void 0===t||!t.products),hasPinRichMetadataArticle:!(null===(i=n.rich_metadata)||void 0===i||!i.article),hasPinRichMetadataRecipe:!(null===(r=n.rich_metadata)||void 0===r||!r.recipe),hasPinStoryPinData:!!n.story_pin_data})})},rel:"nofollow",target:"blank",underline:"hover",children:(0,j.jsx)(s.xv,{size:d,children:(0,lt.nk)(a._('{{ pinCreditPrefix }} {{ pinCredit }}', 'Tells the user where the pin is from in the form of "Saved from <website>"', 'Tells the user where the pin is from in the form of "Saved from <website>"'),{pinCreditPrefix:t,pinCredit:(0,j.jsx)(s.xv,{inline:!0,size:d,weight:"bold",children:"topic"===!e.page?(0,j.jsxs)("span",{onMouseOver:mt,onMouseLeave:gt,onFocus:mt,onBlur:gt,children:[" ",n.domain]}):p},u?"creatorProfile":"pinLinkDomain")})})})})}var vt=n(782534),yt=n(694379),xt=n(248975),bt=n(873441),wt=n(153209),St=n(992750),It=n(844897),Pt=n(469823);const Tt=3,kt=2,Ct=e=>{let t="";if(e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published)return t;const n=(e=>{let t=null;e.last_repin_date&&(t=new Date(e.last_repin_date));let n=null;return e.created_at&&(n=new Date(e.created_at)),t?n?t>n?t:n:t:n})(e);if(n&&n.getFullYear()===(new Date).getFullYear()){const i=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),{category:r}=e;i.has(r)&&(t=n?(0,j.jsx)(vt.Z,{value:n,dateFormatType:vt.k.LONG_MONTH_YEAR,useUTC:!1}):"")}return t},jt=e=>!!(e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published),Et=(e,t)=>{var n,i,r;const o=new Date(null!==(n=null===(i=(null!==(r=e.rich_metadata)&&void 0!==r?r:{}).article)||void 0===i?void 0:i.date_published)&&void 0!==n?n:Date.now()),a=o.getTime(),s=(new Date).getTime();return null==t||s-a<=31536e6*t?(0,j.jsx)(vt.Z,{value:o,dateFormatType:vt.k.LONG_MONTH_YEAR,useUTC:!1}):""};function At(e){var t,n,i,r,o,a,l,d,u,p,h,m,g,f,_,v,y,x,b;const w=(0,c.ZP)(),{pin:S,viewportSize:I,pageType:P}=e,{pinCreditPrefix:T,pinLink:k}=(0,bt.Z)(S,w);let{description:C}=(0,St.eK)({richMetadataDescription:null===(t=S.rich_metadata)||void 0===t?void 0:t.description,richSummaryDisplayName:null===(n=S.rich_summary)||void 0===n?void 0:n.display_name,closeupUnifiedDescription:S.closeup_unified_description});var E;"videos_category"===P.page&&(C=(0,St.kt)(C,(null===(E=S.native_creator)||void 0===E?void 0:E.username)||""));const A="wide"===I;let F=(0,St.Ly)({pinTitle:S.title,gridTitle:S.grid_title,richSummaryDisplayName:null!==(i=null===(r=S.rich_summary)||void 0===r?void 0:r.display_name)&&void 0!==i?i:"",richMetadataTitle:null!==(o=null===(a=S.rich_metadata)||void 0===a?void 0:a.title)&&void 0!==o?o:"",storyPinDataId:S.story_pin_data_id,storyPinDataMetadataPinTitle:null===(l=S.story_pin_data)||void 0===l||null===(d=l.metadata)||void 0===d?void 0:d.pin_title,pinJoinVisualAnnotation:null===(u=S.pin_join)||void 0===u?void 0:u.visual_annotation,pinJoinAnnotationsWithLinks:null===(p=S.pin_join)||void 0===p?void 0:p.annotations_with_links});(S.grid_title||"").trim()&&F!==S.grid_title&&(F=(0,St.EU)(S.grid_title,200));const D=(0,wt.r)(null===(h=S.rich_metadata)||void 0===h||null===(m=h.recipe)||void 0===m?void 0:m.name,!(null===(g=S.rich_metadata)||void 0===g||null===(f=g.recipe)||void 0===f||!f.categorized_ingredients),null===(_=S.rich_metadata)||void 0===_||null===(v=_.recipe)||void 0===v?void 0:v.from_aggregated_data)&&(null===(y=S.rich_metadata)||void 0===y?void 0:y.recipe),R=jt(S)&&Et(S,2),O=Ct(S)||R;return(0,j.jsx)(s.xu,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",padding:8,position:"relative",width:"100%",flex:"grow",children:(0,j.jsxs)(s.xu,{position:"relative",direction:"column",display:"flex",flex:"grow",children:[(0,j.jsx)(_t,{pageType:P,pin:S,pinCreditPrefix:"topic"===P.page&&S.native_creator?"Created by":T,pinLink:k}),(0,j.jsx)(s.kC,{direction:"row",justifyContent:"between",children:(0,j.jsx)(s.xu,{display:"flex",overflow:"hidden",marginEnd:A?0:3,marginTop:A?3:0,children:F&&(0,j.jsx)("h2",{style:{fontWeight:"600",fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:kt,WebkitBoxOrient:"vertical"},"data-test-id":"UnauthBestPinCardTitle",children:F})})}),O?(0,j.jsx)(s.xu,{marginTop:1,children:(0,j.jsx)(s.xv,{color:"subtle",children:O})}):null,C&&(0,j.jsx)(s.xu,{display:"flex",overflow:"hidden",marginTop:3,children:(0,j.jsxs)("h3",{style:{fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:Tt,WebkitBoxOrient:"vertical",fontSize:"14px"},children:[D&&(0,j.jsx)(Pt.Z,{recipeData:D}),C]})}),D&&(0,j.jsx)(It.Z,{columnGap:(0,j.jsx)(s.xu,{width:16}),marginOverrides:D?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:D.categorized_ingredients,name:D.name,image:(0,xt.Z)({images:S.images,embedSrc:null===(x=S.embed)||void 0===x?void 0:x.src,embedType:null===(b=S.embed)||void 0===b?void 0:b.type})}}}),(0,j.jsxs)(s.xu,{display:"flex",alignItems:"center",direction:"row",justifyContent:"between",marginTop:2,children:[(0,j.jsx)(ht,{pin:S}),(0,j.jsx)(s.kC,{alignItems:"stretch",justifyContent:"end",children:!S.repin_count||S.repin_count<1?null:(0,j.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,j.jsx)(s.JO,{icon:"pin",accessibilityLabel:"Pin",color:"subtle",size:12}),(0,j.jsx)(s.xv,{color:"default",inline:!0,size:"100",children:(0,j.jsx)(yt.Z,{value:S.repin_count,shortform:!0,shortformMaximumFractionDigits:1})})]})})]})]})})}var Ft=n(788606),Dt=n(975540),Rt=n(94047),Ot=n(297852);const Lt=564,Mt=3,zt=4*Mt,Zt=80;let Nt=0,Bt="";function Ut(e){const{images:t,image_signature:n}=e,i=(null==t?void 0:t["564x"])&&t.orig,{url:r}=null!=i?i:{};let{width:o,height:a}=null!=i?i:{};return"number"==typeof o&&"number"==typeof a&&o>Lt&&(a*=Lt/o,o=Lt),{width:o,height:a,url:r,imageSignature:n}}function Ht({initialCropArea:e,pin:t}){var n,i,r,o;let a;if(e)a={...e};else{const{visual_objects:e}=t,{width:n=1,height:i=1}=Ut(t);if(e&&e.length){const{x:t,y:r,w:o,h:s}=e[0];a=(0,G.Z)({cropArea:{x:t,y:r,w:o,h:s},scaledWidth:n,scaledHeight:i})}else{const[e,t]=[n/6,i/6],[r,o]=[n-2*e,i-2*t];a={x:e,y:t,w:r,h:o}}}return{x:Math.floor(null!==(n=a.x)&&void 0!==n?n:0),y:Math.floor(null!==(i=a.y)&&void 0!==i?i:0),w:Math.floor(null!==(r=a.w)&&void 0!==r?r:0),h:Math.floor(null!==(o=a.h)&&void 0!==o?o:0)}}function $t({pinResponse:e}){var t,n,i;const r=(0,c.ZP)(),{isRTL:o}=(0,ve.B)(),l=(0,k.Z)(),d=(0,a.useHistory)(),u=(0,a.useLocation)(),p=(0,a.useRouteMatch)(),g=(0,m.useRef)(),{pin:f,isLoaded:_}=e,{pinId:v}=(0,h.Z)(p.params.id||""),y=(0,w.mB)(u.search),x=parseInt(y.x,10),I=parseInt(y.y,10),P=parseInt(y.w,10),C=parseInt(y.h,10),E=function(...e){return e.every(Number.isInteger)}(x,I,P,C)?{x,y:I,w:P,h:C}:void 0,A=function(e){const t=parseInt(e,10);switch(t){case 1:case 2:case 3:case 4:case 5:case 6:return t;default:return}}(y.cropSource);if((0,S.Z)((()=>{if(!E&&f){const e=Ht({initialCropArea:E,pin:f}),t=(0,Ot.Z)({cropArea:e,pinId:v});d.replace(t)}l({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:v}}),(0,xe.My)("unauth.flashlight_page")})),(0,m.useEffect)((()=>(g.current&&Bt===v&&(g.current.scrollTop=Nt),()=>{g.current&&(Nt=g.current.scrollTop,Bt=v)}))),!_)return(0,j.jsx)(b.Z,{view:72,objectId:"",children:(0,j.jsx)(s.xu,{children:(0,j.jsx)(s.$j,{accessibilityLabel:r._('Loading visual search...', 'Accessibility label for loading visual search page', 'Accessibility label for loading visual search page'),show:!0})})});if(!f)return null;const{width:F,height:D,url:R}=Ut(f),O=Ht({initialCropArea:E,pin:f}),L=!(u.state&&u.state.internalNavigation),M=(null!=F?F:1)+2*zt,z={pin_id:v,image_signature:f.image_signature,crop:(0,Dt.Z)({cropArea:O,scaledWidth:F,scaledHeight:D}),crop_source:A||5};return(0,j.jsx)(b.Z,{view:72,objectId:"",children:(0,j.jsxs)(s.xu,{display:"flex",paddingX:12,children:[(0,j.jsxs)(s.xu,{height:`calc(100% - ${Zt}px)`,marginEnd:Mt,marginStart:Mt,overflow:"scroll",position:"fixed",ref:g,zIndex:new s.Ry(600),children:[(0,j.jsx)(s.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:F,height:D}},children:(0,j.jsxs)(s.zd,{height:D,rounding:2,width:F,children:[(0,j.jsx)(s.Ee,{alt:null!==(t=f.description)&&void 0!==t?t:"",naturalHeight:null!=D?D:1,naturalWidth:null!=F?F:1,src:null!=R?R:""}),(0,j.jsx)(Ft.Z,{showAnimation:L,imageSignature:f.image_signature,imageSize:{h:D,w:F},initialCropArea:O,onChange:function({origCrop:e,cropSource:t}){const n=window.location.pathname+window.location.search,i=(0,Ot.Z)({cropArea:e,pinId:v,cropSource:t});(0,xe.My)("unauth.flashlight_page.cropper_changed"),i!==n&&v&&d.replace({pathname:`/pin/${v}/visual-search/`,search:(0,Rt.Z)({cropArea:e,cropSource:t}),state:{internalNavigation:!0}})},pin:f,spotlightAreas:null!==(n=f.visual_objects)&&void 0!==n?n:[]})]})}),(0,j.jsx)(s.xu,{position:"relative","data-test-id":"closeupDescription",display:"flex",direction:"column",maxWidth:null!=F?F:1,margin:5,children:(0,j.jsx)(At,{pin:f,pageType:{isAuth:!1,page:"flashlight"},viewportSize:"narrow"})})]}),(0,j.jsxs)(s.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:o?{marginRight:`${M}px`}:{marginLeft:`${M}px`}},children:[(0,j.jsx)(s.xu,{width:"100%",paddingY:3,paddingX:9,display:"flex",alignItems:"center",children:(0,j.jsx)(s.xu,{flex:"grow",children:(0,j.jsx)(s.xv,{align:"center",weight:"bold",children:(0,j.jsx)("span",{className:"deprecatedTextSizeXL",children:r._('Visually similar results', 'Header explaining results of flashlight search', 'Header explaining results of flashlight search')})})})}),(0,j.jsx)(T.ZP,{resourceConfig:{name:"VisualLiveSearchResource",options:z},feedItemProps:{imageOnly:!0,viewParameter:3050,viewType:72},feedKey:null!==(i=(0,de.J)("VisualLiveSearchResource",z))&&void 0!==i?i:"",trafficSource:"flashlight"})]})]})})}var Kt;const Wt=void 0!==Kt?Kt:Kt=n(535994);function Gt(e){const t=[];return e.forEach((({additionalImagesSpec:e,spec:n})=>{var i;t.push(...null!==(i=function({additionalImagesSpec:e,spec:t}){return null==e?void 0:e.map((e=>{var n,i,r,o,a,s,l;return{canonical_images:{[t]:{height:null!==(n=null===(i=e.canonicalImage)||void 0===i?void 0:i.height)&&void 0!==n?n:0,url:null!==(r=null===(o=e.canonicalImage)||void 0===o?void 0:o.url)&&void 0!==r?r:"",width:null!==(a=null===(s=e.canonicalImage)||void 0===s?void 0:s.width)&&void 0!==a?a:0}},image_signature:null!==(l=e.imageSignature)&&void 0!==l?l:""}}))}({additionalImagesSpec:e,spec:n}))&&void 0!==i?i:[])})),t}function Vt(e){return null==e?void 0:e.map((e=>{var t,n,i,r,o,a,s,l;return{name:null!==(t=e.name)&&void 0!==t?t:"",offer_summary:{in_stock:null!==(n=null===(i=e.offerSummary)||void 0===i?void 0:i.inStock)&&void 0!==n&&n},additional_images:null!==(r=Gt([{additionalImagesSpec:e.additionalImageOrig,spec:"orig"},{additionalImagesSpec:e.additionalImage736x,spec:"736x"},{additionalImagesSpec:e.additionalImage564x,spec:"564x"},{additionalImagesSpec:e.additionalImage474x,spec:"474x"},{additionalImagesSpec:e.additionalImage236x,spec:"236x"}]))&&void 0!==r?r:[],variant_set:null!==(a=e.variantSet,o={variants:null!==(l=null==a?void 0:a.variants,s=null==l?void 0:l.map((e=>{var t,n;return{additional_images:null!==(n=e.additionalImages,t=null==n?void 0:n.map((e=>{var t,n;return{canonical_images:null!==(t=e.canonicalImages)&&void 0!==t?t:{},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""}})))&&void 0!==t?t:[]}})))&&void 0!==s?s:[]})&&void 0!==o?o:{}}}))}function qt(e){const t={};return e.forEach((e=>{const{image:n,spec:i}=e;n&&(t[i]=function(e){var t,n,i,r,o;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(n=e.url)&&void 0!==n?n:"",type:null!==(i=e.type)&&void 0!==i?i:"",height:null!==(r=e.height)&&void 0!==r?r:0,dominant_color:null!==(o=e.dominantColor)&&void 0!==o?o:""}}(n))})),t}function Yt(e){var t,n;return{username:null!==(t=null==e?void 0:e.username)&&void 0!==t?t:"",full_name:null!==(n=null==e?void 0:e.fullName)&&void 0!==n?n:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl}}function Xt(e){var t,n,i;return{id:null!==(t=null==e?void 0:e.entityId)&&void 0!==t?t:"",username:null!==(n=null==e?void 0:e.username)&&void 0!==n?n:"",full_name:null!==(i=null==e?void 0:e.fullName)&&void 0!==i?i:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl,type:"user"}}const Jt=(0,l.Z)({useGraphQLAdapter:function({pinId:e}){var t,n,i,r,a,s,l,c,d,u,p,h,m,g,f,_,v;const y=null===(t=(0,o.useLazyLoadQuery)(Wt,{pinId:e}).v3GetPinQuery)||void 0===t?void 0:t.data;return y?{pin:{id:null!==(n=y.entityId)&&void 0!==n?n:"",is_eligible_for_related_products:null!==(i=y.isEligibleForRelatedProducts)&&void 0!==i&&i,description:null!==(r=y.description)&&void 0!==r?r:"",image_signature:null!==(a=y.imageSignature)&&void 0!==a?a:"",images:null!==(s=qt([{image:y.imageOrig,spec:"orig"},{image:y.image736x,spec:"736x"},{image:y.image564x,spec:"564x"},{image:y.image474x,spec:"474x"},{image:y.image236x,spec:"236x"}]))&&void 0!==s?s:{},rich_metadata:(A=y.richMetadata,{products:null!==(F=Vt(null==A?void 0:A.products))&&void 0!==F?F:[],description:null!==(D=null==A?void 0:A.description)&&void 0!==D?D:"",title:null!==(R=null==A?void 0:A.title)&&void 0!==R?R:"",recipe:null!==(N=null==A?void 0:A.recipe,O={name:null!==(B=null==N?void 0:N.name)&&void 0!==B?B:"",from_aggregated_data:null!==(U=null==N?void 0:N.fromAggregatedData)&&void 0!==U&&U,categorized_ingredients:null==N||null===(H=N.categorizedIngredients)||void 0===H?void 0:H.map((e=>{var t;return{category:null!==(t=e.category)&&void 0!==t?t:""}}))})&&void 0!==O?O:{},article:{date_published:null!==(L=null==A||null===(M=A.article)||void 0===M?void 0:M.datePublished)&&void 0!==L?L:""},tutorial:{id:null!==(z=null==A||null===(Z=A.tutorial)||void 0===Z?void 0:Z.name)&&void 0!==z?z:"",type:"makecardtutorialmetadata"}}),rich_summary:(C=y.richSummary,{products:null!==(j=Vt(null==C?void 0:C.products))&&void 0!==j?j:[],display_name:null!==(E=null==C?void 0:C.displayName)&&void 0!==E?E:""}),visual_objects:null!==(k=y.visualObjects,l=null==k?void 0:k.map((e=>{var t,n,i,r,o,a,s,l,c,d,u,p,h,m;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(n=e.h)&&void 0!==n?n:0,index:null!==(i=e.index)&&void 0!==i?i:0,is_stela:null!==(r=e.isStela)&&void 0!==r&&r,label:null!==(o=e.label)&&void 0!==o?o:"",label_id:null!==(a=e.labelId)&&void 0!==a?a:0,label_x:null!==(s=e.labelX)&&void 0!==s?s:0,label_y:null!==(l=e.labelY)&&void 0!==l?l:0,max_annotation_num_documents:null!==(c=e.maxAnnotationNumDocuments)&&void 0!==c?c:0,score:null!==(d=e.score)&&void 0!==d?d:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(h=e.w)&&void 0!==h?h:0,y:null!==(m=e.y)&&void 0!==m?m:0}})))&&void 0!==l?l:[],closeup_unified_description:y.closeupUnifiedDescription,grid_title:null!==(c=y.gridTitle)&&void 0!==c?c:"",story_pin_data_id:y.storyPinDataId,repin_count:null!==(d=y.repinCount)&&void 0!==d?d:0,tracked_link:y.trackedLink,link:y.link,domain:null!==(u=y.domain)&&void 0!==u?u:"",closeup_attribution:Yt(y.closeupAttribution),link_domain:{official_user:Yt(null===(p=y.linkDomain)||void 0===p?void 0:p.officialUser)},native_creator:Xt(y.nativeCreator),pinner:Xt(y.pinner),origin_pinner:Xt(y.originPinner),board:(b=y.board,{id:null!==(w=null==b?void 0:b.entityId)&&void 0!==w?w:"",image_thumbnail_url:null!==(S=null==b?void 0:b.imageThumbnailUrl)&&void 0!==S?S:"",name:null!==(I=null==b?void 0:b.name)&&void 0!==I?I:"",privacy:(T=null==b?void 0:b.privacy,"protected"===T||"public"===T||"secret"===T?T:"secret"),url:null!==(P=null==b?void 0:b.url)&&void 0!==P?P:"",type:"board"}),pin_join:{annotations_with_links_array:null!==(x=null===(m=y.pinJoin)||void 0===m?void 0:m.annotationsWithLinksArray,h=null==x?void 0:x.map((e=>({name:e.name,url:e.url}))))&&void 0!==h?h:[],visual_annotation:null!==(g=null===(f=y.pinJoin)||void 0===f?void 0:f.visualAnnotation)&&void 0!==g?g:[]},story_pin_data:{metadata:{pin_title:null===(_=y.storyPinData)||void 0===_||null===(v=_.metadata)||void 0===v?void 0:v.pinTitle}},type:"pin"},isLoaded:!0}:null;var x,b,w,S,I,P,T,k,C,j,E,A,F,D,R,O,L,M,z,Z,N,B,U,H},useLegacyAdapter:function({pinId:e}){const{data:t,isLoaded:n}=(0,p.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0}});return{pin:t,isLoaded:n}}});function Qt(){const{checkExperiment:e}=(0,d.F)(),t=(0,c.ZP)(),n=(0,a.useRouteMatch)(),{pinId:i}=(0,h.Z)(n.params.id||"");return(0,j.jsx)(Jt,{input:e("web_graphql_flashlight_unauth_pinResource").anyEnabled?{enabled:!0,data:{pinId:i},suspense:{fallback:(0,j.jsx)(s.$j,{accessibilityLabel:t._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:i}},children:({data:e})=>!!e&&(0,j.jsx)($t,{pinResponse:e})})}var en=n(722545);const tn=function(){const e=(0,i.HG)(),t=(0,r.Z)();return e?t.isAuth?(0,j.jsx)(en.ZP,{}):(0,j.jsx)(Qt,{}):(0,j.jsx)(at,{})}},66749:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(479218);const r=5e3;function o(){const e=new i.H("/resource/StatsLogResource/create/","StatsLogResource",(e=>({source:"browser",stats:e})),r);return{log:(t,n,i,r={})=>{const{sampleRate:o=.1,tags:a={}}=r,s=[t,n,i,o,a];e.enqueue(s)}}}},67347:(e,t,n)=>{n.d(t,{LY:()=>a,QX:()=>o,nP:()=>r});const i=(0,n(66749).Z)();function r(e,t){i.log(e,1,"c",t)}function o(e,t,n){i.log(e,t,"c",n)}function a(e,t,n){i.log(e,t,"ms",n)}},127525:(e,t,n)=>{n.d(t,{I:()=>d,Z:()=>u});var i=n(667294),r=n(616550),o=n(473727),a=n(201342),s=n(785893);const l=(0,i.createContext)(null);function c({children:e}){const t=(0,r.useLocation)(),n=(0,i.useMemo)((()=>t),[]);return(0,s.jsx)(l.Provider,{value:n,children:e})}function d(){return(0,r.useLocation)()===(0,i.useContext)(l)}function u({children:e,initialLocation:t}){return(0,s.jsx)(o.VK,{children:(0,s.jsx)(a.tn,{children:(0,s.jsx)(c,{children:e})})})}},373897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,t,n)=>{var i=n(373897);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,t,n)=>{var i=n(386116);e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,t,n)=>{var i=n(238416);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,t,n)=>{var i=n(163405),r=n(379498),o=n(386116),a=n(742281);e.exports=function(e){return i(e)||r(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,t,n)=>{var i=n(373897);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},497326:(e,t,n)=>{function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>i})},487462:(e,t,n)=>{function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(this,arguments)}n.d(t,{Z:()=>i})},875068:(e,t,n)=>{function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}n.d(t,{Z:()=>r})},172875:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:()=>o})},263366:(e,t,n)=>{function i(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,{Z:()=>i})}},e=>{e.O(0,[14865],(()=>{[97270,92982,47424,27982,58209,48035,27021,5035,43473,22347,22538,1593].map(e.E)}),5);e.O(0,[97270,83119,67631,16550,26067,31551,6284,35303,87072,50040,54176,99961,76030,27405,58103,31961,56638,58954,81582,90692,60568,71449,20946],(()=>{return t=269458,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search-8286111f400a13f2.mjs.map