(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[20946],{879856:e=>{var n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i=[n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null};a.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=a},7745:e=>{var n,i,a,l,t,o,r,s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},t={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},o={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l,t,o,r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},r],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s},843494:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"c4db8a7b324600a215bc35cef16f2f83"};e.exports=n},741316:e=>{var n,i,a,l,t,o,r,s,d,c,u,p,m,_,g,h,y={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},n,s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d=[o,r,l,s],storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[i,c={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:_=[i,c,u,p,m],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},c,u,p,m],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:_,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,g={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},h={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[a,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[i,a,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:_,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:_,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[i,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},r,s,l],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[a,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};y.hash="c5fe9ba4f3b40fb3c8fdc26cc02e0aad",e.exports=y},860389:e=>{var n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="5b16e8d36c1fe0135f65a9c3aaec6092",e.exports=i},276667:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null,hash:"8d0233fe1acbc77ec2b5a1754e0a6e36"};e.exports=n},482836:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"8f9d12b0eee9d408e23c20c11af28777"};e.exports=n},12617:e=>{var n,i,a,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n,a={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};l.hash="69c8282217ea70788d1578a6885fe8bd",e.exports=l},975261:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"2fb133623620997264f81544f7f43636"};e.exports=n},85934:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=n},877821:e=>{var n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n,i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},i,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};a.hash="16fa74c6691fea1cd19a833e3523aade",e.exports=a},569772:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=n},310227:(e,n,i)=>{i.d(n,{Dv:()=>t,Ml:()=>o,Oc:()=>a,mv:()=>l});const a=16,l=4,t={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},o=120},283698:(e,n,i)=>{function a(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}i.d(n,{Z:()=>a})},903095:(e,n,i)=>{i.d(n,{Mi:()=>l,lO:()=>t});var a=i(425288);const{Provider:l,useMaybeHook:t}=(0,a.Z)("pageContext")},378518:(e,n,i)=>{i.d(n,{_:()=>d,a:()=>c});var a=i(667294),l=i(702664),t=i(618446),o=i.n(t),r=i(332611),s=i(780280);const d=({extraContext:e,id:n,shouldUsePlacedExperience:i=!0})=>{const t=(0,a.useRef)(),d=(0,l.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,l.useSelector)((e=>e.experiences[n]));return(0,a.useEffect)((()=>{d((0,r.kd)(n))}),[d,u,n]),(0,a.useEffect)((()=>{i||o()(t.current,e)||(d((0,r.pz)([n],c,e)),t.current=e)}),[d,e,c,n,i]),u},c=e=>(d(e),(0,l.useSelector)((n=>n.experiencesMulti[e.id])))},430322:(e,n,i)=>{i.r(n),i.d(n,{default:()=>y});var a=i(667294),l=i(883119),t=i(283698),o=i(968121),r=i(898781),s=i(124580),d=i(780280),c=i(223815),u=i(867820),p=i(50286),m=i(965900),_=i(785893);const g=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},h=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function y({accessibilityModalLabel:e,align:n="center",allowScroll:i=!1,children:y,closeOnOutsideClick:v=!0,footer:f,heading:b,mobileAccessibilityCloseIconLabel:x,mobileHideCloseIcon:k,mobileIsFullscreen:P,isOpen:w,mobileIsSlideUp:S,mobileIsFooter:T,onDismiss:I,zIndex:j,subHeading:D,type:A}){const C=(0,r.ZP)(),{isRTL:L}=(0,d.B)(),F=(0,a.useRef)(!1),[z,M]=(0,a.useState)(!1),{setAppFocusState:U}=(0,m.I)(),K=(0,p.ZP)();(0,a.useEffect)((()=>{(0,u.My)(`mweb_unauth.mobile_modal.${A||"unknown_type"}.did_mount.is_open.${String(!!w)}`)}),[w,A]),(0,a.useEffect)((()=>(F.current=(0,t.Z)((()=>{F.current&&M(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&F.current&&(window.cancelAnimationFrame(F.current),F.current=null)})),[]),(0,a.useEffect)((()=>(w?(s.Z.pause(),U(!1)):(s.Z.resume(),U(!0)),()=>{w&&(s.Z.resume(),U(!0))})),[U,w]),(0,a.useEffect)((()=>{const e=w&&!i;return e&&g(),()=>{e&&h()}}),[w,i]);return w?(0,_.jsx)(c.Z,{children:(0,_.jsx)(l.mh,{children:(0,_.jsxs)(l.xu,{"aria-label":e,display:"inlineBlock",zIndex:j||o.ZM,position:"relative",role:"dialog",children:[(0,_.jsx)(l.iP,{accessibilityLabel:C._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{const n=e;(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${A||"unknown_type"}.with_dismissal`,{x:n.clientX,y:n.clientY}),v&&I()},tapStyle:"none",children:(0,_.jsx)(l.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,_.jsxs)(l.xu,{position:"fixed",color:"default",dangerouslySetInlineStyle:S?(0,o.Vf)({isFullscreen:P,isTablet:"tablet"===K,isShowing:z,isRelatedInterestsModal:"related_interests_modal"===A}):(0,o.JN)({variant:P?"fullscreen":"tablet"===K?"tablet":T?"footer":"signup"===A?"signup":void 0}),children:[(0,_.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[x&&!k?(0,_.jsx)(l.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,_.jsx)(l.hU,{accessibilityLabel:x,iconColor:"darkGray",icon:"cancel",onClick:I,padding:4,size:"sm"})}):null,b?(0,_.jsx)(l.kC.Item,{flex:"grow",children:(0,_.jsx)(l.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,_.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:x&&!k?{marginRight:L?-10:50,marginLeft:L?50:-10}:{}},children:[P?b:(0,_.jsx)(l.xv,{align:n,weight:"bold",size:"400",children:b}),D?(0,_.jsx)(l.xv,{align:n,children:D}):null]})})}):null]}),(0,_.jsxs)(l.xu,{overflow:"auto",children:[y,f]})]})]})})}):null}},166300:(e,n,i)=>{i.d(n,{Z:()=>s});var a=i(883119),l=i(444445),t=i(134879),o=i(50286),r=i(785893);const s=({children:e,roundedForLargeDevice:n})=>{const i="phone"!==(0,o.ZP)()&&n;return(0,t.V)()?(0,r.jsx)(a.xu,{marginStart:-l.D6,marginEnd:-l.D6,rounding:i?6:void 0,overflow:i?"hidden":void 0,children:(0,r.jsx)(t.C,{value:!1,children:e})}):e}},627995:(e,n,i)=>{i.d(n,{Z:()=>c});var a=i(883119),l=i(112690),t=i(903095),o=i(898781),r=i(927104),s=i(785893);const d=(e,n)=>{let i={};if(e){const{pinData:a,viewData:l}=e;i={unauth_click_pin_id:a.id,unauth_click_pin_image_signature:a.imageSignature},3===n?i={...i,unauth_page_pin_id:l.id,unauth_page_pin_image_signature:l.imageSignature}:5===n&&(i={...i,unauth_page_board_id:l.id})}return i},c=({clickLoggingOptions:e,domain:n,link:i,onClick:c})=>{var u;const p=null===(u=(0,t.lO)())||void 0===u?void 0:u.logging,m=(0,o.ZP)(),_=(0,l.Z)(),g=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((n=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...n})));return(0,s.jsx)(a.iP,{onTap:({event:e})=>{e.stopPropagation(),g().forEach((e=>_(e))),c(e)},children:(0,s.jsxs)(a.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,s.jsx)(a.xu,{marginEnd:1,children:(0,s.jsx)(a.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:m._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,s.jsx)("a",{href:i,onClick:e=>{e.stopPropagation(),g().forEach((e=>_(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,s.jsx)(a.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,r.Z)(n,27)})})]})})}},55275:(e,n,i)=>{i.d(n,{P:()=>r,t:()=>s});var a=i(214494),l=i(186656);const t=()=>{};const o={complaint:function(e,n){a.Z.create("PinFeedbackResource",e).callUpdate().then((()=>n()))},followBoard:function(e,n){a.Z.create("BoardFollowResource",e).callCreate().then((()=>n()))},followPinner:function(e,n){a.Z.create("UserFollowResource",e).callCreate().then((()=>n()))},followTopic:function(e,n){a.Z.create("InterestFollowResource",e).callCreate().then((()=>n()))},newsHubPinHide:function(e,n){(0,l.Z)({url:e.undo?`/v3/news_hub/${e.newsId}/pin/${e.pinId}/undo/`:`/v3/news_hub/${e.newsId}/pin/${e.pinId}/hide/`,method:"PUT"}).then((()=>n()))},promotedComplaint:function(e,n){a.Z.create("PinFeedbackResource",e).callUpdate().then((()=>n()))},relatedPinHide:function(e,n){(0,l.Z)({url:e.undo?`/v3/p2p/${e.pin}/unhide/`:`/v3/p2p/${e.pin}/hide/`,method:"PUT"}).then((()=>n()))},reportPin:function(e,n){n()},showAdReasons:function(e,n){n()},unfollowBoard:function(e,n){a.Z.create("BoardFollowResource",e).callDelete().then((()=>n()))},unfollowPinner:function(e,n){a.Z.create("UserFollowResource",e).callDelete().then((()=>n()))},unfollowTopic:function(e,n){a.Z.create("InterestFollowResource",e).callDelete().then((()=>n()))},unrelatedSearchPin:function(e,n){(0,l.Z)({url:e.undo?`/v3/search/${e.pin_id}/unhide/`:`/v3/search/${e.pin_id}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then((()=>n()))}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,n,i=t){const a=e?o[e]:null;return a?a(n,i):i()}},680046:(e,n,i)=>{i.d(n,{EF:()=>g,Iv:()=>c,Ud:()=>d,XZ:()=>m,fJ:()=>s,hP:()=>r,nb:()=>_,oK:()=>u,yl:()=>p});var a=i(349700),l=i(55275),t=i(760372);const o=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function r({boardFollowedByMe:e,feedbackType:n,viewParameter:i,promotion:a,recommendationReason:l,pinnerFollowedByMe:t}){if(a&&!a.isDownstreamPromotion)return"promoted";if(n)return n;if(l){if("FOLLOWED_INTEREST"===l.reason)return"topic";if("FOLLOWING_FEED"!==l.reason&&"RECENT_FOLLOWED_BOARD"!==l.reason)return l.hasBoard?"pfyBoard":"pfy"}if(e||t)return"followed";switch(i){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function s({feedbackData:e,feedbackType:n,pinId:i,recommendationReasonId:a,pinFeedbackType:l,complaintReason:t,throughId:o,throughProperties:r,clientTrackingParams:s}){switch(n){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==e?void 0:e.query,pin_id:i}};case"related":return{action:"relatedPinHide",actionOptions:{pin:i}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:i,newsId:null==e?void 0:e.newsId}};default:const d="promoted"===n;return{action:d?"promotedComplaint":"complaint",actionOptions:{complaint_reason:t||0,pin_id:i,...a?{recommendation_reason_id:a}:{},feedback_type:l||1,promoted:d,...o?{through_id:o}:{},...r?{through_properties:r}:{},...s?{client_tracking_params:s}:{}}}}}function d({feedback:e,i18n:n,makeNavigateLink:i}){var l,t,r,s,d,c,u,p;switch(e.type){case"pfy":return n._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{recommendationReasonBoard:m}=e;return m?(0,a.nk)(n._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:i("navigation",m.url,m.name)}):null;case"topic":const{sourceInterest:_}=e;return _?(0,a.nk)(n._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:i("topicUrl",`/topics/${_.url_name}`,_.name)}):null;case"followed":const{followed:g}=e;return"pinner"===g.type?(0,a.nk)(n._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:i("pinnerUrl",`/${null!==(l=null===(t=g.pinner)||void 0===t?void 0:t.username)&&void 0!==l?l:""}`,o(null!==(r=null===(s=g.pinner)||void 0===s?void 0:s.full_name)&&void 0!==r?r:""))}):(0,a.nk)(n._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:i("boardUrl",null!==(d=null===(c=g.board)||void 0===c?void 0:c.url)&&void 0!==d?d:"",o(null!==(u=null===(p=g.board)||void 0===p?void 0:p.name)&&void 0!==u?u:""))});case"promoted":if(e.promoter){const{full_name:l,username:t}=e.promoter,o=i("promotedLink",t?"/"+t+"/":"/",l);return(0,a.nk)(n._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:o})}return n._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:return null}}function c({sourceInterest:e,i18n:n,makeNavigateLink:i}){var l,o;return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:t.X},title:"",subTitle:(0,a.nk)(n._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:i("topicUrl",`/topics/${null!==(l=e.url_name)&&void 0!==l?l:""}`,null!==(o=e.name)&&void 0!==o?o:"",!0)})}}function u({boardId:e,display:n,i18n:i,makeNavigateLink:l}){var t,o,r,s;return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===n.type?(0,a.nk)(i._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:l("pinnerUrl",`/${null!==(t=n.data.username)&&void 0!==t?t:""}`,null!==(o=n.data.full_name)&&void 0!==o?o:"",!0)}):(0,a.nk)(i._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:l("boardUrl",null!==(r=n.data.url)&&void 0!==r?r:"",null!==(s=n.data.name)&&void 0!==s?s:"",!0)})}}function p(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function m(e){return null==e?void 0:e.through_properties}function _(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function g(e,n,i,a,t,o,r){return()=>{const s={...e,undo:!0};let d=n;"unfollowPinner"===n?d="followPinner":"unfollowBoard"===n?d="followBoard":"unfollowTopic"===n&&(d="followTopic"),(0,l.t)(d,s),o(i),r({event_type:101,component:0,element:11181,view_type:a,view_parameter:t})}}},958007:(e,n,i)=>{i.d(n,{Z:()=>t});var a=i(992750);const l=e=>(e||"").trim().replace(/\s+/g," "),t=({storyPinDataId:e,pinDescription:n,richMetadataDescription:i,richSummaryDisplayName:t,closeupDescription:o,closeupUnifiedDescription:r,seoDescription:s,seoNoindexReason:d})=>{if(d&&a.eg.has(d))return l(s);return!!e?l(n):l((0,a.eK)({richMetadataDescription:i,richSummaryDisplayName:t,closeupUnifiedDescription:r}).description)||l(r||"")||l(o)||l(n)||l(i)||""}},992750:(e,n,i)=>{i.d(n,{eg:()=>o,kt:()=>_,hP:()=>p,fs:()=>d,eK:()=>c,Ly:()=>u,BY:()=>m,bN:()=>g,RC:()=>r,EU:()=>s});const a=/\s\s+/g,l=e=>e.replace(a," ");var t=i(883561);const o=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),r=({storyPinDataMetadataPinTitle:e,pinTitle:n})=>e||n,s=(e,n)=>e?e.trim().length>n?(0,t.ZP)(e.trim(),n).trim():e.trim():"",d=({pinTitle:e,gridTitle:n,richSummaryDisplayName:i,richMetadataTitle:a,storyPinDataId:l,storyPinDataMetadataPinTitle:t})=>{const o=t||e,r=s(n,200);return r||(i||(a||(l&&o?o:null)))},c=e=>{const{richSummaryDisplayName:n}=e,i=e.pinJoinVisualAnnotation||[],a=e.pinJoinAnnotationsWithLinks||{},o=e.richMetadataDescription||"",r=e.closeupUnifiedDescription||"",s=i.map((e=>(a||{})[e]||{name:e,url:""}));let d="";const c=(n||"").toLocaleLowerCase().trim(),u=o.toLocaleLowerCase().trim(),p=r.toLocaleLowerCase().trim();return r&&r.length>3&&p!==c?d=r:o&&o.length>3&&u!==c&&(d=o),d&&(d=l((0,t.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:s}},u=({pinTitle:e,gridTitle:n,richSummaryDisplayName:i,richMetadataTitle:a,storyPinDataId:l,storyPinDataMetadataPinTitle:t,pinJoinVisualAnnotation:r,pinJoinAnnotationsWithLinks:s,seoNoindexReason:u,seoTitle:p})=>{if(u&&o.has(u))return p;const{annotationsWithLinks:m}=c({pinJoinVisualAnnotation:r,pinJoinAnnotationsWithLinks:s}),_=(m||[]).map((e=>e.name)),g=e=>(e||[])[0]||null;return d({pinTitle:e,gridTitle:n,richSummaryDisplayName:i,richMetadataTitle:a,storyPinDataId:l,storyPinDataMetadataPinTitle:t})||g(r)||g(_)||e},p=(e,n,i,a)=>{var l;let t=(l=e,"string"==typeof l?l:"").trim();return i?(a&&a.trim().length&&(t=a),i.length>0&&(t&&(t+=" "),t+=i.join(", ")),t):a&&a.trim().length?a:t},m=e=>`/pin/${e}/`,_=(e,n)=>{const i=`Pinterest video from ${n}: `.concat(e);return""===n?e:i},g=({pinId:e,seoUrl:n})=>n&&"string"==typeof n?n:m(e)},857079:(e,n,i)=>{i.d(n,{Z:()=>t});var a=i(883119),l=i(785893);function t({accessibilityLabel:e}){return(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(a.$j,{accessibilityLabel:e,show:!0})})}},296011:(e,n,i)=>{i.d(n,{Z:()=>s,t:()=>d});var a=i(667294),l=i(167912),t=i(214494);function o(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}const r={};class s extends a.Component{constructor(...e){super(...e),o(this,"state",{invite:r[this.props.invite_code]||null,loaded:this.props.invite_code in r})}componentDidMount(){const{invite_code:e}=this.props;t.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((n=>{if(n&&n.resource_response){const i=n.resource_response.data;r[e]=i,this.setState({invite:i,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:n}=this.state;return n?this.props.children(e):null}}class d extends a.Component{constructor(...e){super(...e),o(this,"state",{invite:r[this.props.invite_code]||null,loaded:this.props.invite_code in r})}componentDidMount(){const{invite_code:e,relayEnvironment:n,inviteQuery:i}=this.props;(0,l.fetchQuery)(n,i,{invite_code:e}).subscribe({next:e=>{var n;if(null!==(n=e.v3GetInviteCodeQuery)&&void 0!==n&&n.data){const n=e.v3GetInviteCodeQuery;this.setState({invite:n,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:n}=this.state;return n?this.props.children(e):null}}},477802:(e,n,i)=>{i.d(n,{W:()=>o,Z:()=>t});var a=i(883119),l=i(785893);function t({data:e}){return(0,l.jsx)(a.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,l.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const o=e=>(0,l.jsx)(a.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,l.jsx)(t,{...e})})},753311:(e,n,i)=>{i.d(n,{M:()=>o,Q:()=>t});var a=i(667294);const l=(0,a.createContext)(null),t=()=>(0,a.useContext)(l),o=l.Provider},690035:(e,n,i)=>{i.d(n,{Z:()=>l});var a=i(753311);const l=()=>{var e;return(null===(e=(0,a.Q)())||void 0===e?void 0:e.showUnauthContextMenu)||(()=>{})}},327476:(e,n,i)=>{i.d(n,{Z:()=>l});var a=i(773285);function l(){const{checkExperiment:e}=(0,a.F)();return n=>e("web_transform_promoted_text").anyEnabled?n.replace(" ","  "):n}},8320:(e,n,i)=>{i.d(n,{Z:()=>d});var a=i(883119),l=i(63552),t=i(785893);const o={__style:{borderRadius:"4px",padding:"10px 14px"}},r={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:n,customStyles:i,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:m=70,onTouch:_,pressState:g,shape:h,text:y})=>{const v=(e=>"primary"===e||"transparent"===e||"dark"===e?"inverse":"default")(n),f=(({color:e,icon:n})=>n?s:"transparent"===e?{__style:{...o.__style,...r}}:o)({color:n,icon:c}),b=(0,t.jsx)(a.xu,{position:"relative",children:(0,t.jsx)(a.xu,{color:n,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:m,dangerouslySetInlineStyle:"pill"===h?(x=i,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...x}}):f,children:(0,t.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,t.jsx)(a.xu,{paddingX:"check"===c?2:0,children:(0,t.jsx)(a.JO,{accessibilityLabel:e,color:v,icon:c,inline:!0,size:"check"===c?16:20})}),(0,t.jsx)(a.xv,{color:v,inline:!0,size:"300",lineClamp:1,weight:"bold",children:y})]})})});var x;return _?(0,t.jsx)(l.Z,{onTouch:_,rounding:"pill"===h?"pill":2,pressState:g||"none",children:(0,t.jsx)(a.xu,{ref:d,children:b})}):b}},57791:(e,n,i)=>{i.d(n,{MZ:()=>F,di:()=>M,Ai:()=>z});var a=i(667294),l=i(616550),t=i(883119),o=i(112690),r=i(926275),s=i(53987),d=i(773285),c=i(383690),u=i(30287),p=i(780280),m=i(844974),_=i(339363),g=i(867820),h=i(19121),y=i(598615),v=i(296679),f=i(938917),b=i(8320),x=i(250059),k=i(407043),P=i(48714),w=i(149230);const S=({children:e,external:n,externalQueryParams:i,target:a,href:t})=>{const{logContextEvent:o}=(0,k.v)(),r=(0,l.useHistory)(),s=(0,l.useLocation)();if(!t)return null;const d=(0,x.Z)(t);return e({navigate:e=>{e.preventDefault(),(0,w.Z)({url:d})||n?(0,P.lI)({href:d,queryParams:i,location:s},o,null):(0,P.G3)({event:e,href:t,history:r,target:"blank"===a?"blank":null})}})};var T=i(785893);const I=({accessibilityLabel:e,children:n,external:i,externalQueryParams:a,inline:l=!1,newTab:o,nofollow:r,onTouch:s,onBlur:d,onFocus:c,pressState:u,rounding:p,to:m})=>(0,T.jsx)(S,{external:i,target:o?"blank":null,externalQueryParams:a,href:m,children:({navigate:i})=>(0,T.jsx)(t.rU,{accessibilityLabel:e,onBlur:d?({event:e})=>d(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,x.Z)(m),display:l?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),null==s||s(e),e.defaultPrevented||i(e)},rel:r?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:n})}),j=({external:e,externalQueryParams:n,newTab:i,onTouch:a,to:l,...t})=>(0,T.jsx)(S,{external:e,target:i?"blank":null,externalQueryParams:n,href:l,children:({navigate:e})=>(0,T.jsx)(b.Z,{onTouch:n=>{null==a||a(n),n.defaultPrevented||e(n)},...t})});var D=i(329900),A=i(948376),C=i(698330);const L=(e,n=!1)=>function({isAppUpsellDisabled:i,...b}){const{children:x,clientTrackingParams:k,deeplinkUri:P,external:w,onTouch:S,refresh:I,to:j,viewParameter:L,viewType:F}=b,z=(0,f.Z)(),[M,U]=(0,a.useState)(!1),[K,Z]=(0,a.useState)(!1),[R,N]=(0,a.useState)(!1),[B,E]=(0,a.useState)("control"),{isAuth:O}=(0,h.Z)(),{userAgent:{platform:q,browserName:G},locale:W}=(0,p.B)(),H=(0,C.Tt)(),V=(0,o.Z)(),{checkExperiment:$}=(0,d.F)(),J=(0,l.useLocation)(),Y=(0,c.Z)();(0,a.useEffect)((()=>{!async function(){if("getInstalledRelatedApps"in navigator){N(!0);(await navigator.getInstalledRelatedApps()).length>0&&Z(!0)}}()}),[]),(0,a.useEffect)((()=>{O||(0,g.My)(`unauth.app_upsell.has_app.${K.toString()}`,{browser:G,platform:q})}),[G,K,O,q]);const Q=()=>{V({event_type:1701,view_type:F,view_parameter:L}),M&&U(!1)};return(0,T.jsxs)(t.xu,{"data-test-id":"deeplink-wrapper",children:[M&&(0,T.jsx)(v.Z,{clientTrackingParams:k,copyChangeGroup:B,deepLinkUri:P,isOpen:!0,onDismiss:()=>{V({component:14157,element:10308,event_type:10220,view_type:F||202,view_parameter:L,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,m.Nh)("deeplinkBehavior","branchfallback"),Q()},shouldTrackDismiss:!0,to:j,viewParameter:L,viewType:F,within:"deep-link-app-upsell-modal"}),(0,T.jsx)(D.Z,{children:a=>(0,T.jsx)(e,{...b,onTouch:e=>{const l=z&&!i&&O&&!w&&!I&&!(0,u.FP)(window)&&!("ios"===q&&(W||"").startsWith("ar"))&&(0,A.kp)((0,r.Z)(null==H?void 0:H.created_at));if(l){let n=!0,i=!1;if("string"==typeof P&&(P||"").startsWith("/pin/")&&((0,s.uM)(J)||(0,s.am)(J)||(0,s.C$)(J))){if(R){if(K&&P&&"android"===q&&$("mweb_auth_deep_link_app_installed_user").anyEnabled){Y();const e=$("mweb_auth_deep_link_app_installed_user").group;"enabled_triggering_change"===e?n=!1:E(e)}K||E("enabled_copy_change_4")}}else $("mweb_auth_deep_link_other_triggering").anyEnabled&&(Y(),n=!1,"enabled_no_deeplink"===$("mweb_auth_deep_link_other_triggering").group&&(i=!0));if(n)e.stopPropagation(),e.preventDefault(),U(!0);else if(!i){e.stopPropagation(),e.preventDefault(),V({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}});const n=$("mweb_auth_deep_link_fix_function_helper").anyEnabled?y.SV:y.BH;a(null!=P?P:n(J),"deep-link-app-upsell-modal")}}else"branchfallback"!==(0,m.qn)("deeplinkBehavior")||(0,_.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,_.Nh)("fallbackAttempt",1),a(P,"deep-link-app-upsell-modal",`${window.location.origin}${t=j,"string"==typeof t?t:`${t.pathname||""}${t.search?`?${t.search}`:""}`}`),Q());var t;n&&l||!S||S(e)},children:x})})]})},F=L(I),z=L(j),M=L(b.Z,!0)},329900:(e,n,i)=>{i.d(n,{Z:()=>y});var a=i(407043),l=i(780280),t=i(619277),o=i(948376),r=i(172071),s=i(826067);const d="http://play.google.com/store/apps/details?id=com.pinterest",c=["access_token","new_password","new_password_confirm","password","next"],u=(e,n)=>n?(0,s.ru)(e,{invite_code:n}):e,p=(e,n,i)=>{if("ios"===n&&"string"==typeof e&&e.startsWith("discover/article/")){const n=e.split("/")[2];e=`discover_article/${n}/?is_deeplink=1`}return"string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e?u(e,i):"ios"===n||"ipad"===n?u(e.iOS,i):"android"===n?u(e.android,i):null},m=({deeplinkUri:e,fallbackUrl:n,invite_code:i,logContextEvent:a,platform:l,redirectToLite:t,unauthId:o,userAgent:u,within:m})=>{if(null==a||a({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),e){const _=(({deeplinkUri:e,invite_code:n,platform:i,fallbackUrl:a,unauthId:l})=>({deeplink_path:p(e,i,n),current_page_url:(0,s.Gw)("undefined"!=typeof window?window.location.href:"",c),install_id:l,utm_source:140,utm_medium:2152,...a?{af_r:a}:null}))({deeplinkUri:e,fallbackUrl:n,invite_code:i,platform:l,unauthId:o,userAgent:u});if(r.Z.increment("mweb.deeplink",1,{platform:l}),i&&r.Z.increment("mweb.deeplink.invite_code",1),r.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(o)}),t){r.Z.increment("mweb.deeplink.lite_link",1),null==a||a({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});const e=(({unauthId:e})=>{const n=(0,s.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(n)}})({unauthId:o});window.location.href=(0,s.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===l){const n=(({deeplinkUri:e,invite_code:n,platform:i,unauthId:a})=>{const l=JSON.stringify({deeplink_path:p(e,i,n),current_page_url:(0,s.Gw)("undefined"!=typeof window?window.location.href:"",c),install_id:a});return{referrer:(0,s.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:l})}})({deeplinkUri:e,invite_code:i,platform:l,unauthId:o});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){null==a||a({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});const e=(0,s.ru)(window.location.href,_);window.open(e)}else null==a||a({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,s.ru)(d,n)})).catch((()=>{r.Z.increment("mweb_android.deeplink.playStore.error",1)})):(null==a||a({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,s.ru)(d,n))}else{if(r.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===l&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,s.ru)("https://pinterest.com/pinterest-predicts",_));null==a||a({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,s.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",_)}}};var _=i(785893);function g({children:e,invite_code:n}){const{unauthId:i,userAgent:{platform:t,raw:r}}=(0,l.B)(),{logContextEvent:s}=(0,a.v)();return e((async(e,a,l)=>{s({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:a}}),m({deeplinkUri:e,fallbackUrl:l,invite_code:n,logContextEvent:s,platform:t,redirectToLite:(0,o.Rp)({platform:t,userAgent:r}),unauthId:i,userAgent:r,within:a})}))}const h=e=>(0,_.jsx)(t.ty,{children:n=>(0,_.jsx)(g,{...e,invite_code:n})});h.displayName="DeepLinkNavigator";const y=h},861411:(e,n,i)=>{i.d(n,{fv:()=>h,GR:()=>p,Hs:()=>v,Mv:()=>_,uc:()=>g,dL:()=>m,qS:()=>y,Y4:()=>x,HE:()=>b,Cy:()=>f});var a=i(667294),l=i(973935),t=i(407043),o=i(124580),r=i(785893);function s(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}class d extends a.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,l.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:n}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||n||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return a.Children.only(this.props.children)}}function c(e){const{logImpression:n}=(0,t.v)();return(0,r.jsx)(d,{...e,logImpression:n})}function u({auxData:e,component:n,eventData:i,eventType:l,impressionType:r,isPaused:s,objectIdStr:d,viewData:c,viewType:u,viewParameter:p}){const m=(0,a.useRef)(null),{logImpression:_}=(0,t.v)(),g=(0,a.useCallback)((()=>{const a=a=>{var t,o,s,g;_({viewData:c||{},viewType:u,viewParameter:p,eventType:l,impressionType:r,auxData:e,component:n,objectIdStr:d,eventData:{endTime:a.endTime,time:a.startTime,pinCellWidth:(null===(t=m.current)||void 0===t?void 0:t.getBoundingClientRect().width)||0,pinCellHeight:(null===(o=m.current)||void 0===o?void 0:o.getBoundingClientRect().height)||0,windowWidth:null===(s=window)||void 0===s?void 0:s.innerWidth,windowHeight:null===(g=window)||void 0===g?void 0:g.innerHeight,...i}})};try{if(m.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:n}=i;o.Z.start(m.current).onExitViewport(a).setDebugId(e||n||"unknown")}}catch(t){window.console.error('Can only track impressions for type "HTMLElement"')}}),[m.current]);return(0,a.useEffect)((()=>{s||g();const{current:e}=m;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}}),[s,g]),m}const p=e=>(0,r.jsx)(c,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),m=e=>{const n=u({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},_=e=>{const n=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:n})},g=e=>{const n=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:n})},h=e=>(0,r.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),y=e=>{const n=u({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},v=e=>(0,r.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),f=e=>{const n=u({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},b=e=>{const n=u({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},x=e=>{const n=u({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})}},63552:(e,n,i)=>{i.d(n,{Z:()=>t});var a=i(883119),l=i(785893);function t({children:e,onMouseEnter:n,onMouseLeave:i,onTouch:t,rounding:o,fullWidth:r=!1,pressState:s="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(s)?s:[s]).includes("compress");return(0,l.jsx)(a.iP,{fullWidth:r,onMouseEnter:n&&(({event:e})=>n(e)),onMouseLeave:i&&(({event:e})=>i(e)),onTap:t&&(({event:e})=>t(e)),rounding:o,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},409778:(e,n,i)=>{i.d(n,{Z:()=>de});var a=i(667294),l=i(167912),t=i(616550),o=i(883119),r=i(81226),s=i(605841),d=i(934494),c=i(898781),u=i(53987),p=i(623568),m=i(310227),_=i(773285),g=i(780280),h=i(867820),y=i(52022),v=i(690035),f=i(50286),b=i(702664),x=i(112690),k=i(499128),P=i(343341),w=i(826067),S=i(829407),T=i(361115),I=i(364034),j=i(881802),D=i(927383),A=i(332611),C=i(8320),L=i(57791),F=i(662089),z=i(639952),M=i(698330),U=i(977734),K=i(580751),Z=i(785893);const R=new o.Ry(1);function N({buttonText:e,clientTrackingParams:n,color:i="primary",deeplinkUri:l,experience:r,inline:s=!0,minWidth:d,onTouch:u,onUnsave:p,pinId:m,pinnedToBoardId:_,shape:g,shouldShowSavedButton:h,viewType:v,viewParameter:f,showSaveHandoffExperience:P}){var w;const S=(0,c.ZP)(),T=(0,b.useDispatch)(),I=(0,t.useHistory)(),N=(0,t.useLocation)(),B=(0,K.M)(),E=N.pathname.startsWith("/pin"),O=(0,b.useSelector)((({session:e})=>e.hasSavedUnauthPin)),q=(0,b.useSelector)((({session:e})=>e.unauthSavePinId)),G=null===(w=(0,M.Tt)())||void 0===w?void 0:w.pin_count,W=(0,x.Z)(),H=(0,y.Z)(),V=e=>I.push(e),{showToast:$,showRepinConfirmation:J}=(0,F.Z)(),Y=()=>{var e;T((0,U.Z)({history:I,i18n:S,logContextEvent:W,onSuccess:()=>{r&&T((0,A.CK)(r.placement_id,r.experience_id))},originalPinId:m,pinId:m,trackingParams:{clientTrackingParams:n,pinnedToBoardId:_},showRepinConfirmation:P&&!E?()=>{}:J,disableRepinAnimation:q===m,pinCount:G,historyPush:V,savePinId:null!==(e=null==B?void 0:B.save)&&void 0!==e?e:()=>{}})).catch((e=>$((({hideToast:n})=>(0,Z.jsx)(k.ZP,{type:"error",text:e.message||S._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:n})))))},Q=(0,a.useRef)(null),X=P&&!O,ee=(0,D.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),u&&u(e),h?h&&p&&p():Y()},modalHeader:(0,j.Bx)(S)});(0,a.useEffect)((()=>{X&&!Q.current&&(H({action:"trigger",item:"unauth-save-button-quicksave"}),W({event_type:14581}),Y(),T((0,z.e2)())),Q.current=X}));const ne=()=>S._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),ie=()=>e||S._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return O&&!E?null:(0,Z.jsx)(o.xu,{"data-test-id":"save-button-mobile",zIndex:R,children:l?(0,Z.jsx)(L.di,{accessibilityLabel:ne(),color:i,customStyles:{padding:"14px 16px"},deeplinkUri:l,inline:s,minHeight:48,minWidth:d,onTouch:ee,pressState:["compress","background"],shape:g,size:"lg",text:ie(),to:I.location.pathname,upsellType:"save",viewType:v,viewParameter:f}):(0,Z.jsx)(C.Z,{accessibilityLabel:ne(),color:i,customStyles:{padding:"14px 16px"},inline:s,minHeight:48,minWidth:d,onTouch:ee,pressState:"compress",shape:g,size:"300",text:ie()})})}var B=i(177891),E=i(139574),O=i(850431);function q(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}class G extends a.PureComponent{constructor(...e){var n;super(...e),n=this,q(this,"state",{saveState:void 0}),q(this,"legoFixedZIndex",new o.Ry(2)),q(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:i,i18n:a,oneTapSave:l,pinId:t,pinnedToBoardId:o,showToast:r,viewType:s,historyPush:d,repinContext:c}=n.props;try{var u;const a=await i((0,O.w)({i18n:n.props.i18n,logContextEvent:n.props.logContextEvent,originalPinId:t,pinId:t,boardId:null==l?void 0:l.boardId,isOneTapSave:!0,onUndo:()=>{n.onDeletePin()},section:null==l?void 0:l.section,showToast:r,trackingParams:{clientTrackingParams:e,pinnedToBoardId:o},viewType:s,historyPush:d,savePinId:null!==(u=null==c?void 0:c.save)&&void 0!==u?u:()=>{}}));n.setState({saveState:"saved"}),i((0,B.a)({boardId:null==l?void 0:l.boardId,localPinId:a.id,pinId:t}))}catch(p){r((({hideToast:e})=>(0,Z.jsx)(k.ZP,{type:"error",text:p.message||a._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),n.setState({saveState:void 0})}})),q(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:i,i18n:a,pinId:l,savedInfo:t,showToast:o,repinContext:r}=n.props;if(t){e((0,B.k)({boardId:t.boardId,localPinId:t.localPinId,pinId:l})),null==r||r.unsave(l);try{await e((0,E.q)({pinId:t.localPinId,boardId:t.boardId,clientTrackingParams:i})),o((({hideToast:e})=>(0,Z.jsx)(k.ZP,{text:a._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),n.setState({saveState:void 0})}catch(s){o((({hideToast:e})=>(0,Z.jsx)(k.ZP,{type:"error",text:a._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),n.setState({saveState:"saved"})}}})),q(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:n}=this.state,{history:i,pinId:a,isOneTapExploreLocalTab:l,pinnedToBoard:t}=this.props;["saving","deleting"].includes(n)||l&&t||(n||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),l?i.push({pathname:`/pin/${a}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,j.Bx)(this.props.i18n)})),q(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:n,savedInfo:i})=>e?!!n:!!i))}render(){const{children:e,clientTrackingParams:n,homepageExperience:i,i18n:l,isOneTapExploreLocalTab:t,isRTL:r,oneTapSave:s,pinId:d,pinnedToBoard:c,pinnedToBoardId:u,savedInfo:p,shouldShowSaveHandoffExp:m,useSmallSaveIcon:_}=this.props;if(!s&&!t&&!m)return e;const g=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!t,pinnedToBoard:c,savedInfo:p}),h="#000",y="rgba(255, 255, 255, 0.8)",v="light",f="dark";return(0,Z.jsxs)(a.Fragment,{children:[e,(0,Z.jsx)(o.xu,{bottom:!0,left:r,padding:2,position:"absolute",right:!r,zIndex:this.legoFixedZIndex,children:m?(0,Z.jsx)(N,{buttonText:c?l._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:n,color:c?"default":"primary",deeplinkUri:"deeplinkUri",experience:i,inline:!0,pinnedToBoardId:u,minWidth:54,pinId:d,shape:"pill",shouldShowSavedButton:!!c,showSaveHandoffExperience:m}):(0,Z.jsx)(o.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,Z.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:g?h:y}},padding:2,rounding:"circle",children:(0,Z.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,Z.jsx)(o.JO,{accessibilityLabel:g?l._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):l._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:g?"check":"add",color:g?v:f,size:_?16:24})})})})})]})}}function W(e){const{showToast:n}=(0,P.F9)(),i=(0,t.useLocation)(),l=(0,c.ZP)(),o=(0,x.Z)(),r=(0,D.Z)(),s=(0,b.useDispatch)(),d=(0,t.useHistory)(),{isRTL:u,isAuthenticated:p}=(0,g.B)(),m=(0,K.M)(),y=(0,b.useSelector)((({session:e})=>e.unauthSavePinId)),v=p&&!!y&&y===e.pinId,{pins:k,clear:j}=(0,I.Z)(),A=(0,a.useRef)(!1),C=(0,w.mB)(i.search).ideas_referrer,L=(0,f.HG)(),{checkExperiment:F}=(0,_.F)(),z=(0,T.J)(),M=!L&&C===String(25),R=e=>d.push(e),N=(0,b.useSelector)((n=>n.pins[e.pinId]&&n.pins[e.pinId].savedInfo)),B=(0,b.useSelector)((n=>n.pins[e.pinId]&&n.pins[e.pinId].pinned_to_board)),E=(0,b.useSelector)((e=>e.experiences[40001]));return(0,S.Z)((()=>{p&&!A.current&&k.length>0&&(A.current=!0,o({event_type:14577,aux_data:{num_unauth_saved_pins:k.length}}),[...k,...y&&F(z).anyEnabled?[{id:y}]:[]].forEach((({id:n})=>{var i;s((0,U.Z)({history:d,i18n:l,logContextEvent:o,onSuccess:()=>{},originalPinId:n,pinId:n,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>{},disableRepinAnimation:!0,historyPush:R,savePinId:null!==(i=null==m?void 0:m.save)&&void 0!==i?i:()=>{}})).catch((e=>{(0,h.My)(`error.unauth_profile_pin_merge.${e}`)}))})),j())})),(0,Z.jsx)(G,{...e,i18n:l,requireAuthForLimitedLogin:r,history:d,logContextEvent:o,showToast:n,shouldShowSaveHandoffExp:v,isRTL:u,historyPush:R,useSmallSaveIcon:M,repinContext:m,savedInfo:N,pinnedToBoard:B,homepageExperience:E,dispatch:s})}W.displayName="OneTapSave";const H=W;var V=i(349700),$=i(883561);function J({boardUrl:e,boardName:n,isQuicksave:i,sectionName:a,sectionSlug:l}){const r=(0,c.ZP)(),s=(0,t.useHistory)(),d=new o.Ry(1),u=!!l&&`${e}${l}/`;return(0,Z.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:d,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,Z.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,Z.jsx)(o.iP,{onTap:n=>{n.event.preventDefault(),s.push(i?"/me/":u||e)},children:(0,Z.jsx)(o.xv,{color:"light",children:a?(0,V.nk)(r._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,Z.jsx)(o.xv,{color:"light",weight:"bold",inline:!0,children:(0,$.ZP)(a,22)},`pincard-${a}`)}):(0,V.nk)(r._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,Z.jsx)(o.xv,{color:"light",weight:"bold",inline:!0,children:i?r._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,$.ZP)(n,22)},`pincard-${n}`)})})})})})}var Y=i(780679),Q=i(627995);const X=({domainLinkData:e})=>{const n=(0,c.ZP)(),i=(0,Y.g)();return(0,Z.jsxs)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,Z.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,Z.jsx)(o.X6,{size:"400",align:"center",color:"light",children:n._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,Z.jsx)(o.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,Z.jsx)(Q.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==i?void 0:i.pinLinkClickHandler)||(()=>{})})})]})};var ee,ne=i(167525),ie=i(130460),ae=i(350118);const le=void 0!==ee?ee:ee=i(843494),te=({width:e,height:n,minY:i,maxY:a})=>{const l=n=>e<=0||!n?"0%":Math.round(n/e*100)+"%";return{top:i<=0?"0%":l(-1*i*n),bottom:a>=1?"0%":l(-1*(1-a)*n)}},oe=({children:e,margin:n,disableRounding:i})=>(0,Z.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:n?{marginTop:n.top,marginBottom:n.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,Z.jsx)(o.zd,{wash:!0,rounding:i?0:m.mv,children:e})}),re=({clientTrackingParams:e,color:n,data:i,description:l,domainLinkData:d,image:m,imageAltText:b,imageCrop:x,isOneTapExploreLocalTab:k,isSquarePin:P,lazyLoadImage:w,onError:S,oneTapSave:T,onLoad:I,pinId:j,priorityFetchImage:D,disableDefaultContextMenu:A,pinnedToBoardId:C,productPrice:L,disableRounding:F,storyDataExists:z,title:M,type:U,videoDuration:R,viewType:N})=>{var B,E,O,q,G,W,V,$,Y,Q,ee,ie;const ae=(0,c.ZP)(),le=(0,v.Z)(),{checkExperiment:re}=(0,_.F)(),[se,de]=(0,a.useState)(!1),{isAuthenticated:ce}=(0,g.B)(),ue=(0,f.ZP)(),pe="desktop"===ue,me=(0,K.M)(),_e=C&&!(null==me||!me.isSaved(j)),ge=d&&d.link?"with-link":"without-link",he=!ce&&!pe,ye=(0,a.useRef)(Date.now()),ve=(0,a.useRef)(null),fe=(0,y.Z)(),{shouldOpenInStream:be}=i;(0,a.useEffect)((()=>{se&&!ce&&fe({action:"view",item:"unauth-video-autoplay-on-hover"})}),[se,fe,ce]);const xe=(0,Z.jsx)(s.Z,{alt:b||M||l||"",color:n,naturalHeight:null!==(B=m.height)&&void 0!==B?B:1,naturalWidth:null!==(E=m.width)&&void 0!==E?E:1,onError:S,onLoad:I,src:null!==(O=m.url)&&void 0!==O?O:"",fit:P?"cover":void 0,loading:w?"lazy":"auto",fetchPriority:D?"high":"auto"}),ke=(0,t.useLocation)(),Pe=()=>(0,u.C$)(ke)?"homefeed":(0,u.L6)(ke)?"related_pins":(0,u.En)(ke)?"search":"unknown";return(0,Z.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,Z.jsxs)(o.xu,{onContextMenu:e=>{if("desktop"!==ue){const n=Pe();(0,h.My)((ce?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:n}),ce||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==ue&&((0,h.My)("unauth.mweb.related_pin.image.touch.start"),!ce&&(null==A||A(),ye.current=Date.now(),e.changedTouches&&e.changedTouches.length>0))){const n=e.changedTouches.item(0);n&&(ve.current={x:n.pageX,y:n.pageY})}},onTouchEnd:e=>{if("desktop"!==ue){const n=Pe();if((0,h.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-ye.current>500&&!ce&&("related_pins"===n||re("pcons_enable_context_menu_all_feeds").anyEnabled)){const n=ve.current;if(e.changedTouches&&e.changedTouches.length>0&&n){const i=e.changedTouches.item(0);if(i&&Math.pow(i.pageX-n.x,2)+Math.pow(i.pageY-n.y,2)>100)return;null==A||A(),le({pinId:j,location:"related-pins-long-press"}),e.stopPropagation()}}}},"data-test-id":`pincard-${U}-${ge}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:he||re("prevent_open_on_hover").anyEnabled?void 0:()=>de(!0),onMouseLeave:he?void 0:()=>de(!1),position:"relative",rounding:F?0:4,children:[(0,Z.jsxs)(H,{clientTrackingParams:e||"",oneTapSave:T,isOneTapExploreLocalTab:k,pinId:j,pinnedToBoardId:C,viewType:N,children:[(()=>{if("gif"===U&&!_e)return(0,Z.jsx)(ne.Z,{text:ae._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===U&&R&&!_e)return(0,Z.jsx)(ne.Z,{text:R});if("storyPin"===U&&z&&!_e&&!1!==be){var e,n,a;const l=(null===(e=i.storyPinData)||void 0===e?void 0:e.pageCount)||0,t=(null===(n=i.storyPinData)||void 0===n?void 0:n.staticPageCount)||0,o=(null===(a=i.storyPinData)||void 0===a?void 0:a.totalVideoDuration)||0;if(o>0){const e=o+t*p.oN;return(0,Z.jsx)(ne.Z,{text:(0,r.Z)(e)})}if("number"==typeof l&&l>0)return(0,Z.jsx)(ne.Z,{icon:"idea-pin",text:l.toString()})}return"product"===U&&L?(0,Z.jsx)(ne.Z,{text:L}):null})(),(0,Z.jsx)(oe,{disableRounding:F,margin:x?te({width:null!==(q=m.width)&&void 0!==q?q:1,height:null!==(G=m.height)&&void 0!==G?G:1,minY:x.minY,maxY:x.maxY}):void 0,children:P?(0,Z.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,Z.jsx)(o.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:xe})}):xe})]}),se&&!ce&&(0,Z.jsx)(X,{domainLinkData:d}),ce&&_e&&(0,Z.jsx)(J,{boardName:null!==(W=null===(V=i.board)||void 0===V?void 0:V.name)&&void 0!==W?W:"",boardUrl:null!==($=null===(Y=i.board)||void 0===Y?void 0:Y.url)&&void 0!==$?$:"",sectionName:null==T||null===(Q=T.section)||void 0===Q?void 0:Q.title,sectionSlug:null==T||null===(ee=T.section)||void 0===ee?void 0:ee.slug,isQuicksave:"quick_saves"===(null===(ie=i.board)||void 0===ie?void 0:ie.layout)})]})})},se=(0,d.Z)({useGraphQLAdapter:e=>{const n=(0,l.useFragment)(le,e);return{pin:n,pinGraphqlRef:n}},useLegacyAdapter:e=>{var n,i,a;const l=(0,ae.S6)()(e),t=null!==(n=null==l||null===(i=l.pinned_to_board)||void 0===i?void 0:i.id)&&void 0!==n?n:"",o=(0,ie.gC)()(t||(l?String(null===(a=l.board)||void 0===a?void 0:a.id):""));return l?{pin:{board:o&&{layout:o.layout,name:o.name,url:o.url},shouldOpenInStream:l.should_open_in_stream,storyPinData:l.story_pin_data&&{pageCount:l.story_pin_data.page_count,staticPageCount:l.story_pin_data.static_page_count,totalVideoDuration:l.story_pin_data.total_video_duration}},pinGraphqlRef:null}:null}}),de=e=>(0,Z.jsx)(se,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:e.pinId},children:({data:n})=>n&&(0,Z.jsx)(re,{...e,data:n.pin,pinGraphqlRef:n.pinGraphqlRef})})},720946:(e,n,i)=>{i.r(n),i.d(n,{default:()=>Xe,pinRepPaddingInBoint:()=>qe});var a,l=i(667294),t=i(702664),o=i(167912),r=i(616550),s=i(883119),d=i(112690),c=i(81226),u=i(780679),p=i(319915),m=i(378518),_=i(934494),g=i(898781),h=i(349700),y=i(926275),v=i(680046),f=i(248975),b=i(958007),x=i(992750),k=i(773285),P=i(813401),w=i(923297),S=i(780280),T=i(947599),I=i(350576),j=i(941646),D=i(867820),A=i(52022),C=i(477802),L=i(327476),F=i(50286),z=i(829407),M=i(19121),U=i(763839),K=i(350948),Z=i(57791),R=i(861411),N=i(886076),B=i(830157),E=i(62409),O=i(772486),q=i(59729),G=i(885149),W=i(116303),H=i(53987),V=i(63552),$=i(130460),J=i(350118),Y=i(643010),Q=i(785893);const X=void 0!==a?a:a=i(860389),ee=({data:{pinProduct:{maxPrice:e,minPrice:n,inStock:i,standardPrice:a,price:t},domain:o}})=>{const r=(0,g.ZP)(),{textColor:d,inStockColor:c}=(({isDarkMode:e,inStock:n})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:n?"dark":"subtle"})({isDarkMode:(0,Y.Yc)(),inStock:i||!1});return(0,Q.jsxs)(l.Fragment,{children:[o&&(0,Q.jsx)(s.xv,{color:d,size:"100",children:o}),(0,Q.jsxs)(s.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[n&&e?(0,Q.jsxs)(s.xv,{size:"100",color:c,weight:"bold",children:[n," - ",e]}):(0,Q.jsx)(s.xv,{size:"100",color:c,weight:"bold",children:a||t}),!i&&(0,Q.jsxs)(l.Fragment,{children:[(0,Q.jsx)(s.xu,{paddingX:1,children:(0,Q.jsx)(s.xv,{size:"100",color:c,weight:"bold",children:"·"})}),(0,Q.jsx)(s.xv,{size:"100",color:c,weight:"bold",children:r._('Out of stock', 'pinCard.priceLego.outOfStock', 'display if a product is out of stock')})]})]})]})},ne=(0,_.Z)({useGraphQLAdapter:e=>{var n,i;const a=(0,o.useFragment)(X,e),{linkDomain:l,richMetadata:t,richSummary:r}=a,s=(0,E.kb)({hasLinkDomain:!!l,richMetadata:t&&{recipe:t.recipe&&{fromAggregatedData:t.recipe.fromAggregatedData},products:(null!==(n=t.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))},richSummary:r&&{products:(null!==(i=r.products)&&void 0!==i?i:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))}});return s&&s.price?{pinProduct:s,domain:null==r?void 0:r.siteName}:null},useLegacyAdapter:e=>{var n,i,a;const l=(0,J.S6)()(e);if(!l)return null;const{link_domain:t,rich_metadata:o,rich_summary:r}=l,s=(0,E.kb)({hasLinkDomain:!!t,richMetadata:o&&{recipe:o.recipe&&{fromAggregatedData:o.recipe.from_aggregated_data},products:(null!==(n=o.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))},richSummary:r&&{products:(null!==(i=r.products)&&void 0!==i?i:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))}});return s&&s.price?{pinProduct:s,domain:null===(a=l.rich_summary)||void 0===a?void 0:a.site_name}:null}});function ie(e){return(0,Q.jsx)(ne,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:e.pinId},children:({data:e})=>e&&(0,Q.jsx)(ee,{data:e})})}var ae,le=i(914142),te=i(865673);const oe=void 0!==ae?ae:ae=i(879856),re=(0,l.lazy)((()=>i.e(94950).then(i.bind(i,494950)))),se=({title:e})=>{const n=(0,F.HG)(),i=(0,A.Z)();return(0,Q.jsx)(j.Z,{id:"related-pins-title",children:(0,Q.jsx)(s.iP,{onTap:()=>{i({action:"click",item:"related-pins-title"})},children:(0,Q.jsx)(s.xv,{size:n?"300":"100",weight:"bold",lineClamp:2,children:e})})})},de=({credits:e,data:n,hasAffiliatedProducts:i,hidePinMetadata:a,isPromotedPin:t,isSponsoredPin:o,logCreditsClick:d,marginTop:c,pinDescription:u,pinGraphqlRef:m,pinId:_,pinnedToBoardId:h,pinReactionCounts:y,recipeReview:v,shouldShowReactions:f,showPriceIndicatorInPinCardDetails:b,title:x,type:k})=>{var P,w,I,C,L,z,M,U,K;const Z=(0,g.ZP)(),R=(0,r.useLocation)(),N=(0,A.Z)(),{isAuthenticated:B}=(0,S.B)(),E=(0,F.HG)(),O=(0,r.useHistory)(),q=x||u||"oneTap"===k,{pinner:G}=n,J=(0,$.gC)()(h||String(null===(P=n.board)||void 0===P?void 0:P.entityId)),Y=t&&(null===(w=n.promoter)||void 0===w?void 0:w.entityId)===(null===(I=n.nativeCreator)||void 0===I?void 0:I.entityId),X=H.Q0?2:c||(q&&!a?1:0),ee=!b;return(0,Q.jsxs)(s.xu,{flex:"grow",children:[(0,Q.jsx)(s.xu,{display:"flex",marginTop:a?0:c||1,children:(0,Q.jsxs)(s.xu,{flex:"grow",children:[(o||i)&&!Y&&(0,Q.jsx)(s.xu,{marginBottom:1,children:(0,Q.jsx)(s.xu,{flex:"grow",overflow:"hidden",children:(0,Q.jsx)(le.Z,{hasAffiliatedProducts:i,isPromoted:t,sponsorName:n.sponsorship?(0,Q.jsx)(s.xv,{inline:!0,size:"100",weight:"bold",children:null==e?void 0:e.subtitle}):void 0,sponsorshipStatus:null===(C=n.sponsorship)||void 0===C?void 0:C.status})})}),x&&(0,Q.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:B&&!a&&(0,Q.jsx)(se,{title:x})}),E&&!B&&u&&!(0,H.$Y)(R)&&!(0,H.E0)(R)&&(0,Q.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,Q.jsx)(s.iP,{onTap:()=>{N({action:"click",item:"related-pins-description"})},children:(0,Q.jsx)(s.xv,{size:"100",inline:!0,children:u})})}),b&&(0,Q.jsx)(ie,{pinId:_,pinGraphqlRef:m}),v]})}),f&&y&&Object.keys(y).length>0&&(0,Q.jsx)(s.xu,{height:18,display:void 0,justifyContent:"center",children:(0,Q.jsx)(p.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,Q.jsx)(T.Z,{children:(0,Q.jsx)(re,{pinReactionCounts:y})})})}),ee&&e?(0,Q.jsx)(V.Z,{onTouch:n=>{n.stopPropagation(),n.preventDefault(),e.link&&O.push(e.link),d()},pressState:"none",children:(0,Q.jsx)(s.xu,{children:(!a||o||Y)&&(0,Q.jsxs)(s.xu,{display:"flex",marginTop:X,marginBottom:a?2:0,position:"relative",direction:"row",children:[(0,Q.jsx)(s.xu,{flex:"none",display:void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,Q.jsx)(s.iP,{onTap:()=>{N({action:"click",item:"related-pins-avatar-image"})},children:(0,Q.jsx)(W.Z,{accessibilityLabel:e.title||e.subtitle||Z._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:e.title||"",outline:!1,size:"sm",src:e.avatar||void 0})})}),(0,Q.jsx)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:(0,Q.jsx)(s.iP,{onTap:()=>{N({action:"click",item:"related-pins-name"})},children:(0,Q.jsxs)(l.Fragment,{children:[e.title&&(0,Q.jsx)(s.xv,{lineClamp:1,size:"100",weight:o&&!Y||i?"normal":"bold",children:e.title===(null==G?void 0:G.fullName)&&(null!=G&&G.isVerifiedMerchant||null!=G&&null!==(L=G.verifiedIdentity)&&void 0!==L&&L.verified)?(0,Q.jsx)(te.Z,{badgeSize:"sm",badgeSpacing:2,fullName:e.title,verifiedType:G.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):e.title}),e.subtitle?(!o&&!a||Y)&&(0,Q.jsx)(s.xv,{lineClamp:o||i?void 0:1,size:E?"200":"100",weight:E?"bold":"normal",children:e.subtitle}):!B&&J&&"protected"!==J.privacy?(0,Q.jsx)(j.Z,{id:"related-pin-text-below-name",children:(0,Q.jsx)(s.rU,{underline:"hover",href:null!==(z=J.url)&&void 0!==z?z:"",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_profile"),N({action:"click",item:"related-pin-text-below-name"})},children:(0,Q.jsx)(s.xv,{size:"200",children:J.name})})}):null]})})})]})})}):E&&!!G&&((0,H.L6)(R)||(0,H.cD)(R)||(0,H.$Y)(R))&&(0,Q.jsxs)(s.xu,{display:"flex",marginTop:q?2:0,children:[(0,Q.jsx)(s.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,Q.jsx)(s.iP,{onTap:()=>{N({action:"click",item:"related-pins-avatar-image"})},children:(0,Q.jsx)(W.Z,{name:G.username||"",size:"sm",src:null!==(M=G.imageSmallUrl)&&void 0!==M?M:void 0})})}),(0,Q.jsxs)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,Q.jsx)(s.rU,{underline:"hover",href:`/${G.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_board"),N({action:"click",item:"related-pins-name"})},children:(0,Q.jsx)(s.xv,{size:"200",weight:"bold",children:G.fullName||G.username})}),J&&"protected"!==J.privacy?(0,Q.jsx)(j.Z,{id:"related-pin-text-below-name",children:(0,Q.jsx)(s.rU,{underline:"hover",href:null!==(U=J.url)&&void 0!==U?U:"",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_profile"),N({action:"click",item:"related-pin-text-below-name"})},children:(0,Q.jsx)(s.xv,{size:"200",children:null!==(K=J.name)&&void 0!==K?K:""})})}):null]})]})]})},ce=(0,_.Z)({useGraphQLAdapter:e=>{const n=(0,o.useFragment)(oe,e);return{pin:n,pinGraphqlRef:n}},useLegacyAdapter:e=>{const n=(0,J.S6)()(e);return n?{pin:{entityId:n.id,board:n.board&&{entityId:n.board.id},nativeCreator:n.native_creator&&{entityId:n.native_creator.id},pinner:n.pinner&&{fullName:n.pinner.full_name,imageSmallUrl:n.pinner.image_small_url,isVerifiedMerchant:n.pinner.is_verified_merchant,username:n.pinner.username,verifiedIdentity:n.pinner.verified_identity&&{verified:n.pinner.verified_identity.verified}},promoter:n.promoter&&{entityId:n.promoter.id},sponsorship:n.sponsorship&&{status:n.sponsorship.status}},pinGraphqlRef:null}:null}}),ue=e=>(0,Q.jsx)(ce,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:e.pinId},children:({data:n})=>n&&(0,Q.jsx)(de,{...e,data:n.pin,pinGraphqlRef:n.pinGraphqlRef})});var pe,me=i(857079),_e=i(296011);const ge=void 0!==pe?pe:pe=i(7745),he=(e,n)=>{const{checkExperiment:i}=(0,k.F)();return i("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,n)=>{const i=(0,o.useRelayEnvironment)();return(0,Q.jsx)(_e.t,{invite_code:e,relayEnvironment:i,inviteQuery:ge,children:e=>{const i=null!=e&&e.data?e.data.sender:null,a=i&&i.first_name?i.first_name.substring(0,30):"";if(!a)return null;const l=i&&!i.is_default_image?i.image_medium_url:"",t=(0,h.nk)(n._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:a});return(0,Q.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,Q.jsx)(s.zd,{height:32,width:32,children:(0,Q.jsx)(W.Z,{name:a,src:l})}),(0,Q.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,Q.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}})})(e,n):((e,n)=>(0,Q.jsx)(_e.Z,{invite_code:e,children:e=>{const i=e?e.sender:null,a=i&&i.first_name?i.first_name.substring(0,30):"";if(!a)return null;const l=i&&!i.is_default_image?i.image_medium_url:"",t=(0,h.nk)(n._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:a});return(0,Q.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,Q.jsx)(s.zd,{height:32,width:32,children:(0,Q.jsx)(W.Z,{name:a,src:l})}),(0,Q.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,Q.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}}))(e,n)},ye=({inviteCode:e})=>{const n=(0,g.ZP)();return(0,Q.jsx)(s.xu,{minHeight:82,children:(0,Q.jsx)(p.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,Q.jsx)(T.Z,{fallback:(0,Q.jsx)(me.Z,{accessibilityLabel:n._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:he(e,n)})})})};var ve=i(409778),fe=i(55275);const be={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},xe=(e,n,i)=>(0,Q.jsx)(s.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,Q.jsx)(s.rU,{display:"inlineBlock",href:n,tapStyle:"none",underline:"hover",children:i})},e);function ke({color:e,getFeedbackText:n,onUnfollow:i,showing:a,unfollowed:t}){const o=(0,g.ZP)(),[r,d]=(0,l.useState)(a?"fadeIn":"initial"),c=(0,l.useRef)(null);(0,l.useEffect)((()=>("initial"===r&&a&&(c.current=window.requestAnimationFrame((()=>d("fadeIn")))),()=>{c.current&&window.cancelAnimationFrame(c.current)})),[r,d,a]);const{subTitle:u,title:p,unfollow:m}=n(xe);let _=p,h=u;m&&t&&(_=m.title,h=m.subTitle);const y=()=>m?(0,fe.t)(m.action,m.actionOptions,i):void 0;return a&&(0,Q.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...be[r]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,Q.jsxs)(s.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,Q.jsxs)(s.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,Q.jsxs)(s.xu,{children:[(0,Q.jsx)(s.X6,{size:"400",color:"light",children:_}),!!h&&(0,Q.jsxs)(s.xu,{marginTop:1,children:[(0,Q.jsx)(s.xv,{color:"light",size:"200",inline:!0,children:h}),(0,Q.jsx)(s.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,Q.jsx)(s.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:o._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!t&&m&&(0,Q.jsx)(s.xu,{paddingY:1,children:(0,Q.jsx)(s.zx,{fullWidth:!0,color:"white",text:o._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:y})})]}),!t&&m&&(0,Q.jsx)(s.xu,{paddingY:1,children:(0,Q.jsx)(s.zx,{fullWidth:!0,color:"white",text:o._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:y})})]})})}var Pe=i(904779),we=i(561195);function Se({maxRating:e,rating:n,text:i}){return(0,Q.jsxs)(s.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,Q.jsx)(we.Z,{max_rating:e||"",rating:n||"",width:10}),i&&(0,Q.jsx)(l.Fragment,{children:(0,Q.jsx)(s.xu,{marginStart:1,overflow:"hidden",children:(0,Q.jsx)(s.xv,{size:"100",lineClamp:1,children:i})})})]})}var Te,Ie=i(255607),je=i(21384);const De=void 0!==Te?Te:Te=i(482836);function Ae({dedupeVisualAnnotations:e,description:n,gridTitle:i,pinId:a,richMetadataTitle:l,richSummaryDisplayName:t,storyPinDataId:r,storyPinDataMetadataPinTitle:d,title:c,queryRef:u}){const p=(0,o.useFragment)(De,u);return(0,Q.jsxs)(s.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,Q.jsx)(s.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,Q.jsx)(s.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,x.fs)({pinTitle:c,gridTitle:i,richSummaryDisplayName:t,richMetadataTitle:l,storyPinDataId:r,storyPinDataMetadataPinTitle:d})||n})}),(0,Q.jsx)(s.xu,{children:(0,Q.jsx)(je.Z,{pinId:a,size:"sm",graphqlRef:p,dedupeVisualAnnotations:e})})]})}var Ce,Le=i(248299),Fe=i(430235);const ze=void 0!==Ce?Ce:Ce=i(975261),Me=({attribute:e,deviceType:n,location:i})=>{const a=(0,A.S)(i);(0,D.My)("unauth.product_attribution.click",{item:e,page:a,device:n})},Ue=({isSquarePin:e,price:n,shouldDisplayMerchant:i})=>n&&e?i?90:68:void 0,Ke=({maxPrice:e,minPrice:n,price:i})=>e&&n?`${n}-${e}`:i;function Ze({dedupeVisualAnnotations:e,description:n,domain:i,graphqlRef:a,gridTitle:t,isSquarePin:o,pinId:d,priceSummary:c,richMetadataTitle:u,richSummaryDisplayName:p,storyPinDataId:m,storyPinDataMetadataPinTitle:_,title:g}){const h=(0,F.ZP)(),y=(0,r.useLocation)(),v=c&&(c.price||c.standardPrice||Ke(c)),f=(0,l.useMemo)((()=>o?2:v?3:2),[o,v]);if(!d)return null;const b=(0,x.fs)({pinTitle:g,gridTitle:t,richSummaryDisplayName:p,richMetadataTitle:u,storyPinDataId:m,storyPinDataMetadataPinTitle:_})||n,k=`/pin/${d}/`;return(0,Q.jsx)(s.xu,{paddingX:2,marginBottom:-1,marginTop:2,display:"flex",direction:"column",height:Ue({isSquarePin:o,price:v}),children:(0,Q.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,Q.jsx)(s.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,Q.jsxs)(Z.MZ,{to:k,accessibilityLabel:b,deeplinkUri:k,children:[v&&(0,Q.jsx)(s.iP,{onTap:()=>Me({deviceType:h,attribute:"price",location:y}),children:(0,Q.jsx)(s.xv,{size:"100",weight:"bold",children:v})}),(0,Q.jsx)(s.xu,{marginTop:1,children:(0,Q.jsx)(s.iP,{onTap:()=>Me({deviceType:h,attribute:"title",location:y}),children:(0,Q.jsx)(s.xv,{size:"100",weight:"bold",lineClamp:f,children:b})})}),i&&v&&(0,Q.jsx)(s.xu,{marginTop:1,children:(0,Q.jsx)(s.iP,{onTap:()=>Me({deviceType:h,attribute:"merchant",location:y}),children:(0,Q.jsx)(s.xv,{size:"100",lineClamp:1,children:i})})})]})}),"desktop"!==h&&(0,Q.jsx)(s.xu,{children:(0,Q.jsx)(je.Z,{dedupeVisualAnnotations:e,pinId:d,size:"sm",graphqlRef:a})})]})})}const Re=(0,_.Z)({useGraphQLAdapter:({queryRef:e})=>(0,o.useFragment)(ze,e),useLegacyAdapter:()=>{}});function Ne({queryRef:e,...n}){return(0,Q.jsx)(Re,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:n.pinId}},children:({data:e})=>(0,Q.jsx)(Ze,{...n,graphqlRef:e})})}var Be,Ee=i(394332);const Oe=void 0!==Be?Be:Be=i(741316),qe=({isDesktop:e})=>e?0:1,Ge=e=>Boolean(e.promoter&&!e.isDownstreamPromotion),We=e=>{const{attribution:n,embed:i,isEligibleForWebCloseup:a,richSummary:l,videos:t,storyPinDataId:o}=e,r=i||(null==n?void 0:n.embed);return a?"oneTap":t||"video"===(null==r?void 0:r.type)?"video":"gif"===(null==r?void 0:r.type)?"gif":"product"===(null==l?void 0:l.typeName)?"product":"recipe"===(null==l?void 0:l.typeName)?"recipe":o?"storyPin":"image"},He=e=>{var n,i,a;const l=null===(n=e.videos)||void 0===n?void 0:n.videoList;return l?(0,c.Z)(null!==(i=null===(a=l[Object.keys(l)[0]])||void 0===a?void 0:a.duration)&&void 0!==i?i:0):""},Ve=e=>{var n;const[i]=(null===(n=e.richSummary)||void 0===n?void 0:n.products)||[];if(!i)return null;const{offerSummary:a}=i;return a&&(a.price||a.maxPrice)},$e=e=>e&&e.includes("/user/default")?void 0:e,Je=(0,l.lazy)((()=>Promise.all([i.e(90674),i.e(83050),i.e(34203)]).then(i.bind(i,455758))));function Ye({auxData:e,componentType:n,debug:i,disableAppUpsell:a,disableReaction:o,disableRounding:c,duploConversationPin:_,duploDedupeVisualAnnotations:W,duploDisablePinCardPadding:H,duploFeedItemProps:V,duploIsSquarePin:$,duploLazyLoadImage:J,duploOneTapSave:Y,duploPinCardDetailsMargin:X,duploPriorityFetchImage:ee,duploShouldAddNiiSearchParamToImageUrls:ne,duploShouldAllowProductPriceIndicator:ie,feedback:ae,imageOnlyOption:le,impressionData:te,objectIdStr:oe,pin:re,pinGraphqlRef:se,slotIndex:de,topLevelTrafficSource:ce,topLevelTrafficSourceDepth:pe,trackingParams:me,trafficSource:_e,viewData:ge,viewParameter:he,viewType:fe}){var be,xe,we,Te,je,De,Ce,ze,Me,Ue,Ke,Ze,Re,Be,Oe,Ye;const Qe=(0,g.ZP)(),Xe=(0,u.g)(),{checkExperiment:en}=(0,k.F)(),nn=(0,r.useLocation)(),an=(0,F.HG)(),ln=(0,G.Z)(),tn=(0,P.yz)(),on=(0,M.Z)(),rn=(0,m._)({id:1000107}),sn=(0,d.Z)(),dn=(0,A.Z)(),{country:cn,isAuthenticated:un}=(0,S.B)(),pn=(0,L.Z)(),{viewedSharedPins:mn}=(0,t.useSelector)((({session:e})=>e)),_n=(0,t.useSelector)((({experiences:e})=>{const n=e[1000107];return!!n&&500678===n.experience_id})),gn=(0,t.useSelector)((({session:e,users:n})=>(0,y.Z)(n[e.userId].created_at))),{getPinFeedbackStatus:hn,setPinFeedbackStatus:yn}=(0,Pe.K)(),[vn,fn]=(0,l.useState)(!1),[bn,xn]=(0,l.useState)(!1),kn=(0,l.useRef)(),Pn=re.entityId,wn=!!re.storyPinDataId&&!1===re.shouldOpenInStream&&["enabled","enabled_rollout","employees"].includes(en(on.isAuth?"closeup_auth_mweb_static_image_idea_pin":"closeup_unauth_mweb_static_image_idea_pin",{dangerouslySkipActivation:!0}).group),Sn=e=>ne&&e?{...e,url:e.url&&(0,I.H5)(e.url)}:e,Tn=Sn(re.imageSpec_136x136),In=Sn(re.imageSpec_170x),jn=Sn(re.imageSpec_236x),Dn=Sn(re.imageSpec_474x),An=Sn(re.imageSpec_736x),Cn=Sn(re.imageSpec_orig),Ln={...[["136x136",Tn],["170x",In],["236x",jn],["474x",Dn],["736x",An],["orig",Cn]].reduce(((e,[n,i])=>{var a,l,t,o;return i?(e[n]={dominant_color:null!==(a=i.dominantColor)&&void 0!==a?a:void 0,height:null!==(l=i.height)&&void 0!==l?l:void 0,url:null!==(t=i.url)&&void 0!==t?t:void 0,width:null!==(o=i.width)&&void 0!==o?o:void 0},e):e}),{})},Fn=e=>{var n,i;return(0,f.Z)({embedSrc:null===(n=re.embed)||void 0===n?void 0:n.src,embedType:null===(i=re.embed)||void 0===i?void 0:i.type,images:Ln,preferredResolution:e})},zn=We(re),Mn=(0,U.z)();(0,z.Z)((()=>{if(Mn&&!an&&"image"===zn){const e=Ln["236x"]||Ln["136x136"],n=Fn("736x");n&&Mn.setData(Pn,{dominantColor:re.dominantColor,imageUrl:n,placeholder:e&&{width:e.width,height:e.height,url:e.url}})}})),(0,z.Z)((()=>{if(!un&&0===de&&3070===he){var e,n,i;const a=nn.pathname,{imageSignature:l,entityId:t,imageSpec_236x:o,description:r}=re;(0,q.H$)(a,l,t,o&&{dominant_color:null!==(e=o.dominantColor)&&void 0!==e?e:void 0,height:null!==(n=o.height)&&void 0!==n?n:void 0,url:o.url,width:null!==(i=o.width)&&void 0!==i?i:void 0},r)}}));const Un=92===he&&(null===(be=mn&&mn[Pn])||void 0===be?void 0:be.inviteCode),Kn=$?{height:136,url:null==jn?void 0:jn.url,width:136}:[jn,In,Tn,An,Dn,Cn].find((e=>e&&e.url))||{width:1,height:1,url:""},Zn=null===(xe=re.videos)||void 0===xe||null===(we=xe.videoList)||void 0===we?void 0:we.v720P,Rn=(0,N.Z)({isEligibleForPdp:re.isEligibleForPdp,isOosProduct:re.isOosProduct,isStaleProduct:re.isStaleProduct,pinShoppingFlags:null!==(Te=re.shoppingFlags)&&void 0!==Te?Te:void 0}),Nn=hn({pinId:Pn}),Bn=()=>{var e,n,i,a,l,t,o;const r=({user:e,linkToBoard:n})=>{var i;return{link:n?(null===(i=re.board)||void 0===i?void 0:i.url)||`/pin/${re.entityId}/`:(null==e?void 0:e.username)&&`/${e.username}/`||"",avatar:$e(null==e?void 0:e.imageMediumUrl)||$e(null==e?void 0:e.imageSmallUrl)}};var s,d,c,u,p,m,_;if(Ge(re))return re.sponsorship&&(null===(s=re.promoter)||void 0===s?void 0:s.entityId)!==(null===(d=re.nativeCreator)||void 0===d?void 0:d.entityId)?{title:null===(c=re.nativeCreator)||void 0===c?void 0:c.fullName,subtitle:null===(u=re.promoter)||void 0===u?void 0:u.fullName,...r({user:re.nativeCreator})}:{title:pn(Qe._('Promoted by', 'Grid pin annotation', 'Grid pin annotation')),subtitle:null===(p=re.promoter)||void 0===p?void 0:p.fullName,...r({user:re.promoter})};if(null!==(e=re.sponsorship)&&void 0!==e&&e.creator)return{title:null===(m=re.nativeCreator)||void 0===m?void 0:m.fullName,subtitle:null===(_=re.sponsorship.sponsor)||void 0===_?void 0:_.fullName,...r({user:re.nativeCreator})};if(re.nativeCreator)return{title:re.nativeCreator.fullName,subtitle:"",...r({user:re.nativeCreator})};switch(he){case 3375:if(null===(n=re.linkDomain)||void 0===n||null===(i=n.officialUser)||void 0===i||!i.isPrimaryWebsiteVerified)return;const e=null!==(a=re.storyPinData)&&void 0!==a&&a.hasProductPins?re.nativeCreator:re.linkDomain.officialUser;return{title:"",subtitle:null==e?void 0:e.fullName,...r({user:e})};case 0:case 3173:return null!==(l=re.storyPinData)&&void 0!==l&&l.hasProductPins?{title:"",subtitle:null===(t=re.nativeCreator)||void 0===t?void 0:t.fullName,...r({user:re.nativeCreator,linkToBoard:!0})}:{title:re.board&&"protected"===re.board.privacy?Qe._('Saved by', 'Grid pin annotation', 'Grid pin annotation'):(null===(o=re.pinner)||void 0===o?void 0:o.fullName)||"",subtitle:"",...r({user:re.pinner,linkToBoard:!0})};default:return}},En=(0,v.hP)({boardFollowedByMe:!(null===(je=re.board)||void 0===je||!je.followedByMe),feedbackType:null==ae?void 0:ae.type,viewParameter:he,promotion:re&&re.promoter&&{isDownstreamPromotion:!!re.isDownstreamPromotion},pinnerFollowedByMe:!(null===(De=re.pinner)||void 0===De||!De.explicitlyFollowedByMe),recommendationReason:re.recommendationReason&&{hasBoard:!!re.recommendationReason.board,reason:null!==(Ce=re.recommendationReason.reason)&&void 0!==Ce?Ce:void 0}}),On=e=>{var n,i,a;const l={i18n:Qe,makeNavigateLink:e};switch(En){case"pfy":return(0,v.Ud)({...l,feedback:{type:"pfy"}});case"pfyBoard":return(0,v.Ud)({...l,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(n=re.recommendationReason)||void 0===n?void 0:n.board)&&{name:null!==(i=re.recommendationReason.board.name)&&void 0!==i?i:"",url:null!==(a=re.recommendationReason.board.url)&&void 0!==a?a:""}}});case"topic":return(0,v.Ud)({...l,feedback:{type:"topic",sourceInterest:re.sourceInterest&&re.sourceInterest.name&&re.sourceInterest.urlName?{name:re.sourceInterest.name,url_name:re.sourceInterest.urlName}:null}});case"followed":return(0,v.Ud)({...l,feedback:{type:"followed",followed:re.pinner&&re.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:re.pinner.fullName&&re.pinner.username?{full_name:re.pinner.fullName,username:re.pinner.username}:null}:{type:"board",board:re.board&&re.board.name&&re.board.url?{name:re.board.name,url:re.board.url}:null}}});case"promoted":return(0,v.Ud)({...l,feedback:{type:"promoted",promoter:!re.adMatchReason&&re.promoter&&re.promoter.fullName?{full_name:re.promoter.fullName,username:re.promoter.username}:null}});default:return null}},{category:qn,linkDomain:Gn,description:Wn,gridTitle:Hn,imageSignature:Vn,richMetadata:$n,richSummary:Jn,title:Yn,sponsorship:Qn,storyPinData:Xn}=re,[ei,ni]="string"==typeof Hn?[Hn,""]:[null==Jn?void 0:Jn.displayName,Wn],ii=Ge(re),ai=null==Xn?void 0:Xn.isDeleted,li=(0,B.Z)((nn&&nn.state||{}).trackingParams||me,re.trackingParams),ti="product"===zn&&!un,oi=_n&&!(Jn&&43===he&&!gn||3375===he);let ri=null===(ze=re.pinJoin)||void 0===ze?void 0:ze.visualAnnotation;W&&ri&&(ri=W({pinId:Pn,visualAnnotations:ri}));const si=(0,x.hP)(null!==(Me=re.description)&&void 0!==Me?Me:"",re.descriptionHtml||"",ri,re.altText||""),di=un?ni:(0,b.Z)({storyPinDataId:re.storyPinDataId,pinDescription:re.description,richMetadataDescription:null!==(Ue=null===(Ke=re.richMetadata)||void 0===Ke?void 0:Ke.description)&&void 0!==Ue?Ue:"",richSummaryDisplayName:null!==(Ze=null===(Re=re.richSummary)||void 0===Re?void 0:Re.displayName)&&void 0!==Ze?Ze:"",closeupDescription:null!==(Be=re.closeupDescription)&&void 0!==Be?Be:"",closeupUnifiedDescription:null!==(Oe=re.closeupUnifiedDescription)&&void 0!==Oe?Oe:""});let ci;ci="oneTap"===zn?re.trackedLink||re.link:un?(0,x.BY)(Pn):(0,x.bN)({pinId:Pn,seoUrl:re.seoUrl});const ui={accessibilityLabel:si||ei||ni||Qe._('Pin', 'Pin accessibility label', 'Pin accessibility label'),country:cn,deeplinkUri:ci,external:"oneTap"===zn,externalQueryParams:{pin:Pn,client_tracking_params:me},isAppUpsellDisabled:a,onTouch:i=>{var a;if((()=>{const i=(0,B.Z)(me,re.trackingParams);if((0,D.My)(`unauth_pin_rep.click.${String(he)}`),sn({view_type:fe,view_parameter:he,element:re.storyPinDataId?12372:35,event_type:101,component:n,object_id_str:Pn,clientTrackingParams:i,aux_data:{commerce_data:Rn,grid_index:de,image_signature:re.imageSignature,...e}}),"oneTap"!==zn&&sn({event_type:8948,view_type:fe,view_parameter:he,object_id_str:Pn,clientTrackingParams:i,aux_data:{image_signature:re.imageSignature,commerce_data:Rn,closeup_navigation_type:"click",grid_index:de,cosmic_ray_count:"3",...e}}),!un)switch(dn({action:"click",item:"pin"}),fe){case 3:(0,D.NC)("click_pin_related_image");break;case 5:(0,D.NC)("click_board_pin_image");break;case 210:(0,D.NC)("click_topic_pin_image");break;case 605:(0,D.NC)("click_shopping_category_pin_image");break;case 606:(0,D.NC)("click_videos_category_pin_image")}"oneTap"===zn&&(sn({event_type:8948,view_type:fe,view_parameter:he,object_id_str:Pn,clientTrackingParams:i,aux_data:{image_signature:re.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),(0,O.jC)({view_type:fe,view_parameter:he,element:re.storyPinDataId?12372:35,component:n,object_id_str:Pn,aux_data:{commerce_data:Rn,grid_index:de,image_signature:re.imageSignature,...e},clientTrackingParams:i}),sn({component:n,event_type:13,view_type:3,clientTrackingParams:i,aux_data:{closeup_navigation_type:"web_closeup",image_signature:re.imageSignature},object_id_str:Pn}))})(),null==V||null===(a=V.onPinClick)||void 0===a||a.call(V),an){if(i.metaKey){(0,D.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(he)}`),i.preventDefault();window.open(`/pin/${Pn}/`,"_blank").focus()}else if(!un&&Xe){const{pinImageClickHandler:e}=Xe;e({event:i,pinId:Pn,linkTarget:"duploClientNav",seoUrl:re.seoUrl})}}},pinCategory:re.category,pressState:"none",rounding:4,title:Qe._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:ci,state:{trackingParams:me,trafficSource:_e,topLevelTrafficSource:ce,topLevelTrafficSourceDepth:pe}},upsellType:"direct",viewParameter:he,viewType:fe,clientTrackingParams:li},pi=(0,E.kb)({hasLinkDomain:!!Gn,richMetadata:$n&&{recipe:$n.recipe&&{fromAggregatedData:$n.recipe.fromAggregatedData},products:$n.products},richSummary:Jn&&{products:Jn.products}}),mi=!ie&&["shop_feed"].includes(_e);return(0,Q.jsx)(R.dL,{auxData:{commerce_data:Rn,pwa_type:tn,...e},component:n,impressionData:{richTypes:re.shoppingFlags||[],imageURL:Kn.url||"",...Zn?{isNativeVideoAndWatchable:!!(Zn&&Zn.url&&Zn.height&&Zn.width)||void 0,videoIdStr:Zn&&(null===(Ye=re.videos)||void 0===Ye?void 0:Ye.entityId)||void 0}:{},...te},isPaused:!vn,loggingId:re.entityId,objectIdStr:oe,slotIndex:de,trackingParams:me,viewData:ge,viewParameter:he,viewType:fe,children:({impressionTrackerRef:e})=>{var n,a,t,r,d,u,m,g,y,f,b,x,k,P,S,I,D,A,L,F,z,M,U,R,N,B,E,O;return(0,Q.jsx)(s.xu,{ref:e,children:(0,Q.jsxs)(s.xu,{"data-test-id":"pin","data-test-pin-id":Pn,marginBottom:an?0:2,children:[(0,Q.jsxs)(s.xu,{"data-test-id":si||ei||ni?"pin-with-alt-text":"pin-missing-alt-text",padding:H?0:qe({isDesktop:an}),marginBottom:0,onContextMenu:an&&(re.nativeCreator||re.pinner)?e=>{e.stopPropagation(),e.preventDefault(),ln((0,Q.jsx)(Fe.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:Pn,graphqlRef:se}))}:void 0,dangerouslySetInlineStyle:{__style:bn?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},children:[(0,Q.jsxs)(Z.MZ,{...ui,children:[!!Un&&(0,Q.jsx)(ye,{inviteCode:Un}),ai?(0,Q.jsx)(Le.Z,{isPinRep:!0}):(0,Q.jsx)(ve.Z,{pinGraphqlRef:se,clientTrackingParams:li,color:null!==(n=re.dominantColor)&&void 0!==n?n:"",description:!ni||oi&&0!==he?void 0:ni.trim(),domainLinkData:re.domain&&re.link?{clickLoggingOptions:{auxData:{objectId:Pn,grid_index:de,sanitized_url:re.link}},domain:re.domain,link:re.link,onClick:null==V?void 0:V.onPinLinkClick}:void 0,disableRounding:c,image:Kn&&{dominant_color:null!==(a=Kn.dominantColor)&&void 0!==a?a:void 0,height:null!==(t=Kn.height)&&void 0!==t?t:void 0,url:null!==(r=Kn.url)&&void 0!==r?r:void 0,width:null!==(d=Kn.width)&&void 0!==d?d:void 0},imageAltText:si,imageCrop:re.imageCrop&&"number"==typeof re.imageCrop.minY&&"number"==typeof re.imageCrop.maxY?{minY:re.imageCrop.minY,maxY:re.imageCrop.maxY}:void 0,isSquarePin:$,lazyLoadImage:J,onError:()=>fn(!1),oneTapSave:Y,onLoad:()=>fn(!0),priorityFetchImage:ee,disableDefaultContextMenu:()=>xn(!0),pinId:Pn,pinnedToBoardId:null!==(u=null===(m=re.pinnedToBoard)||void 0===m?void 0:m.entityId)&&void 0!==u?u:"",productPrice:"product"===zn&&ie&&!ti?Ve(re):null,slotIndex:de,storyDataExists:!!Xn,title:oi&&0!==he?void 0:ei,type:zn,videoDuration:He(re),viewType:fe})]}),"image-only"!==le&&(un||an)&&(0,Q.jsxs)(s.xu,{children:[!un&&an&&3475!==he&&43!==he&&(0,Q.jsx)(Ee.Z,{dedupeVisualAnnotations:W,pinId:Pn,mode:"inlineWithScrollArrows",graphqlRef:se}),!ti&&(0,Q.jsxs)(s.xu,{position:"relative",children:[(0,Q.jsx)(Z.MZ,{...ui,children:(0,Q.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,ref:kn})}),(0,Q.jsx)(s.iP,{onTap:()=>{var e;null===(e=kn.current)||void 0===e||e.click()},accessibilityLabel:ui.accessibilityLabel,children:(0,Q.jsxs)(s.xu,{display:"flex",height:$?mi?104:72:void 0,marginEnd:X||1,marginStart:X||1,position:"relative",children:[(0,Q.jsx)(ue,{pinGraphqlRef:se,marginTop:X,hidePinMetadata:(null==rn?void 0:rn.display_data.hideDesc)||!1,credits:Bn(),hasAffiliatedProducts:!(null==Xn||!Xn.hasProductPins),isPromotedPin:ii,isSponsoredPin:!!Qn,logCreditsClick:()=>{var e;return sn({view_type:3,element:27,event_type:102,object_id_str:Pn,component:re.storyPinDataId?230:void 0,aux_data:{pin_id:Pn,...null!==(e=re.sponsorship)&&void 0!==e&&e.creator&&re.sponsorship.sponsor?{creator_id:re.sponsorship.creator.entityId,sponsor_id:re.sponsorship.sponsor.entityId}:{}}})},pinDescription:di,pinId:Pn,pinnedToBoardId:null!==(g=null===(y=re.pinnedToBoard)||void 0===y?void 0:y.entityId)&&void 0!==g?g:"",pinReactionCounts:null===(f=re.reactionCountsData)||void 0===f?void 0:f.reduce(((e,{reactionCount:n,reactionType:i})=>({...e,[String(null!=i?i:0)]:null!=n?n:0})),{}),recipeReview:"recipe"===zn&&!oi&&!(null==Jn||null===(b=Jn.aggregateRating)||void 0===b||!b.reviewCount)&&(0,Q.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,Q.jsx)(Se,{maxRating:Jn.aggregateRating.bestRating||"",rating:Jn.aggregateRating.ratingValue||"",text:""}),!!Jn.displayCookTime&&(0,Q.jsxs)(l.Fragment,{children:[(0,Q.jsx)(s.xu,{paddingX:1,children:(0,Q.jsx)(s.xv,{size:"100",children:"·"})}),(0,Q.jsx)(s.xv,{size:"100",children:(0,K.IS)({...(0,w.u)(Jn.displayCookTime),i18n:Qe})})]})]}),shouldShowReactions:!o&&(0,Ie.J6)({boardIsCollaborative:null===(x=re.board)||void 0===x?void 0:x.isCollaborative,isDownstreamPromotion:re.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:wn,isPromoted:re.isPromoted,storyPinDataId:re.storyPinDataId,videosId:null===(k=re.videos)||void 0===k?void 0:k.entityId})&&3475!==he&&606!==fe&&!(rn&&rn.display_data.hideReactions),showPriceIndicatorInPinCardDetails:mi,title:ei,type:zn}),(0,Q.jsx)(s.xu,{right:!0,children:!un||ai||_?null:(0,Q.jsx)(s.xu,{marginStart:1,marginTop:X,children:(0,Q.jsx)(s.xu,{height:26,width:24,children:(0,Q.jsx)(p.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,Q.jsx)(T.Z,{children:(0,Q.jsx)(Je,{adMatchReason:re.adMatchReason,bestPinImgSrc:Fn(),feedback:ae,feedbackType:En,getRecommendationDescription:On,graphqlRef:se,hideSaveOption:null!==(P=re.promotedIsRemovable)&&void 0!==P&&P,imageSignature:null!=Vn?Vn:void 0,isAdsOnlyPin:null!==(S=re.promotedIsRemovable)&&void 0!==S&&S,pinCategory:qn,pinDescription:di,pinId:Pn,pinTitle:Yn,sourceType:ii?"ad":0===he?"following":void 0,viewParameter:he,viewType:fe,trackingParams:me})})})})})})]})})]})]}),ti&&(0,Q.jsx)(Ne,{dedupeVisualAnnotations:W,queryRef:se,description:re.description,domain:null===(I=re.richSummary)||void 0===I?void 0:I.siteName,isSquarePin:$,gridTitle:null!==(D=re.gridTitle)&&void 0!==D?D:void 0,pinId:Pn,priceSummary:pi&&{maxPrice:pi.maxPrice,minPrice:pi.minPrice,price:pi.price,standardPrice:pi.standardPrice},richMetadataTitle:null===(A=re.richMetadata)||void 0===A?void 0:A.title,richSummaryDisplayName:null===(L=re.richSummary)||void 0===L?void 0:L.displayName,storyPinDataId:re.storyPinDataId,storyPinDataMetadataPinTitle:null===(F=re.storyPinData)||void 0===F||null===(z=F.metadata)||void 0===z?void 0:z.pinTitle,title:re.title})]}),"reported"===Nn?(0,Q.jsx)(ke,{color:null!==(M=re.dominantColor)&&void 0!==M?M:"",getFeedbackText:()=>({title:Qe._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:Qe._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:Pn,showing:!0}):(0,Q.jsx)(ke,{color:null!==(U=re.dominantColor)&&void 0!==U?U:"",getFeedbackText:e=>{const{promoter:n}=re;if(Ge(re)&&null!=n&&n.fullName)return{title:"",subTitle:(0,h.nk)(Qe._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:n.fullName})};let i;switch(En){case"followed":const{board:n,pinner:a}=re;n&&a&&(i=(0,v.oK)({boardId:n.entityId,i18n:Qe,makeNavigateLink:e,display:a.explicitlyFollowedByMe?{type:"board",data:{name:n.name,url:n.url}}:{type:"pinner",data:{full_name:a.fullName,username:a.username}}}));break;case"topic":const{sourceInterest:l}=re;l&&(i=(0,v.Iv)({i18n:Qe,makeNavigateLink:e,sourceInterest:{id:l.entityId,name:l.name,url_name:l.urlName}}))}return i?{title:Qe._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:On(e),unfollow:i}:{title:Qe._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:Qe._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}},onUnfollow:()=>yn({pinId:Pn,pinFeedbackStatus:"unfollowed"}),pinId:Pn,showing:!!Nn,unfollowed:"unfollowed"===Nn,viewParameter:he,viewType:fe}),!an&&(null==V?void 0:V.showSeoMetadata)&&!ti&&(0,Q.jsx)(j.Z,{id:"related-pins-title",children:(0,Q.jsx)(s.iP,{onTap:()=>{dn({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,Q.jsx)(Ae,{dedupeVisualAnnotations:W,description:re.description,gridTitle:null!==(R=re.gridTitle)&&void 0!==R?R:void 0,pinId:Pn,richMetadataTitle:null===(N=re.richMetadata)||void 0===N?void 0:N.title,richSummaryDisplayName:null===(B=re.richSummary)||void 0===B?void 0:B.displayName,storyPinDataId:re.storyPinDataId,storyPinDataMetadataPinTitle:null===(E=re.storyPinData)||void 0===E||null===(O=E.metadata)||void 0===O?void 0:O.pinTitle,title:re.title,queryRef:se})})}),i&&(0,Q.jsx)(C.W,{data:i})]})})}})}const Qe=(0,_.Z)({useGraphQLAdapter:e=>{const n=(0,o.useFragment)(Oe,e);return{debug:null,pin:n,pinGraphqlRef:n}},useLegacyAdapter:e=>{var n,i,a,l,t,o,r,s,d,c,u,p;const m=(0,J.S6)()(e);if(!m)return null;const _=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},g=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},h=m.reaction_counts;return{debug:m.debug,pin:{adMatchReason:m.ad_match_reason,altText:m.alt_text,attribution:m.attribution&&{embed:m.attribution.embed&&{type:m.attribution.embed.type}},board:m.board&&{entityId:m.board.id,followedByMe:m.board.followed_by_me,isCollaborative:m.board.is_collaborative,name:m.board.name,privacy:m.board.privacy,url:m.board.url},category:m.category,closeupDescription:m.closeup_description,closeupUnifiedDescription:m.closeup_unified_description,descriptionHtml:m.description_html,description:m.description,domain:m.domain,dominantColor:m.dominant_color,embed:m.embed&&{height:m.embed.height,src:m.embed.src,type:m.embed.type,width:m.embed.width},entityId:m.id,gridTitle:m.grid_title,imageCrop:m.image_crop&&{minY:m.image_crop.min_y,maxY:m.image_crop.max_y},imageSignature:m.image_signature,imageSpec_136x136:g(null===(n=m.images)||void 0===n?void 0:n["136x136"]),imageSpec_170x:g(null===(i=m.images)||void 0===i?void 0:i["170x"]),imageSpec_236x:g(null===(a=m.images)||void 0===a?void 0:a["236x"]),imageSpec_474x:g(null===(l=m.images)||void 0===l?void 0:l["474x"]),imageSpec_736x:g(null===(t=m.images)||void 0===t?void 0:t["736x"]),imageSpec_orig:g(null===(o=m.images)||void 0===o?void 0:o.orig),isDownstreamPromotion:m.is_downstream_promotion,isEligibleForPdp:m.is_eligible_for_pdp,isEligibleForWebCloseup:m.is_eligible_for_web_closeup,isOosProduct:m.is_oos_product,isPromoted:m.is_promoted,isStaleProduct:m.is_stale_product,linkDomain:m.link_domain&&{officialUser:m.link_domain.official_user&&{fullName:m.link_domain.official_user.full_name,entityId:null!==(r=m.link_domain.official_user.id)&&void 0!==r?r:"",imageMediumUrl:m.link_domain.official_user.image_medium_url,imageSmallUrl:m.link_domain.official_user.image_small_url,username:m.link_domain.official_user.username,isPrimaryWebsiteVerified:m.link_domain.official_user.is_primary_website_verified}},link:m.link,nativeCreator:_(m.native_creator),pinnedToBoard:m.pinned_to_board&&{entityId:null!==(s=m.pinned_to_board.id)&&void 0!==s?s:""},pinJoin:m.pin_join&&{visualAnnotation:m.pin_join.visual_annotation},pinner:m.pinner&&{entityId:m.pinner.id,explicitlyFollowedByMe:m.pinner.explicitly_followed_by_me,fullName:m.pinner.full_name,imageMediumUrl:m.pinner.image_medium_url,imageSmallUrl:m.pinner.image_small_url,username:m.pinner.username},promoter:_(m.promoter),promotedIsRemovable:m.promoted_is_removable,reactionCountsData:h&&Object.keys(h).map((e=>({reactionType:Number(e),reactionCount:h[e]}))),richMetadata:m.rich_metadata&&{description:m.rich_metadata.description,title:m.rich_metadata.title,recipe:m.rich_metadata.recipe&&{fromAggregatedData:m.rich_metadata.recipe.from_aggregated_data},products:m.rich_metadata.products&&m.rich_metadata.products.map((e=>{var n,i,a,l;return{name:e.name,offerSummary:{maxPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.max_price,minPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.min_price,price:null===(a=e.offer_summary)||void 0===a?void 0:a.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}}))},richSummary:m.rich_summary&&{aggregateRating:m.rich_summary.aggregate_rating&&{bestRating:m.rich_summary.aggregate_rating.best_rating,ratingValue:m.rich_summary.aggregate_rating.rating_value,reviewCount:m.rich_summary.aggregate_rating.review_count},displayName:m.rich_summary.display_name,displayCookTime:m.rich_summary.display_cook_time,siteName:m.rich_summary.site_name,typeName:m.rich_summary.type_name,products:m.rich_summary.products&&m.rich_summary.products.map((e=>{var n,i,a,l;return{name:e.name,offerSummary:{maxPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.max_price,minPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.min_price,price:null===(a=e.offer_summary)||void 0===a?void 0:a.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}}))},seoUrl:m.seo_url,shoppingFlags:m.shopping_flags,shouldOpenInStream:m.should_open_in_stream,sourceInterest:m.source_interest&&{entityId:null!==(d=m.source_interest.id)&&void 0!==d?d:"",name:m.source_interest.name,urlName:m.source_interest.url_name},sponsorship:m.sponsorship&&{creator:m.sponsorship.creator&&{entityId:null!==(c=m.sponsorship.creator.id)&&void 0!==c?c:"",fullName:m.sponsorship.creator.full_name,imageMediumUrl:m.sponsorship.creator.image_medium_url,imageSmallUrl:m.sponsorship.creator.image_small_url,username:m.sponsorship.creator.username},sponsor:m.sponsorship.sponsor&&{entityId:null!==(u=m.sponsorship.sponsor.id)&&void 0!==u?u:"",fullName:m.sponsorship.sponsor.full_name,imageMediumUrl:m.sponsorship.sponsor.image_medium_url,imageSmallUrl:m.sponsorship.sponsor.image_small_url,username:m.sponsorship.sponsor.username}},storyPinDataId:m.story_pin_data_id,storyPinData:m.story_pin_data&&{hasProductPins:m.story_pin_data.has_product_pins,isDeleted:m.story_pin_data.is_deleted,metadata:m.story_pin_data.metadata&&{pinTitle:m.story_pin_data.metadata.pin_title}},title:m.title,trackedLink:m.tracked_link,trackingParams:m.tracking_params,videos:m.videos&&{entityId:null!==(p=m.videos.id)&&void 0!==p?p:"",videoList:m.videos.video_list&&{v720P:m.videos.video_list.V_720P&&{duration:m.videos.video_list.V_720P.duration,height:m.videos.video_list.V_720P.height,width:m.videos.video_list.V_720P.width,url:m.videos.video_list.V_720P.url}}},recommendationReason:m.recommendation_reason&&{reason:m.recommendation_reason.reason,board:m.recommendation_reason.board&&{name:m.recommendation_reason.board.name,url:m.recommendation_reason.board.url}}},pinGraphqlRef:null}}});function Xe(e){const{pinId:n,duploQueryRef:i,...a}=e;return(0,Q.jsx)(Qe,{input:i?{enabled:!0,data:i}:{enabled:!1,data:n},children:({data:e})=>!!e&&(0,Q.jsx)(Ye,{...a,debug:e.debug,pin:e.pin,pinGraphqlRef:e.pinGraphqlRef})})}},167525:(e,n,i)=>{i.d(n,{Z:()=>r});var a=i(883119),l=i(643010),t=i(898781),o=i(785893);function r({text:e,icon:n,largeIdentifier:i,largeMargin:r}){const s=(0,t.ZP)();return(0,o.jsxs)(a.xu,{zIndex:new a.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,l.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:r?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:i?4:void 0,height:i?36:24,top:!0,children:[n&&(0,o.jsx)(a.xu,{marginEnd:i?2:1,children:(0,o.jsx)(a.JO,{accessibilityLabel:s._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:n,inline:!0,size:i?18:12})}),(0,o.jsx)(a.xv,{inline:!0,size:i?"200":"100",weight:"bold",children:e})]})}},255607:(e,n,i)=>{function a(e){const n=Object.keys(e);if(n.length>0){return n.sort(((n,i)=>e[i]-e[n])).slice(0,3)}return null}function l(e){const n=Object.values(e);if(n.length>0){return n.reduce(((e,n)=>e+n),0)}return 0}function t({boardIsCollaborative:e,isDownstreamPromotion:n,isPromoted:i,storyPinDataId:a,videosId:l,isEligibleForStaticImageIdeaPin:t}){return!(i||n||!l&&!a||null!=e&&e||t)}i.d(n,{At:()=>a,J6:()=>t,Ud:()=>l})},21384:(e,n,i)=>{i.d(n,{Z:()=>I});var a=i(667294),l=i(702664),t=i(167912),o=i(883119),r=i(373420),s=i(898781),d=i(780280),c=i(784590),u=i(867820),p=i(52022),m=i(690035),_=i(50286),g=i(643010),h=i(121151),y=i(430322),v=i(785893);function f({showFullScreenInfo:e,isOpen:n,interstitialUpsellDismissed:i,children:a}){const l=(0,s.ZP)(),t=(0,_.HG)(),r=(0,_.Wb)();return r||t?(0,v.jsx)(h.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!r,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,v.jsx)(o.xu,{color:(0,g.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,g.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:t?"100vw":"100%",zIndex:new o.Ry(1),children:(0,v.jsx)(o.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:i?0:12,children:a})})}):(0,v.jsx)(y.default,{accessibilityModalLabel:l._('Close', 'Close modal window', 'Close modal window'),isOpen:n,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:l._('Close', 'Close modal window', 'Close modal window'),children:a})}var b,x=i(385801);const k=void 0!==b?b:b=i(276667);function P({dedupeVisualAnnotations:e,iconColor:n,size:i,isMainPin:t,isAuth:c,pinCreditPrefix:g,onClickTitleOrDomain:h,pinId:y,graphqlRef:b}){const k=(0,s.ZP)(),P=(0,p.Z)(),{isBot:w}=(0,d.B)(),{unauthInterstitialDismissed:S}=(0,l.useSelector)((({session:e})=>e)),[T,I]=(0,a.useState)(!1),j=(0,_.HG)(),D=(0,_.Wb)(),A=(0,m.Z)(),C=!D&&!c,L=!j,F=(0,v.jsxs)(o.xu,{padding:5,dangerouslySetInlineStyle:C?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,v.jsx)(o.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,v.jsx)(o.hU,{accessibilityLabel:k._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,u.My)("mweb.unauth.see_more.dismissed"),P({action:"click",item:"close-seo-vase-see-more-button"}),I(!1),t&&(0,u.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,v.jsx)(o.xu,{marginBottom:C?0:8,children:(0,v.jsx)(o.xv,{align:C?"start":"center",weight:C?void 0:"bold",children:(0,v.jsx)("span",{className:"deprecatedTextSizeXL",children:C?null:k._('More information', 'more information label', 'more information label')})})}),(0,v.jsx)(x.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:g,onClickTitleOrDomain:h,pinId:y,queryRef:b})]});return(0,v.jsxs)(o.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,v.jsx)(o.hU,{accessibilityLabel:k._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:null!=n?n:"gray",size:i||"md",onClick:({event:n})=>{n.stopPropagation(),(0,u.My)("mweb.unauth.see_more.shown."+(t?"main_pin":"related_pins")),P({action:"click",item:"seo-vase-see-more-button"}),D||c?(I(!0),t&&(0,u.My)("mweb.unauth.see_more.main_pin.shown")):A({pinId:y||"",location:t?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,v.jsx)(x.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:g,onClickTitleOrDomain:h,pinId:y,queryRef:b})})}}),w&&L?(0,v.jsx)(o.xu,{display:T?"flex":"none",children:F}):(0,v.jsx)(f,{showFullScreenInfo:T,isOpen:T&&!D,interstitialUpsellDismissed:!!S,children:F}),D&&T&&(0,v.jsx)(r.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:F})]})}function w(e){const n=(0,t.useFragment)(k,e.graphqlRef);return(0,v.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,graphqlRef:n})}function S(e){return(0,v.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId})}function T(e){return(0,c.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,v.jsx)(S,{...e})}function I(e){return e.graphqlRef?(0,v.jsx)(w,{...e}):e.lazyLoadAnnotations?(0,v.jsx)(T,{...e}):(0,v.jsx)(S,{...e})}},914142:(e,n,i)=>{i.d(n,{Z:()=>c,j:()=>s});var a=i(883119),l=i(898781),t=i(349700),o=i(773285),r=i(785893);const s=[0,2,3],d="Ad • ";function c({hasAffiliatedProducts:e,isPromoted:n,sponsorName:i,sponsorshipStatus:c,textColor:u}){const p=(0,l.ZP)(),m=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let _;n?_=(0,t.nk)(p._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:i}):c||0===c?i&&!s.includes(c)?_=(0,t.nk)(p._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:i}):2!==c&&(_=p._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(_=p._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const g=m&&!n&&d||"";return(0,r.jsxs)(a.xv,{color:u,size:"100",children:[g,(0,r.jsx)(t.r7,{text:_})]})}},394332:(e,n,i)=>{i.d(n,{Z:()=>P});var a,l=i(667294),t=i(167912),o=i(883119),r=i(898781),s=i(391254),d=i(992750),c=i(780280),u=i(941646),p=i(52022),m=i(350118),_=i(862193),g=i(785893);const h="\n::-webkit-scrollbar {\n  display: none;\n}\n",y=void 0!==a?a:a=i(85934);function v({direction:e,handleClick:n,testId:i,isRTL:a}){const l=(0,r.ZP)(),t=(0,p.Z)(),s=a?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,g.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},onClick:e=>{t({action:"click",item:"board-pills-arrow"}),n(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":i,children:(0,g.jsx)(o.xu,{position:"absolute",left:"left"===e,right:"right"===e,borderStyle:"none",children:(0,g.jsx)(u.Z,{id:"board-pills-arrow",children:(0,g.jsx)(o.JO,{accessibilityLabel:l._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"left"!==e?s[0]:s[1],size:8,color:"subtle"})})})})}function f({name:e,url:n}){const[i,a]=(0,l.useState)(!1),t=(0,p.Z)();return(0,g.jsx)(o.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:(0,g.jsx)(o.xv,{color:i?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:n?(0,g.jsx)(o.rU,{display:"inlineBlock",tapStyle:"compress",href:n,rounding:8,onClick:()=>{t({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function b({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:n,mode:i}){const a=(0,l.useRef)(null),[t,r]=(0,l.useState)(!1),[m,_]=(0,l.useState)(!1),y=(0,p.Z)(),{isRTL:b}=(0,c.B)();(0,l.useEffect)((()=>{const e=a.current,n=()=>{if("inlineWithScrollArrows"===i&&a.current){const e=a.current,n=Math.abs(e.scrollLeft||0),i=Math.abs(e.scrollWidth||0),l=n>4,t=n+e.clientWidth<i-4,o=b?t:l;r(b?l:t),_(o)}else r(!1),_(!1)};return n(),null==e||e.addEventListener("scroll",n),()=>{null==e||e.removeEventListener("scroll",n)}}),[i,b]);const x=e=>n=>{n.preventDefault(),n.stopPropagation(),"right"===e&&y({action:"click",item:"board-pills-arrow-button-right"});const i=a.current;if(!i)return;const l=("left"===e?-1:1)*i.clientWidth*.5;i.scrollBy(l,0)},{annotationsWithLinks:k}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:n});return(0,g.jsx)(o.kC,{alignItems:"center",justifyContent:"end",children:(0,g.jsxs)(o.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,g.jsx)(s.Z,{unsafeCSS:h}),m&&(0,g.jsx)(v,{direction:"left",handleClick:x("left"),testId:"left-scroll-arrow",isRTL:b}),(0,g.jsx)(o.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:a,children:k.map((({name:e,url:n})=>(0,g.jsx)(f,{name:e,url:n},n||e)))}),t&&(0,g.jsx)(u.Z,{id:"board-pills-arrow-button-right",children:(0,g.jsx)(v,{direction:"right",handleClick:x("right"),testId:"right-scroll-arrow",isRTL:b})})]})})}function x({dedupeVisualAnnotations:e,graphqlRef:n,mode:i,pinId:a}){var l;const o=(0,t.useFragment)(y,n),r=(0,_.Z)(o);let s=(null==o||null===(l=o.pinJoin)||void 0===l?void 0:l.visualAnnotation)||[];return e&&(s=e({pinId:a,visualAnnotations:s})),s.length<1?null:(0,g.jsx)(b,{mode:i,pinJoinVisualAnnotation:s,pinJoinAnnotationsWithLinks:r||void 0})}function k(e){var n,i,a;const l=(0,m.S6)()(e.pinId);return((null==l||null===(n=l.pin_join)||void 0===n?void 0:n.visual_annotation)||[]).length<1?null:(0,g.jsx)(b,{mode:e.mode,pinJoinVisualAnnotation:null==l||null===(i=l.pin_join)||void 0===i?void 0:i.visual_annotation,pinJoinAnnotationsWithLinks:null==l||null===(a=l.pin_join)||void 0===a?void 0:a.annotations_with_links})}function P(e){return e.graphqlRef?(0,g.jsx)(x,{...e}):(0,g.jsx)(k,{...e})}},385801:(e,n,i)=>{i.d(n,{Z:()=>T});var a=i(667294),l=i(167912),t=i(883119),o=i(934494),r=i(898781),s=i(349700),d=i(623568),c=i(992750),u=i(780280),p=i(927104),m=i(941646),_=i(867820),g=i(52022),h=i(50286),y=i(298024),v=i(785893);function f({boardUrl:e,boardName:n,boardPrivacy:i,pinnerFullName:a,pinnerImageSmallUrl:l,pinnerImageLargeUrl:o}){const r=(0,h.HG)(),s=(0,g.Z)();if(!e||!n)return null;const d=e.split("/")[1],c=a||d,u=l||o;return(0,v.jsxs)(t.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[u?(0,v.jsx)(t.iP,{role:"link",href:`/${d}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,_.My)(`pcons.${r?"desktop":"mobile"}.see-more-button-creator`),s({action:"click",item:"see-more-button-creator"})},children:(0,v.jsx)(t.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,v.jsx)(t.Ee,{naturalHeight:32,naturalWidth:32,alt:c,fit:"cover",color:"rgb(231, 186, 176)",src:u})})},"profile-link"):null,(0,v.jsxs)(t.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,v.jsx)(m.Z,{id:"see-more-button-creator-full-name",children:(0,v.jsx)(t.iP,{onTap:()=>{(0,_.My)(`pcons.${r?"desktop":"mobile"}.see-more-button-creator-full-name`),s({action:"click",item:"see-more-button-creator-full-name"})},children:(0,v.jsx)(t.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,v.jsx)(t.rU,{href:`/${d}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:c},"profile-link")},"profileLink")})}),"protected"===i?null:(0,v.jsx)(t.xv,{color:"default",inline:!0,size:"100",children:(0,v.jsx)(t.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=n?n:""},"board-link")},"boardLink")]})]})}var b,x=i(350118),k=i(394332);const P=void 0!==b?b:b=i(877821);function w({dedupeVisualAnnotations:e,pin:n,pinId:i,forwardRef:l,onClickTitleOrDomain:o,pinCreditPrefix:b}){var x,P,w,S,T,I,j,D,A;const C=(0,r.ZP)(),L=(0,h.ml)(),F=(0,h.Wb)(),{isAuthenticated:z,isBot:M}=(0,u.B)(),U=(0,g.Z)(),K=!z&&!M&&L,Z=o||null,[R,N]=(0,a.useState)(!1),B=(0,y.si)(),E=(0,y.Re)(),O=(0,c.fs)({pinTitle:n.title,gridTitle:n.gridTitle,richSummaryDisplayName:null===(x=n.richSummary)||void 0===x?void 0:x.displayName,richMetadataTitle:null===(P=n.richMetadata)||void 0===P?void 0:P.title,storyPinDataId:n.storyPinDataId,storyPinDataMetadataPinTitle:null===(w=n.storyPinData)||void 0===w||null===(S=w.metadata)||void 0===S?void 0:S.pinTitle})||n.description,q=(O||"").length>E,{description:G}=(0,c.eK)({richMetadataDescription:null===(T=n.richMetadata)||void 0===T?void 0:T.description,richSummaryDisplayName:null===(I=n.richSummary)||void 0===I?void 0:I.displayName,closeupUnifiedDescription:n.closeupUnifiedDescription}),W=G.length>B,[H,V]=(0,a.useState)(!W&&!q),$=(0,d._S)(n.domain)?n.domain:"";return(0,v.jsxs)(t.xu,{children:[(0,v.jsxs)(t.xu,{children:[(0,v.jsxs)(t.xu,{as:"figcaption",paddingX:F?11:0,children:[(0,v.jsx)(t.X6,{id:"vase-pin-title",color:"default",size:"300",accessibilityLevel:3,children:R||M?O:(0,p.Z)(O||"",E)}),!!O&&(0,v.jsx)(t.xu,{height:G?8:0}),G&&(W||q)?(0,v.jsx)(m.Z,{id:"vase-pin-description",children:(0,v.jsxs)(t.iP,{onTap:()=>{R||z||((0,_.NC)("click_open_description_in_sheet"),U({action:"click",item:"more-description-in-sheet"})),V(!H),N(!R)},fullWidth:!1,children:[(0,v.jsx)(t.xv,{color:"default",size:"200",inline:!0,children:R||M?G:(0,p.Z)(G,B)}),(0,v.jsx)(t.xu,{display:"inlineBlock",paddingX:1,children:(0,v.jsx)(t.xv,{weight:"bold",size:"200",inline:!0,children:R||M?C._('Less', 'Toggle less description button', 'Toggle less description button'):C._('More', 'Toggle more description button', 'Toggle more description button')})})]})}):(0,v.jsx)(m.Z,{id:"vase-pin-description",children:(0,v.jsx)(t.xv,{color:"default",size:"200",inline:!0,children:G})})]}),K&&(H||M)&&!!$&&(0,v.jsx)(t.xu,{marginTop:2,children:(0,v.jsx)(t.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,s.nk)(C._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,v.jsx)(t.xu,{display:"inlineBlock",children:(0,v.jsx)(t.xv,{inline:!0,size:"200",children:b})},"pinCreditsPrefix"),pinCredit:(0,v.jsx)(t.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,v.jsx)(t.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),U({action:"click",item:"pin-domain-link"}),(0,_.My)("mweb_pin_page.pin_link.clickthrouh"),z||(0,_.NC)("click_pin_closeup_link_clickthrough"),Z&&Z()},tapStyle:"compress",children:(0,v.jsx)(t.xv,{size:"200",lineClamp:1,children:(0,v.jsx)("span",{style:{textDecoration:"underline"},children:$})},"pinLinkDomain")})},"pinCredits")})})})]}),!!n.board&&(H||M)&&(0,v.jsx)(t.xu,{marginTop:4,children:(0,v.jsx)(f,{boardUrl:n.board.url||void 0,boardName:n.board.name||void 0,boardPrivacy:n.board.privacy||void 0,pinnerFullName:(null===(j=n.pinner)||void 0===j?void 0:j.fullName)||void 0,pinnerImageSmallUrl:null===(D=n.pinner)||void 0===D?void 0:D.imageSmallUrl,pinnerImageLargeUrl:null===(A=n.pinner)||void 0===A?void 0:A.imageLargeUrl})}),(0,v.jsx)(t.xu,{marginTop:4,children:(0,v.jsx)(k.Z,{dedupeVisualAnnotations:e,pinId:i,mode:"expanded",graphqlRef:l})})]})}const S=(0,o.Z)({useGraphQLAdapter:e=>{const n=(0,l.useFragment)(P,e);return{pin:n,forwardRef:n}},useLegacyAdapter:e=>{const n=(0,x.S6)()(null!=e?e:"");return n?{pin:{board:n.board&&{name:n.board.name,privacy:n.board.privacy,url:n.board.url},closeupUnifiedDescription:n.closeup_unified_description,description:n.description,domain:n.domain,gridTitle:n.grid_title,pinner:n.pinner&&{fullName:n.pinner.full_name,imageLargeUrl:n.pinner.image_large_url,imageSmallUrl:n.pinner.image_small_url},richMetadata:n.rich_metadata&&{description:n.rich_metadata.description,title:n.rich_metadata.title},richSummary:n.rich_summary&&{displayName:n.rich_summary.display_name},storyPinData:n.story_pin_data&&{metadata:n.story_pin_data.metadata&&{pinTitle:n.story_pin_data.metadata.pin_title}},storyPinDataId:n.story_pin_data_id,title:n.title},forwardRef:null}:null}});function T({queryRef:e,pinId:n,...i}){return(0,v.jsx)(S,{input:e?{enabled:!0,data:e}:{enabled:!1,data:n},children:({data:e})=>e&&(0,v.jsx)(w,{...i,pinId:n,pin:e.pin,forwardRef:e.forwardRef})})}},999023:(e,n,i)=>{i.d(n,{Z:()=>r});var a=i(667294),l=i(112690),t=i(867820);const o=({viewType:e,viewParameter:n,viewData:i,auxData:a,objectIdStr:l,component:o,clientTrackingParams:r,element:s},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:n,view_data:i,aux_data:a,object_id_str:l,component:o,clientTrackingParams:r,element:s},Object.keys(u).reduce(((e,n)=>(void 0===u[n]&&delete e[n],e)),{...u}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,t.My)("mweb.logging.null_view_type"),d(c)};function r(e){const{auxData:n,clientTrackingParams:i,children:t,component:r,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,m=(0,l.Z)(),_=JSON.stringify(n),g=JSON.stringify(c);return(0,a.useEffect)((()=>{o(e,m)}),[m,_,i,r,s,d,g,u,p]),a.Children.only(t)}},598615:(e,n,i)=>{i.d(n,{BH:()=>_,SV:()=>g,ZP:()=>h});var a=i(667294),l=i(616550),t=i(172071),o=i(407043),r=i(385740),s=i(53987),d=i(867820),c=i(52022),u=i(938917),p=i(329900),m=i(785893);const _=e=>"/"===e.pathname?"/":(0,s.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1),g=e=>e&&e.pathname&&"/"!==e.pathname?(0,s.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1):"/";function h({children:e,componentType:n,within:i}){const s=(0,l.useLocation)(),{flushContextEvents:g,logContextEvent:h}=(0,o.v)(),{viewType:y,viewParameter:v}=(0,r.SU)(),f=(0,c.Z)();(0,a.useEffect)((()=>{f({action:"view",item:"download-button",within:i})}),[s,i,f]);const b=(0,a.useRef)(!1);(0,a.useEffect)((()=>{y&&202!==y?(h({component:n||13106,element:10308,event_type:9976,view_type:y,view_parameter:v,aux_data:{app_upsell_type:i,app_upsell_is_dupe:b.current}}),b.current=!0):t.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:n,view_type:y,view_parameter:v,app_upsell_type:i,app_upsell_is_dupe:b.current})}),[n,h,v,y,i]);const x=(0,u.Z)();return(0,a.useEffect)((()=>{x||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${i}`)}),[x,i]),(0,m.jsx)(p.Z,{children:a=>e({handleOpenApp:e=>{var l;(f({action:"click",item:"download-button",within:i}),(0,d.NC)("press_open_app",!0),h({component:n||13106,element:10308,event_type:102,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:i}}),h({component:n||13106,element:10308,event_type:9977,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:i}}),g(!0),a)&&(h({component:n||13106,element:10308,event_type:1701,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:i}}),a(null!==(l=null==e?void 0:e.deepLinkUri)&&void 0!==l?l:_(s),i))}})})}},296679:(e,n,i)=>{i.d(n,{Z:()=>h});var a=i(883119),l=i(430322),t=i(898781),o=i(287072),r=i(773285),s=i(780280),d=i(50286),c=i(598615),u=i(664166),p=i(821997),m=i(948376),_=i(785893);const g=({copyChangeGroup:e,deepLinkUri:n,isOpen:i,onDismiss:u,onOpenInApp:g,to:h,within:y})=>{var v;const f=(0,t.ZP)(),b=(0,d.Wb)(),{userAgent:{platform:x,raw:k}}=(0,s.B)(),{checkExperiment:P}=(0,r.F)(),w=(0,m.Rp)({platform:x,userAgent:k}),S=(0,o.Z)({href:null!=h?h:""}),T=b?60:40,I={control:{valueProp:f._('The best experience is on the app', 'mweb.unauth.app_upsell.app_value_prop', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:f._('Free, unlimited access to ideas', 'mweb.app_upsell.description', 'description on app upsell modal')},enabled_copy_change_1:{valueProp:f._('Pick this up in the app', 'mweb.unauth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:f._('Continue in the Pinterest app for the best experience', 'mweb.app_upsell.description1', 'description on app upsell modal')},enabled_copy_change_2:{valueProp:f._('Pick this up in the app', 'mweb.unauth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:f._('Looks like you\u2019ve already downloaded the Pinterest app', 'mweb.app_upsell.description2', 'description on app upsell modal')},enabled_copy_change_3:{valueProp:f._('Pick this up in the app', 'mweb.unauth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:f._('Looks like you\u2019ve already downloaded Pinterest. Use the app for the best experience.', 'mweb.app_upsell.description3', 'description on app upsell modal')},enabled_copy_change_4:{valueProp:f._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:f._('Continue in the app for the full experience', 'mweb.app_upsell.description4', 'description on app upsell modal')},enabled_copy_change_5:{valueProp:f._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:f._('Continue in the app for more ways to discover ideas', 'mweb.app_upsell.description5', 'description on app upsell modal')}},{valueProp:j,description:D}=null!==(v=I[e||"control"])&&void 0!==v?v:{},{group:A}=P("mweb_auth_app_upsell_modal_cta_copy_change");let C=null!=e&&e.startsWith("enabled_copy_change")||"enabled_open_app"===A?f._('Open app', 'mweb.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest Lite app'):f._('Get the app', 'mweb.app_upsell.app_upsell_button_text', 'Button to get the Pinterest Lite app');return"enabled_open_the_app"===A&&(C=f._('Open the app', 'mweb.app_upsell.app_upsell_button_text2', 'Button to get the Pinterest Lite app')),(0,_.jsx)(l.default,{accessibilityModalLabel:"",isOpen:i,mobileHideCloseIcon:!0,type:"app_upsell_v1",zIndex:new a.Ry(101),closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,_.jsx)(c.ZP,{componentType:14157,within:y,children:({handleOpenApp:e})=>(0,_.jsxs)(a.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,_.jsx)(a.xu,{display:"inlineBlock",position:"absolute",children:(0,_.jsx)(a.xu,{"data-test-id":"appUpsell-continue",children:(0,_.jsx)(a.hU,{accessibilityLabel:f._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{u({event:e}),S&&!e.defaultPrevented&&(n(),S({event:e}))},size:"lg",iconColor:"gray"})})}),(0,_.jsxs)(a.xu,{paddingX:2,paddingY:6,children:[(0,_.jsx)(a.xu,{paddingY:2,justifyContent:"center",display:"flex",children:w?(0,_.jsx)(p.Z,{size:T}):(0,_.jsx)(a.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:T})}),(0,_.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,_.jsx)(a.xu,{paddingY:2,children:(0,_.jsx)(a.X6,{align:"center",size:"400",children:w?f._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):j})}),(0,_.jsx)(a.xv,{align:"center",size:"300",children:w?f._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):D}),(0,_.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,_.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{e({deepLinkUri:n}),g()},text:C})})]})]})]})})})};function h({clientTrackingParams:e,copyChangeGroup:n,deepLinkUri:i,isOpen:a,onDismiss:l,onOpenInApp:t,shouldTrackDismiss:o,to:r,viewParameter:s,viewType:d,within:c}){return(0,_.jsx)(u.Z,{clientTrackingParams:e,viewType:d,viewParameter:s,children:(0,_.jsx)(g,{copyChangeGroup:n,deepLinkUri:i,isOpen:a,onDismiss:e=>{o&&(0,u.y)(),l(e)},onOpenInApp:()=>{(0,u.y)(),t()},to:r,within:c})})}},664166:(e,n,i)=>{i.d(n,{Z:()=>u,y:()=>c});var a=i(667294),l=i(30287),t=i(844974),o=i(339363),r=i(807609),s=i(999023),d=i(785893);const c=()=>{(0,t.Nh)("appUpsell",Date.now()),(0,t.qn)("firstUpsellTime")||(0,t.Nh)("firstUpsellTime",Date.now()),(0,o.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:n,viewParameter:i,viewType:t}){return(0,r.Z)()||(0,l.FP)(window)?null:(0,d.jsx)(s.Z,{viewType:t,viewParameter:i,component:13106,clientTrackingParams:n,children:(0,d.jsx)(a.Fragment,{children:e})})}},938917:(e,n,i)=>{i.d(n,{Z:()=>l});var a=i(702664);const l=()=>(0,a.useSelector)((({session:{canUseNativeApp:e}})=>e))},821997:(e,n,i)=>{i.d(n,{Z:()=>l});var a=i(785893);function l({size:e,noCircle:n}){return(0,a.jsxs)("svg",{height:e,style:{display:"block"},viewBox:n?"3 3 70 70":"-3 -3 82 82",width:e,children:[n?null:(0,a.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,a.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},948376:(e,n,i)=>{i.d(n,{G3:()=>c,Rp:()=>d,kp:()=>s});var a=i(202139),l=i(844974),t=i(339363);const o=14*a.F4;function r(e,n,i){return e-n>i}const s=e=>{const n=function(){const e=Date.now(),n=Number((0,l.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,l.qn)("firstUpsellTime")),lastUpsellTime:n,showedAppUpsellCurrentSession:Boolean((0,t.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,n,i){const{currentTime:a,firstUpsellTime:t,lastUpsellTime:s,showedAppUpsellCurrentSession:d}=e;return i=i||o,!t||function(e,n,i){return e<n+i}(a,t,n)?!d:!!r(a,s,i)&&((0,l.L_)("firstUpsellTime"),!0)}(n,a.F4):function(e,n){const{currentTime:i,lastUpsellTime:a}=e;return n=n||o,!a||r(i,a,n)}(n)},d=({platform:e,userAgent:n})=>{try{return"android"===e&&parseFloat((e=>{const n=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return n?n[1]:void 0})(n))<7}catch(i){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},59729:(e,n,i)=>{i.d(n,{CC:()=>r,H$:()=>d,Mt:()=>o,dp:()=>s,p9:()=>c});var a=i(844974),l=i(339363),t=i(116485);const o=(e,n,i,l,o,r,s=t.k7)=>{const d=(0,a.qn)(s)?JSON.parse((0,a.qn)(s)):[];if(!d[0]||d[0].path!==e){const t=[{path:e,ts:Date.now(),pin_id:i||0,first_pin_image_signature:n||"",first_pin_id:i||"",image_info:l||"",pin_description:o||"",is_shared:!!r,pin_invite_code:r}];(0,a.Nh)(s,JSON.stringify(t.concat(d)))}},r=({path:e,image:n,dominant_color:i,pin_description:a,pin_id:o})=>{const r=(()=>{const e=(0,l.qn)(t.KH);if(!e)return[];let n;try{n=JSON.parse(e)}catch(i){n=[]}return n})();if(!r[0]||r[0].path!==e){const s=[{path:e,image:n,pin_description:a||"",dominant_color:i||"",pin_id:o||""}];(0,l.Nh)(t.KH,JSON.stringify(s.concat(r)))}};function s(e,n,i,a,l,r){o(e,n,i,a,l,r,t.zR)}const d=(e,n,i,a,l)=>{o(e,n,i,a,null!=l?l:"","",t.dy)};function c(e,n,i,a,l){o(e,n,i,a,l,"",t.QR)}},885149:(e,n,i)=>{i.d(n,{Z:()=>d,x:()=>s});var a=i(667294),l=i(867820),t=i(785893);const o=(0,a.createContext)((()=>{})),r=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},s=({children:e})=>{const[n,i]=(0,a.useState)(null);(0,a.useEffect)((()=>r),[]);const s=(0,a.useCallback)((e=>{(0,l.My)("dweb.unauth.context_menu.open_menu"),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"),i(e)}),[]),d=!!n;return(0,a.useEffect)((()=>{const e=()=>{i(null),r(),(0,l.My)("dweb.unauth.context_menu.click_away")};return d&&document.addEventListener("click",e),()=>{d&&document.removeEventListener("click",e)}}),[d]),(0,t.jsx)(o.Provider,{value:s,children:(0,t.jsxs)(a.Fragment,{children:[e,n]})})},d=()=>(0,a.useContext)(o)},364034:(e,n,i)=>{i.d(n,{$:()=>s,Z:()=>d});var a=i(667294),l=i(844974);const t=e=>{if(!e)return null;try{return JSON.parse(e)}catch(n){return null}},o=new Set;function r(e){const n=(0,a.useCallback)((n=>{const i=i=>{i===e&&n()};return o.add(i),()=>{o.delete(i)}}),[e]),i=(0,a.useSyncExternalStore)(n,(()=>(0,l.qn)(e)),(()=>null)),r=(0,a.useCallback)((n=>{null===n?(0,l.L_)(e):(0,l.Nh)(e,JSON.stringify(n)),function(e){o.forEach((n=>n(e)))}(e)}),[e]);return(0,a.useMemo)((()=>[t(i),r]),[i,r])}const s=2,d=()=>{const[e,n]=r("unauthSavedPins"),i=null!==(l=null==(a=e)?void 0:a.pins)&&void 0!==l?l:[];var a,l;const t=e=>n((e=>e.length?{pins:e}:null)(e)),o=()=>i.length<s;return{pins:i,save:e=>{o()&&t(i.filter((({id:n})=>n!==e.id)).concat([e]))},unsave:e=>t(i.filter((({id:n})=>n!==e))),isSaved:e=>i.some((({id:n})=>n===e)),clear:()=>t([]),canSaveMore:o}}},881802:(e,n,i)=>{i.d(n,{Bb:()=>h,Bx:()=>s,F4:()=>r,OG:()=>t,Qj:()=>d,_6:()=>g,gv:()=>o,hg:()=>c,is:()=>m,jP:()=>_,lt:()=>l,oM:()=>u,wI:()=>p});var a=i(826067);const l=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),t=e=>e.pathname,o=({firstName:e,i18n:n})=>e?(n._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):n._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),r=e=>{const n=(0,a.mB)(e.search).board_url;if(n){const e=(0,a.Jx)(n),i=(0,a.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},s=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{const n=e.pathname;if(n.startsWith("/pin/")){const e=n.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return n},c=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),u=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),p=e=>{const n=e.pathname;if(n.startsWith("/pin/")){const e=n.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return n},m=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),_=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),g=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),h=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},177891:(e,n,i)=>{i.d(n,{a:()=>a,k:()=>l});const a=e=>({type:"ONE_TAP_SAVE",payload:e}),l=e=>({type:"ONE_TAP_UNSAVE",payload:e})},977734:(e,n,i)=>{i.d(n,{Z:()=>o});var a=i(214494),l=i(723852),t=i(675752);function o({history:e,i18n:n,logContextEvent:i,onSuccess:o,onUndo:r,originalPinId:s,pinId:d,trackingParams:c,disableRepinAnimation:u,showNewUserSavetoProfileAnimation:p,showRepinConfirmation:m,historyPush:_,savePinId:g}){return(h,y)=>{const{pins:v,session:f}=y(),{userId:b}=f,x=v[d],k={name:n._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.'),layout:"quick_saves",protected:!1,return_existing:!0,user_id:b};return a.Z.create("BoardResource",k).callCreate().then((a=>{var y;const v=a.resource_response.data;return new l.Z({boardId:v.id,dispatch:h,isQuickSave:!0,history:e,i18n:n,onSuccess:o,onUndo:r,originalPinId:s,pinId:d,section:void 0,showNewUserSavetoProfileAnimation:p,showRepinToasts:e=>m?m(e,u):void 0,trackingParams:c,userId:f.userId,historyPush:_,savePinId:g,pinData:{trackingParams:x?x.tracking_params:void 0,viewParameter:x?(0,t.A)(x):void 0,pinnedToBoardId:x?null===(y=x.pinned_to_board)||void 0===y?void 0:y.id:void 0}}).processRepin(i)}))}}},248299:(e,n,i)=>{i.d(n,{Z:()=>r});var a=i(883119),l=i(898781),t=i(166300),o=i(785893);function r({isPinRep:e}){const n=(0,l.ZP)(),i=e?"default":"inverse",r=(0,o.jsx)(a.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,o.jsx)(a.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,o.jsxs)(a.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(a.xu,{paddingY:4,children:(0,o.jsx)(a.JO,{accessibilityLabel:n._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:i,icon:"alert",size:20})}),(0,o.jsx)(a.xv,{align:"center",color:i,weight:"bold",children:n._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,o.jsx)(a.xu,{paddingY:1,children:(0,o.jsx)(a.xv,{align:"center",color:i,children:n._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?r:(0,o.jsx)(a.xu,{height:"100vh",children:(0,o.jsx)(t.Z,{children:r})})}},430235:(e,n,i)=>{i.d(n,{Z:()=>R});var a,l=i(667294),t=i(167912),o=i(616550),r=i(883119),s=i(407043),d=i(898781),c=i(349700),u=i(248975),p=i(958007),m=i(623568),_=i(992750),g=i(773285),h=i(780280),y=i(862628),v=i(667679),f=i(867820),b=i(759177),x=i(920085),k=i(62409),P=i(350118),w=i(862193),S=i(785893);const T=250,I=({children:e,onTap:n})=>{const[i,a]=(0,l.useState)(!1);return(0,S.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,S.jsx)(r.iP,{onTap:n,onBlur:()=>a(!1),onFocus:()=>a(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:e})})},j=void 0!==a?a:a=i(12617),D=({i18n:e,pinId:n,showSignupModal:i,attributionLabelSource:a,downloadExpName:l,dwebDownloadInContextMenusGroup:t})=>(0,S.jsx)(I,{onTap:()=>{(0,f.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:a,downloadExpName:l,dwebDownloadInContextMenusGroup:t}),i({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${a}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:n}}})},children:(0,S.jsx)(r.xv,{size:"200",weight:"bold",children:e._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})},"SaveMenuItem"),A=({i18n:e,pinTitle:n,pinDescription:i,pinId:a,bestPinImgSrc:l,attributionLabelSource:t,logContextEvent:o,pinCategory:s,downloadExpName:d,dwebDownloadInContextMenusGroup:c})=>(0,S.jsx)(I,{onTap:()=>{(0,f.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:t,downloadExpName:d,dwebDownloadInContextMenusGroup:c}),(0,x.Z)({filename:n||i||a,imgSrc:l||"",category:s,pinId:a,isUnauth:!0,platform:"mweb"},o)},children:(0,S.jsx)(r.xv,{size:"200",weight:"bold",children:e._('Download image', 'Button to download Pin image', 'Button to download Pin image')})},"DownloadMenuItem"),C=({pinId:e,pinLink:n,fromEllipsisButton:i,attributionLabelSource:a,showSignupModal:l,i18n:t,downloadExpName:o,dwebDownloadInContextMenusGroup:s})=>(0,S.jsx)(I,{onTap:()=>{(0,f.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:a,downloadExpName:o,dwebDownloadInContextMenusGroup:s}),window.open(i?n:`/pin/${e}/`),i||l({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},children:(0,S.jsx)(r.xv,{size:"200",weight:"bold",children:t._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})},"NewTabMenuItem"),L=({history:e,levelOneInterestUrl:n,searchUrl:i,levelOneInterestName:a,i18n:l,interestTag:t,attributionLabelSource:o,downloadExpName:s,dwebDownloadInContextMenusGroup:d})=>(0,S.jsx)(I,{onTap:()=>{(0,f.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:o,downloadExpName:s,dwebDownloadInContextMenusGroup:d}),n?e.push(`${n}`):e.push(i)},children:a?(0,S.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(l._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:a})}):(0,S.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(l._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:t})})},"MoreInterestsMenuItem"),F=({history:e,sourceUserUsername:n,sourceUserFullname:i,i18n:a,attributionLabelSource:l,downloadExpName:t,dwebDownloadInContextMenusGroup:o})=>(0,S.jsx)(I,{onTap:()=>{(0,f.My)("dweb.unauth.context_menu.more_from_creator",{attributionLabelSource:l,downloadExpName:t,dwebDownloadInContextMenusGroup:o}),e.push(`/${n}/`)},children:(0,S.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(a._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:i})})},"MoreFromCreatorMenuItem"),z=({attributionLabelSource:e,showSignupModal:n,i18n:i,downloadExpName:a,dwebDownloadInContextMenusGroup:t})=>(0,S.jsx)(l.Fragment,{children:(0,S.jsx)(I,{onTap:()=>{(0,f.My)("dweb.unauth.context_menu.login_signup",{attributionLabelSource:e,downloadExpName:a,dwebDownloadInContextMenusGroup:t}),n({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${e}_signup_or_login_button`,desktopOptions:{modalType:"login"}})},children:(0,S.jsx)(r.xv,{size:"200",weight:"bold",children:i._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})},"LoginSignupMenuItem"),M=({attributionLabelSource:e,reportLink:n,i18n:i,downloadExpName:a,dwebDownloadInContextMenusGroup:t})=>(0,S.jsx)(l.Fragment,{children:(0,S.jsx)(I,{onTap:()=>{(0,f.My)("dweb.unauth.context_menu.report_pin_netzdg",{attributionLabelSource:e,downloadExpName:a,dwebDownloadInContextMenusGroup:t}),window.open(n,"_blank")},children:(0,S.jsx)(r.xv,{size:"200",weight:"bold",children:i._('Report Pin for NetzDG', 'dweb.unauth.context_menu.link.report_pin_netzdg', 'Button to report Pin for NetzDG violation')})})},"ReportForNetzDGMenuItem");function U({desktopContextMenuState:e,isMainPinImage:n,source:i,images:a,embedSrc:l,embedType:t,sourceUserUsername:c,sourceUserFullname:p,pinJoinVisualAnnotation:m,pinJoinSeoBreadcrumbName:_,pinJoinSeoBreadcrumbUrl:f,pinId:b,pinLink:x,pinTitle:k,pinDescription:P,pinCategory:w,pinEligibleForDownload:I}){var j;const U=(0,d.ZP)(),K=(0,o.useHistory)(),{logContextEvent:Z}=(0,s.v)(),{countryFromIp:R}=(0,h.B)(),N=(0,u.Z)({images:a,embedSrc:l,embedType:t}),B=_,E=f,O=null!==(j=null==m?void 0:m[0])&&void 0!==j?j:void 0,q=(0,y.Z)(O),G=`/search/pins/?q=${encodeURIComponent(q)}&rs=image_only_attribution`,W=(0,v.Z)(),H="dweb.plp.ellipsis.button"===i,V="DE"===R,{checkExperiment:$}=(0,g.F)();if(!N)return null;const J=(0,u.Z)({images:a,embedSrc:l,embedType:t});let Y="related_pin_right_click";H?Y="action_bar_ellipsis":n&&(Y="right_click");let Q="dweb_download_in_context_menus";["action_bar_ellipsis","right_click"].includes(Y)&&(Q="dweb_download_in_context_menus_closeup");const{group:X}=I?$(Q):{group:""},ee=X.split("_").pop(),ne=ee?parseInt(ee,10)-1:NaN,ie=[{component:()=>D({i18n:U,pinId:b,showSignupModal:W,attributionLabelSource:Y,downloadExpName:Q,dwebDownloadInContextMenusGroup:X})},{component:()=>!(n||H&&!x)&&C({i18n:U,pinId:b,pinLink:x,fromEllipsisButton:H,showSignupModal:W,attributionLabelSource:Y,downloadExpName:Q,dwebDownloadInContextMenusGroup:X})},{component:()=>!!(O||B&&E)&&L({history:K,levelOneInterestUrl:E,searchUrl:G,levelOneInterestName:B,i18n:U,interestTag:O,attributionLabelSource:Y,downloadExpName:Q,dwebDownloadInContextMenusGroup:X})},{component:()=>!(!p||!c)&&F({history:K,sourceUserUsername:c,sourceUserFullname:p,i18n:U,attributionLabelSource:Y,downloadExpName:Q,dwebDownloadInContextMenusGroup:X})},{component:()=>!$("dweb_remove_login_signup_options_from_context_menus").anyEnabled&&z({showSignupModal:W,i18n:U,attributionLabelSource:Y,downloadExpName:Q,dwebDownloadInContextMenusGroup:X})},{component:()=>V&&$("lop_netzdg_launch").anyEnabled&&M({reportLink:`https://www.pinterest.com/about/netzdg/?pinId=${b}`,i18n:U,attributionLabelSource:Y,downloadExpName:Q,dwebDownloadInContextMenusGroup:X})}].map((({component:e})=>e())).filter((e=>!!e));return Number.isNaN(ne)||ie.splice(ne,0,A({i18n:U,pinTitle:k,pinDescription:P,pinId:b,bestPinImgSrc:J,attributionLabelSource:Y,logContextEvent:Z,pinCategory:w,downloadExpName:Q,dwebDownloadInContextMenusGroup:X})),(0,S.jsxs)(r.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},zIndex:new r.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:T,children:[(0,S.jsx)(r.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,S.jsx)(r.JO,{icon:"pinterest",accessibilityLabel:U._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),ie]})}function K({graphqlRef:e,pinId:n,useNativeCreatorAsPinner:i,...a}){var l,o,r,s,d,c,u,g,h,y,v,f,x,k,P;const T=(0,t.useFragment)(j,e),I=(0,m.hy)(null==T?void 0:T.storyPinDataId),D=Boolean(null==T||null===(l=T.videos)||void 0===l?void 0:l.videoList),A=null==T?void 0:T.isUnsafe,C=!I&&!D&&!A,L=(0,b.Z)(T);let F;var z,M;(F=null!=T&&T.nativeCreator?T.nativeCreator:null!=T&&T.linkDomain?T.linkDomain.officialUser:(null==T?void 0:T.originPinner)||(null==T?void 0:T.pinner),F)||(F=null!==(z=null==T||null===(M=T.linkDomain)||void 0===M?void 0:M.officialUser)&&void 0!==z?z:null==T?void 0:T.pinner);const K=(0,w.Z)(T),Z=null==T?void 0:T.title,R=null==T?void 0:T.description,N=null==T?void 0:T.gridTitle,B=null!==(o=null==T||null===(r=T.richSummary)||void 0===r?void 0:r.displayName)&&void 0!==o?o:"",E=null!==(s=null==T||null===(d=T.richMetadata)||void 0===d?void 0:d.title)&&void 0!==s?s:"",O=null!==(c=null==T||null===(u=T.richMetadata)||void 0===u?void 0:u.description)&&void 0!==c?c:"",q=null==T?void 0:T.storyPinDataId,G=null==T||null===(g=T.storyPinData)||void 0===g||null===(h=g.metadata)||void 0===h?void 0:h.pinTitle,W=(null==T||null===(y=T.pinJoin)||void 0===y?void 0:y.visualAnnotation)||void 0,H=K||void 0,V=null==T?void 0:T.closeupDescription,$=null==T?void 0:T.closeupUnifiedDescription,J=(null==T?void 0:T.category)||"",Y=(0,_.Ly)({pinTitle:Z,gridTitle:N,richSummaryDisplayName:B,richMetadataTitle:E,storyPinDataId:q,storyPinDataMetadataPinTitle:G,pinJoinVisualAnnotation:W,pinJoinAnnotationsWithLinks:H}),Q=(0,p.Z)({storyPinDataId:q,pinDescription:R,richMetadataDescription:O,richSummaryDisplayName:B,closeupDescription:V,closeupUnifiedDescription:$});return(0,S.jsx)(U,{...a,embedSrc:(null==T?void 0:T.embed)&&T.embed.src,embedType:(null==T?void 0:T.embed)&&T.embed.type,images:L,sourceUserUsername:null===(v=F)||void 0===v?void 0:v.username,sourceUserFullname:null===(f=F)||void 0===f?void 0:f.fullName,pinJoinVisualAnnotation:null==T||null===(x=T.pinJoin)||void 0===x?void 0:x.visualAnnotation,pinJoinSeoBreadcrumbName:(null==T||null===(k=T.pinJoin)||void 0===k?void 0:k.seoBreadcrumbs)&&(T.pinJoin.seoBreadcrumbs.length>0?T.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==T||null===(P=T.pinJoin)||void 0===P?void 0:P.seoBreadcrumbs)&&(T.pinJoin.seoBreadcrumbs.length>0?T.pinJoin.seoBreadcrumbs[0].url:null),pinId:n,pinTitle:Y,pinDescription:Q,pinCategory:J,pinEligibleForDownload:C})}function Z({graphqlRef:e,pinId:n,useNativeCreatorAsPinner:i,...a}){var l,t,o,r,s,d,c,u,g,h,y,v,f,b,x,w;const T=(0,P.S6)()(n),I=null==T?void 0:T.story_pin_data_id,j=null==T?void 0:T.videos,D=(0,m.hy)(I),A=(0,m.iR)(j),C=null==T?void 0:T.title,L=null==T?void 0:T.description,F=null==T?void 0:T.grid_title,z=null!==(l=null==T||null===(t=T.rich_metadata)||void 0===t?void 0:t.title)&&void 0!==l?l:"",M=null==T?void 0:T.category,K=null==T?void 0:T.images,Z=null!==(o=null==T||null===(r=T.rich_metadata)||void 0===r?void 0:r.description)&&void 0!==o?o:"",R=null!==(s=null==T||null===(d=T.rich_summary)||void 0===d?void 0:d.display_name)&&void 0!==s?s:"",N=null==T?void 0:T.closeup_description,B=null==T?void 0:T.closeup_unified_description,E=null==T||null===(c=T.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,O=null==T||null===(g=T.pin_join)||void 0===g?void 0:g.visual_annotation,q=null==T||null===(h=T.pin_join)||void 0===h?void 0:h.annotations_with_links,G=null==T?void 0:T.is_unsafe,W=!D&&!A&&!G,{link_domain:H,native_creator:V,origin_pinner:$,pinner:J}=T||{};let Y=(0,k.wS)(H,V,$,J);var Q,X;Y||(Y=null!==(Q=null==T||null===(X=T.link_domain)||void 0===X?void 0:X.official_user)&&void 0!==Q?Q:null==T?void 0:T.pinner);const{full_name:ee,username:ne}=null!==(y=Y)&&void 0!==y?y:{},ie=(0,_.Ly)({pinTitle:C,gridTitle:F,richSummaryDisplayName:R,richMetadataTitle:z,storyPinDataId:I,storyPinDataMetadataPinTitle:E,pinJoinVisualAnnotation:O,pinJoinAnnotationsWithLinks:q}),ae=(0,p.Z)({storyPinDataId:I,pinDescription:L,richMetadataDescription:Z,richSummaryDisplayName:R,closeupDescription:N,closeupUnifiedDescription:B});return(0,S.jsx)(U,{...a,embedSrc:null==T||null===(v=T.embed)||void 0===v?void 0:v.src,embedType:null==T||null===(f=T.embed)||void 0===f?void 0:f.type,images:K,sourceUserUsername:ee,sourceUserFullname:ne,pinJoinVisualAnnotation:null==T||null===(b=T.pin_join)||void 0===b?void 0:b.visual_annotation,pinJoinSeoBreadcrumbName:(null==T||null===(x=T.pin_join)||void 0===x?void 0:x.seo_breadcrumbs)&&(T.pin_join.seo_breadcrumbs.length>0?T.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==T||null===(w=T.pin_join)||void 0===w?void 0:w.seo_breadcrumbs)&&(T.pin_join.seo_breadcrumbs.length>0?T.pin_join.seo_breadcrumbs[0].url:null),pinId:n,pinTitle:ie,pinDescription:ae,pinCategory:M,pinEligibleForDownload:W})}function R(e){return e.graphqlRef?(0,S.jsx)(K,{...e}):(0,S.jsx)(Z,{...e})}},862193:(e,n,i)=>{i.d(n,{Z:()=>r});var a,l=i(667294),t=i(167912);const o=void 0!==a?a:a=i(569772),r=e=>{var n;const i=(0,t.useFragment)(o,e),a=null==i||null===(n=i.pinJoin)||void 0===n?void 0:n.annotationsWithLinksArray;return(0,l.useMemo)((()=>null==a?void 0:a.reduce(((e,{name:n,url:i})=>n?{...e,[n]:{name:n,url:i}}:e),{})),[a])}},865673:(e,n,i)=>{i.d(n,{Z:()=>r});var a=i(667294),l=i(883119),t=i(512176),o=i(785893);const r=function({badgeSize:e,badgeSpacing:n,fullName:i,verifiedType:r,truncate:s=!1}){const d=i.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,o.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,o.jsx)(l.xv,{lineClamp:1,weight:"bold",children:i}),(0,o.jsx)(l.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:n}},paddingX:1,children:(0,o.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===r,size:e,showVerifiedIdentity:"verifiedIdentity"===r})})]}):(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)("span",{children:c}),(0,o.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,o.jsx)(l.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:n}},children:(0,o.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===r,size:e,showVerifiedIdentity:"verifiedIdentity"===r})})]})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/20946-0eca4d18d996e8be.mjs.map